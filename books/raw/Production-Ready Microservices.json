{
  "metadata": {
    "title": "Production-Ready Microservices",
    "author": "Susan J. Fowler",
    "publisher": "Unknown Publisher",
    "edition": "1st Edition",
    "isbn": "",
    "total_pages": 342,
    "conversion_date": "2025-12-19T17:42:24.292769",
    "conversion_method": "PyMuPDF + OCR fallback",
    "source_pdf": "Production-Ready Microservices.pdf",
    "extraction_method": "Unstructured"
  },
  "chapters": [
    {
      "number": 1,
      "title": "Microservices",
      "start_page": 18,
      "end_page": 51,
      "detection_method": "regex_chapter_title",
      "content": "From\tMonoliths\tto\tMicroservices Almost\tevery\tsoftware\tapplication\twritten\ttoday\tcan\tbe\tbroken\tinto\tthree\tdistinct elements:\ta\tfrontend\t(or\tclient-side)\tpiece,\ta\tbackend\tpiece,\tand\tsome\ttype\tof datastore\t(Figure\t1-1).\tRequests\tare\tmade\tto\tthe\tapplication\tthrough\tthe\tclient- side\tpiece,\tthe\tbackend\tcode\tdoes\tall\tthe\theavy\tlifting,\tand\tany\trelevant\tdata\tthat needs\tto\tbe\tstored\tor\taccessed\t(whether\ttemporarily\tin\tmemory\tof\tpermanently in\ta\tdatabase)\tis\tsent\tto\tor\tretrieved\tfrom\twherever\tthe\tdata\tis\tstored.\tWe’ll\tcall this\tthe\tthree-tier\tarchitecture.\n\nFigure\t1-1.\tThree-tier\tarchitecture\n\nThere\tare\tthree\tdifferent\tways\tthese\telements\tcan\tbe\tcombined\tto\tmake\tan application.\tMost\tapplications\tput\tthe\tfirst\ttwo\tpieces\tinto\tone\tcodebase\t(or repository),\twhere\tall\tclient-side\tand\tbackend\tcode\tare\tstored\tand\trun\tas\tone executable\tfile,\twith\ta\tseparate\tdatabase.\tOthers\tseparate\tout\tall\tfrontend,\tclient- side\tcode\tfrom\tthe\tbackend\tcode\tand\tstore\tthem\tas\tseparate\tlogical\texecutables, accompanied\tby\tan\texternal\tdatabase.\tApplications\tthat\tdon’t\trequire\tan\texternal database\tand\tstore\tall\tdata\tin\tmemory\ttend\tto\tcombine\tall\tthree\telements\tinto one\trepository.\tRegardless\tof\tthe\tway\tthese\telements\tare\tdivided\tor\tcombined, the\tapplication\titself\tis\tconsidered\tto\tbe\tthe\tsum\tof\tthese\tthree\tdistinct\telements.\n\nApplications\tare\tusually\tarchitected,\tbuilt,\tand\trun\tthis\tway\tfrom\tthe\tbeginning of\ttheir\tlifecycles,\tand\tthe\tarchitecture\tof\tthe\tapplication\tis\ttypically\tindependent of\tthe\tproduct\toffered\tby\tthe\tcompany\tor\tthe\tpurpose\tof\tthe\tapplication\titself. These\tthree\tarchitectural\telements\tthat\tcomprise\tthe\tthree-tier\tarchitecture\tare present\tin\tevery\twebsite,\tevery\tphone\tapplication,\tevery\tbackend\tand\tfrontend and\tstrange\tenormous\tenterprise\tapplication,\tand\tare\tfound\tas\tone\tof\tthe permutations\tdescribed.\n\nIn\tthe\tearly\tstages,\twhen\ta\tcompany\tis\tyoung,\tits\tapplication(s)\tsimple,\tand\tthe\n\nIn\tthe\tearly\tstages,\twhen\ta\tcompany\tis\tyoung,\tits\tapplication(s)\tsimple,\tand\tthe number\tof\tdevelopers\tcontributing\tto\tthe\tcodebase\tis\tsmall,\tdevelopers\ttypically share\tthe\tburden\tof\tcontributing\tto\tand\tmaintaining\tthe\tcodebase.\tAs\tthe company\tgrows,\tmore\tdevelopers\tare\thired,\tnew\tfeatures\tare\tadded\tto\tthe application,\tand\tthree\tsignificant\tthings\thappen.\n\nFirst\tcomes\tan\tincrease\tin\tthe\toperational\tworkload.\tOperational\twork\tis, generally\tspeaking,\tthe\twork\tassociated\twith\trunning\tand\tmaintaining\tthe application.\tThis\tusually\tleads\tto\tthe\thiring\tof\toperational\tengineers\t(system administrators,\tTechOps\tengineers,\tand\tso-called\t“DevOps”\tengineers)\twho\ttake over\tthe\tmajority\tof\tthe\toperational\ttasks,\tlike\tthose\trelated\tto\thardware, monitoring,\tand\ton\tcall.\n\nThe\tsecond\tthing\tthat\thappens\tis\ta\tresult\tof\tsimple\tmathematics:\tadding\tnew features\tto\tyour\tapplication\tincreases\tboth\tthe\tnumber\tof\tlines\tof\tcode\tin\tyour application\tand\tthe\tcomplexity\tof\tthe\tapplication\titself.\n\nThird\tis\tthe\tnecessary\thorizontal\tand/or\tvertical\tscaling\tof\tthe\tapplication. Increases\tin\ttraffic\tplace\tsignificant\tscalability\tand\tperformance\tdemands\ton\tthe application,\trequiring\tthat\tmore\tservers\thost\tthe\tapplication.\tMore\tservers\tare added,\ta\tcopy\tof\tthe\tapplication\tis\tdeployed\tto\teach\tserver,\tand\tload\tbalancers are\tput\tinto\tplace\tso\tthat\tthe\trequests\tare\tdistributed\tappropriately\tamong\tthe servers\thosting\tthe\tapplication\t(see\tFigure\t1-2,\tcontaining\ta\tfrontend\tpiece, which\tmay\tcontain\tits\town\tload-balancing\tlayer,\ta\tbackend\tload-balancing\tlayer, and\tthe\tbackend\tservers).\tVertical\tscaling\tbecomes\ta\tnecessity\tas\tthe\tapplication begins\tprocessing\ta\tlarger\tnumber\tof\ttasks\trelated\tto\tits\tdiverse\tset\tof\tfeatures, so\tthe\tapplication\tis\tdeployed\tto\tlarger,\tmore\tpowerful\tservers\tthat\tcan\thandle CPU\tand\tmemory\tdemands\t(Figure\t1-3).\n\nFigure\t1-2.\tScaling\tan\tapplication\thorizontally\n\nFigure\t1-3.\tScaling\tan\tapplication\tvertically\n\nAs\tthe\tcompany\tgrows,\tand\tthe\tnumber\tof\tengineers\tis\tno\tlonger\tin\tthe\tsingle, double,\tor\teven\ttriple\tdigits,\tthings\tstart\tto\tget\ta\tlittle\tmore\tcomplicated.\tThanks\n\nto\tall\tthe\tfeatures,\tpatches,\tand\tfixes\tadded\tto\tthe\tcodebase\tby\tthe\tdevelopers, the\tapplication\tis\tnow\tthousands\tupon\tthousands\tof\tlines\tlong.\tThe\tcomplexity of\tthe\tapplication\tis\tgrowing\tsteadily,\tand\thundreds\t(if\tnot\tthousands)\tof\ttests must\tbe\twritten\tin\torder\tto\tensure\tthat\tany\tchange\tmade\t(even\ta\tchange\tof\tone or\ttwo\tlines)\tdoesn’t\tcompromise\tthe\tintegrity\tof\tthe\texisting\tthousands\tupon thousands\tof\tlines\tof\tcode.\tDevelopment\tand\tdeployment\tbecome\ta\tnightmare, testing\tbecomes\ta\tburden\tand\ta\tblocker\tto\tthe\tdeployment\tof\teven\tthe\tmost crucial\tfixes,\tand\ttechnical\tdebt\tpiles\tup\tquickly.\tApplications\twhose\tlifecycles fit\tinto\tthis\tpattern\t(for\tbetter\tor\tfor\tworse)\tare\tfondly\t(and\tappropriately) referred\tto\tin\tthe\tsoftware\tcommunity\tas\tmonoliths.\n\nOf\tcourse,\tnot\tall\tmonolithic\tapplications\tare\tbad,\tand\tnot\tevery\tmonolithic application\tsuffers\tfrom\tthe\tproblems\tlisted,\tbut\tmonoliths\tthat\tdon’t\thit\tthese issues\tat\tsome\tpoint\tin\ttheir\tlifecycle\tare\t(in\tmy\texperience)\tpretty\trare.\tThe reason\tmost\tmonoliths\tare\tsusceptible\tto\tthese\tproblems\tis\tbecause\tthe\tnature\tof a\tmonolith\tis\tdirectly\topposed\tto\tscalability\tin\tthe\tmost\tgeneral\tpossible\tsense. Scalability\trequires\tconcurrency\tand\tpartitioning:\tthe\ttwo\tthings\tthat\tare difficult\tto\taccomplish\twith\ta\tmonolith.\n\nSCALING\tAN\tAPPLICATION\n\nLet’s\tbreak\tthis\tdown\ta\tbit.\n\nThe\tgoal\tof\tany\tsoftware\tapplication\tis\tto\tprocess\ttasks\tof\tsome\tsort.\tRegardless\tof\twhat\tthose\ttasks are,\twe\tcan\tmake\ta\tgeneral\tassumption\tabout\thow\twe\twant\tour\tapplication\tto\thandle\tthem:\tit\tneeds to\tprocess\tthem\tefficiently.\n\nTo\tprocess\ttasks\tefficiently,\tour\tapplication\tneeds\tto\thave\tsome\tkind\tof\tconcurrency.\tThis\tmeans that\twe\tcan’t\thave\tjust\tone\tprocess\tthat\tdoes\tall\tthe\twork,\tbecause\tthen\tthat\tprocess\twill\tpick\tup\tone task\tat\ta\ttime,\tcomplete\tall\tthe\tnecessary\tpieces\tof\tit\t(or\tfail!),\tand\tthen\tmove\tonto\tthe\tnext\t—\tthis isn’t\tefficient\tat\tall!\tTo\tmake\tour\tapplication\tefficient,\twe\tcan\tintroduce\tconcurrency\tso\tthat\teach task\tcan\tbe\tbroken\tup\tinto\tsmaller\tpieces.\n\nThe\tsecond\tthing\twe\tcan\tdo\tto\tprocess\ttasks\tefficiently\tis\tto\tdivide\tand\tconquer\tby\tintroducing partitioning,\twhere\teach\ttask\tis\tnot\tonly\tbroken\tup\tinto\tsmall\tpieces\tbut\tcan\tbe\tprocessed\tin\tparallel. If\twe\thave\ta\tbunch\tof\ttasks,\twe\tcan\tprocess\tthem\tall\tat\tthe\tsame\ttime\tby\tsending\tthem\tto\ta\tset\tof workers\tthat\tcan\tprocess\tthem\tin\tparallel.\tIf\twe\tneed\tto\tprocess\tmore\ttasks,\twe\tcan\teasily\tscale\twith the\tdemand\tby\tadding\tadditional\tworkers\tto\tprocess\tthe\tnew\ttasks\twithout\taffecting\tthe\tefficiency\tof our\tsystem.\n\nConcurrency\tand\tpartitioning\tare\tdifficult\tto\tsupport\twhen\tyou\thave\tone\tlarge\tapplication\tthat\tneeds to\tbe\tdeployed\tto\tevery\tserver,\twhich\tneeds\tto\tprocess\tany\ttype\tof\ttask.\tIf\tyour\tapplication\tis\teven the\tslightest\tbit\tcomplicated,\tthe\tonly\tway\tyou\tcan\tscale\tit\twith\ta\tgrowing\tlist\tof\tfeatures\tand increasing\ttraffic\tis\tto\tscale\tup\tthe\thardware\tthat\tthe\tapplication\tis\tdeployed\tto.\n\nTo\tbe\ttruly\tefficient,\tthe\tbest\tway\tto\tscale\tan\tapplication\tis\tto\tbreak\tit\tinto\tmany\tsmall,\tindependent applications\tthat\teach\tdo\tone\ttype\tof\ttask.\tNeed\tto\tadd\tanother\tstep\tto\tthe\toverall\tprocess?\tEasy\n\nenough:\tjust\tmake\ta\tnew\tapplication\tthat\tonly\tdoes\tthat\tstep!\tNeed\tto\thandle\tmore\ttraffic?\tSimple: add\tmore\tworkers\tto\teach\tapplication!\n\nConcurrency\tand\tpartitioning\tare\tdifficult\tto\tsupport\tin\ta\tmonolithic\tapplication,\twhich\tprevents monolithic\tapplication\tarchitecture\tfrom\tbeing\tas\tefficient\tas\twe\tneed\tit\tto\tbe.\n\nWe’ve\tseen\tthis\tpattern\temerge\tat\tcompanies\tlike\tAmazon,\tTwitter,\tNetflix, eBay,\tand\tUber:\tcompanies\tthat\trun\tapplications\tacross\tnot\thundreds,\tbut thousands,\teven\thundreds\tof\tthousands\tof\tservers\tand\twhose\tapplications\thave evolved\tinto\tmonoliths\tand\thit\tscalability\tchallenges.\tThe\tchallenges\tthey\tfaced were\tremedied\tby\tabandoning\tmonolithic\tapplication\tarchitecture\tin\tfavor\tof microservices.\n\nThe\tbasic\tconcept\tof\ta\tmicroservice\tis\tsimple:\tit’s\ta\tsmall\tapplication\tthat\tdoes one\tthing\tonly,\tand\tdoes\tthat\tone\tthing\twell.\tA\tmicroservice\tis\ta\tsmall component\tthat\tis\teasily\treplaceable,\tindependently\tdeveloped,\tand independently\tdeployable.\tA\tmicroservice\tcannot\tlive\talone,\thowever\t—\tno microservice\tis\tan\tisland\t—\tand\tit\tis\tpart\tof\ta\tlarger\tsystem,\trunning\tand working\talongside\tother\tmicroservices\tto\taccomplish\twhat\twould\tnormally\tbe handled\tby\tone\tlarge\tstandalone\tapplication.\n\nThe\tgoal\tof\tmicroservice\tarchitecture\tis\tto\tbuild\ta\tset\tof\tsmall\tapplications\tthat are\teach\tresponsible\tfor\tperforming\tone\tfunction\t(as\topposed\tto\tthe\ttraditional way\tof\tbuilding\tone\tapplication\tthat\tdoes\teverything),\tand\tto\tlet\teach microservice\tbe\tautonomous,\tindependent,\tand\tself-contained.\tThe\tcore difference\tbetween\ta\tmonolithic\tapplication\tand\tmicroservices\tis\tthis:\ta monolithic\tapplication\t(Figure\t1-4)\twill\tcontain\tall\tfeatures\tand\tfunctions\twithin one\tapplication\tand\tone\tcodebase,\tall\tdeployed\tat\tthe\tsame\ttime,\twith\teach server\thosting\ta\tcomplete\tcopy\tof\tthe\tentire\tapplication,\twhile\ta\tmicroservice (Figure\t1-5)\tcontains\tonly\tone\tfunction\tor\tfeature\tand\tlives\tin\ta\tmicroservice ecosystem\talong\twith\tother\tmicroservices\tthat\teach\tperform\tone\tfunction\tor feature.\n\nFigure\t1-4.\tMonolith\n\nFigure\t1-5.\tMicroservices\n\nThere\tare\tnumerous\tbenefits\tto\tadopting\tmicroservice\tarchitecture\t—\tincluding (but\tnot\tlimited\tto)\treduced\ttechnical\tdebt,\timproved\tdeveloper\tproductivity\tand velocity,\tbetter\ttesting\tefficiency,\tincreased\tscalability,\tand\tease\tof\tdeployment\n\n—\tand\tcompanies\tthat\tadopt\tmicroservice\tarchitecture\tusually\tdo\tso\tafter\thaving built\tone\tapplication\tand\thitting\tscalability\tand\torganizational\tchallenges.\tThey begin\twith\ta\tmonolithic\tapplication\tand\tthen\tsplit\tthe\tmonolith\tinto microservices.\n\nThe\tdifficulties\tof\tsplitting\ta\tmonolith\tinto\tmicroservices\tdepend\tentirely\ton\tthe complexity\tof\tthe\tmonolithic\tapplication.\tA\tmonolithic\tapplication\twith\tmany features\twill\ttake\ta\tgreat\tdeal\tof\tarchitectural\teffort\tand\tcareful\tdeliberation\tto successfully\tbreak\tup\tinto\tmicroservices,\tand\tadditional\tcomplexity\tis introduced\tby\tthe\tneed\tto\treorganize\tand\trestructure\tteams.\tThe\tdecision\tto move\tto\tmicroservices\tmust\talways\tbecome\ta\tcompany-wide\teffort.\n\nThere\tare\tseveral\tsteps\tin\tbreaking\tapart\ta\tmonolith.\tThe\tfirst\tis\tto\tidentify\tthe components\tthat\tshould\tbe\twritten\tas\tindependent\tservices.\tThis\tis\tperhaps\tthe most\tdifficult\tstep\tin\tthe\tentire\tprocess,\tbecause\twhile\tthere\tmay\tbe\ta\tnumber\tof right\tways\tto\tsplit\tthe\tmonolith\tinto\tcomponent\tservices,\tthere\tare\tfar\tmore wrong\tways.\tThe\trule\tof\tthumb\tin\tidentifying\tcomponents\tis\tto\tpinpoint\tkey overall\tfunctionalities\tof\tthe\tmonolith,\tthen\tsplit\tthose\tfunctionalities\tinto\tsmall independent\tcomponents.\tMicroservices\tmust\tbe\tas\tsimple\tas\tpossible\tor\telse\tthe company\twill\trisk\tthe\tpossibility\tof\treplacing\tone\tmonolith\twith\tseveral\tsmaller monoliths,\twhich\twill\tall\tsuffer\tthe\tsame\tproblems\tas\tthe\tcompany\tgrows.\n\nOnce\tthe\tkey\tfunctions\thave\tbeen\tidentified\tand\tproperly\tcomponentized\tinto independent\tmicroservices,\tthe\torganizational\tstructure\tof\tthe\tcompany\tmust\tbe restructured\tso\tthat\teach\tmicroservice\tis\tstaffed\tby\tan\tengineering\tteam.\tThere are\tseveral\tways\tto\tdo\tthis.\tThe\tfirst\tmethod\tof\tcompany\treorganization\taround microservice\tadoption\tis\tto\tdedicate\tone\tteam\tto\teach\tmicroservice.\tThe\tsize\tof the\tteam\twill\tbe\tdetermined\tcompletely\tby\tthe\tcomplexity\tand\tworkload\tof\tthe microservice\tand\tshould\tbe\tstaffed\tby\tenough\tdevelopers\tand\tsite\treliability engineers\tso\tthat\tboth\tfeature\tdevelopment\tand\tthe\ton-call\trotation\tof\tthe\tservice can\tbe\tmanaged\twithout\tburdening\tthe\tteam.\tThe\tsecond\tis\tto\tassign\tseveral services\tto\tone\tteam\tand\thave\tthat\tteam\tdevelop\tthe\tservices\tin\tparallel.\tThis works\tbest\twhen\tthe\tteams\tare\torganized\taround\tspecific\tproducts\tor\tbusiness domains,\tand\tare\tresponsible\tfor\tdeveloping\tany\tservices\trelated\tto\tthose products\tor\tdomains.\tIf\ta\tcompany\tchooses\tthe\tsecond\tmethod\tof\treorganization, it\tneeds\tto\tmake\tsure\tthat\tdevelopers\taren’t\toverworked\tand\tdon’t\tface\ttask, outage,\tor\toperational\tfatigue.\n\nAnother\timportant\tpart\tof\tmicroservice\tadoption\tis\tthe\tcreation\tof\ta microservice\tecosystem.\tTypically\t(or,\tat\tleast,\thopefully),\ta\tcompany\trunning\ta large\tmonolithic\tapplication\twill\thave\ta\tdedicated\tinfrastructure\torganization\n\nthat\tis\tresponsible\tfor\tdesigning,\tbuilding,\tand\tmaintaining\tthe\tinfrastructure\tthat the\tapplication\truns\ton.\tWhen\ta\tmonolith\tis\tsplit\tinto\tmicroservices,\tthe responsibilities\tof\tthe\tinfrastructure\torganization\tfor\tproviding\ta\tstable\tplatform for\tmicroservices\tto\tbe\tdeveloped\tand\trun\ton\tgrows\tdrastically\tin\timportance. The\tinfrastructure\tteams\tmust\tprovide\tmicroservice\tteams\twith\tstable infrastructure\tthat\tabstracts\taway\tthe\tmajority\tof\tthe\tcomplexity\tof\tthe interactions\tbetween\tmicroservices.\n\nOnce\tthese\tthree\tsteps\thave\tbeen\tcompleted\t—\tthe\tcomponentization\tof\tthe application,\tthe\trestructuring\tof\tengineering\tteams\tto\tstaff\teach\tmicroservice, and\tthe\tdevelopment\tof\tthe\tinfrastructure\torganization\twithin\tthe\tcompany\t— the\tmigration\tcan\tbegin.\tSome\tteams\tchoose\tto\tpull\tthe\trelevant\tcode\tfor\ttheir microservice\tdirectly\tfrom\tthe\tmonolith\tand\tinto\ta\tseparate\tservice,\tand\tshadow the\tmonolith’s\ttraffic\tuntil\tthey\tare\tconvinced\tthat\tthe\tmicroservice\tcan\tperform the\tdesired\tfunctionality\ton\tits\town.\tOther\tteams\tchoose\tto\tbuild\tthe\tservice from\tscratch,\tstarting\twith\ta\tclean\tslate,\tand\tshadow\ttraffic\tor\tredirect\tafter\tthe service\thas\tpassed\tappropriate\ttests.\tThe\tbest\tapproach\tto\tmigration\tdepends\ton the\tfunctionality\tof\tthe\tmicroservice,\tand\tI\thave\tseen\tboth\tapproaches\twork equally\twell\tin\tmost\tcases,\tbut\tthe\treal\tkey\tto\ta\tsuccessful\tmigration\tis\tthorough, careful,\tpainstakingly\tdocumented\tplanning\tand\texecution,\talong\twith\tthe realization\tthat\ta\tcomplete\tmigration\tof\ta\tlarge\tmonolith\tcan\ttake\tseveral\tlong years.\n\nWith\tall\tthe\twork\tinvolved\tin\tsplitting\ta\tmonolith\tinto\tmicroservices,\tit\tmay seem\tbetter\tto\tbegin\twith\tmicroservice\tarchitecture,\tskip\tall\tof\tthe\tpainful scalability\tchallenges,\tand\tavoid\tthe\tmicroservice\tmigration\tdrama.\tThis approach\tmay\tturn\tout\tall\tright\tfor\tsome\tcompanies,\tbut\tI\twant\tto\toffer\tseveral words\tof\tcaution.\tSmall\tcompanies\toften\tdo\tnot\thave\tthe\tnecessary infrastructure\tin\tplace\tto\tsustain\tmicroservices,\teven\tat\ta\tvery\tsmall\tscale:\tgood microservice\tarchitecture\trequires\tstable,\toften\tvery\tcomplex,\tinfrastructure. Such\tstable\tinfrastructure\trequires\ta\tlarge,\tdedicated\tteam\twhose\tcost\tcan typically\tbe\tsustained\tonly\tby\tcompanies\tthat\thave\treached\tthe\tscalability challenges\tthat\tjustify\tthe\tmove\tto\tmicroservice\tarchitecture.\tSmall\tcompanies simply\twill\tnot\thave\tenough\toperational\tcapacity\tto\tmaintain\ta\tmicroservice ecosystem.\tFurthermore,\tit’s\textraordinarily\tdifficult\tto\tidentify\tkey\tareas\tand components\tto\tbuild\tinto\tmicroservices\twhen\ta\tcompany\tis\tin\tthe\tearly\tstages: applications\tat\tnew\tcompanies\twill\tnot\thave\tmany\tfeatures,\tnor\tmany\tseparate areas\tof\tfunctionality\tthat\tcan\tbe\tsplit\tappropriately\tinto\tmicroservices.\n\nMicroservice\tArchitecture The\tarchitecture\tof\ta\tmicroservice\t(Figure\t1-6)\tis\tnot\tvery\tdifferent\tfrom\tthe standard\tapplication\tarchitecture\tcovered\tin\tthe\tfirst\tsection\tof\tthis\tchapter (Figure\t1-1).\tEach\tand\tevery\tmicroservice\twill\thave\tthree\tcomponents:\ta frontend\t(client-side)\tpiece,\tsome\tbackend\tcode\tthat\tdoes\tthe\theavy\tlifting,\tand\ta way\tto\tstore\tor\tretrieve\tany\trelevant\tdata.\n\nThe\tfrontend,\tclient-side\tpiece\tof\ta\tmicroservice\tis\tnot\tyour\ttypical\tfrontend application,\tbut\trather\tan\tapplication\tprogramming\tinterface\t(API)\twith\tstatic endpoints.\tWell-designed\tmicroservice\tAPIs\tallow\tmicroservices\tto\teasily\tand effectively\tinteract,\tsending\trequests\tto\tthe\trelevant\tAPI\tendpoint(s).\tFor example,\ta\tmicroservice\tthat\tis\tresponsible\tfor\tcustomer\tdata\tmight\thave\ta get_customer_information\tendpoint\tthat\tother\tservices\tcould\tsend\trequests\tto\tin order\tto\tretrieve\tinformation\tabout\tcustomers,\tan\tupdate_customer_information endpoint\tthat\tother\tservices\tcould\tsend\trequests\tto\tin\torder\tto\tupdate\tthe information\tfor\ta\tspecific\tcustomer,\tand\ta\tdelete_customer_information endpoint\tthat\tservices\tcould\tuse\tto\tdelete\ta\tcustomer’s\tinformation.\n\nFigure\t1-6.\tElements\tof\tmicroservice\tarchitecture\n\nThese\tendpoints\tare\tseparated\tout\tin\tarchitecture\tand\ttheory\talone,\tnot\tin practice,\tfor\tthey\tlive\talongside\tand\tas\tpart\tof\tall\tthe\tbackend\tcode\tthat processes\tevery\trequest.\tFor\tour\texample\tmicroservice\tthat\tis\tresponsible\tfor customer\tdata,\ta\trequest\tsent\tto\tthe\tget_customer_information\tendpoint\twould\n\ntrigger\ta\ttask\tthat\twould\tprocess\tthe\tincoming\trequest,\tdetermine\tany\tspecific filters\tor\toptions\tthat\twere\tapplied\tin\tthe\trequest,\tretrieve\tthe\tinformation\tfrom\ta database,\tformat\tthe\tinformation,\tand\treturn\tit\tto\tthe\tclient\t(microservice)\tthat requested\tit.\n\nMost\tmicroservices\twill\tstore\tsome\ttype\tof\tdata,\twhether\tin\tmemory\t(perhaps using\ta\tcache)\tor\tan\texternal\tdatabase.\tIf\tthe\trelevant\tdata\tis\tstored\tin\tmemory, there’s\tno\tneed\tto\tmake\tan\textra\tnetwork\tcall\tto\tan\texternal\tdatabase,\tand\tthe microservice\tcan\teasily\treturn\tany\trelevant\tdata\tto\ta\tclient.\tIf\tthe\tdata\tis\tstored\tin an\texternal\tdatabase,\tthe\tmicroservice\twill\tneed\tto\tmake\tanother\trequest\tto\tthe database,\twait\tfor\ta\tresponse,\tand\tthen\tcontinue\tto\tprocess\tthe\ttask.\n\nThis\tarchitecture\tis\tnecessary\tif\tmicroservices\tare\tto\twork\twell\ttogether.\tThe microservice\tarchitecture\tparadigm\trequires\tthat\ta\tset\tof\tmicroservices\twork together\tto\tmake\tup\twhat\twould\totherwise\texist\tas\tone\tlarge\tapplication,\tand\tso there\tare\tcertain\telements\tof\tthis\tarchitecture\tthat\tneed\tto\tbe\tstandardized\tacross an\tentire\torganization\tif\ta\tset\tof\tmicroservices\tis\tto\tinteract\tsuccessfully\tand efficiently.\n\nThe\tAPI\tendpoints\tof\tmicroservices\tshould\tbe\tstandardized\tacross\tan organization.\tThat\tis\tnot\tto\tsay\tthat\tall\tmicroservices\tshould\thave\tthe\tsame specific\tendpoints,\tbut\tthat\tthe\ttype\tof\tendpoint\tshould\tbe\tthe\tsame.\tTwo\tvery common\ttypes\tof\tAPI\tendpoints\tfor\tmicroservices\tare\tREST\tor\tApache\tThrift, and\tI’ve\tseen\tsome\tmicroservices\tthat\thave\tboth\ttypes\tof\tendpoints\t(though\tthis is\trare,\tmakes\tmonitoring\trather\tcomplicated,\tand\tI\tdon’t\tparticularly recommend\tit).\tChoice\tof\tendpoint\ttype\tis\treflective\tof\tthe\tinternal\tworkings\tof the\tmicroservice\titself,\tand\twill\talso\tdictate\tits\tarchitecture:\tit’s\tdifficult\tto\tbuild an\tasynchronous\tmicroservice\tthat\tcommunicates\tvia\tHTTP\tover\tREST endpoints,\tfor\texample,\twhich\twould\tnecessitate\tadding\ta\tmessaging-based endpoint\tto\tthe\tservices\tas\twell.\n\nMicroservices\tinteract\twith\teach\tother\tvia\tremote\tprocedure\tcalls\t(RPCs),\twhich are\tcalls\tover\tthe\tnetwork\tdesigned\tto\tlook\tand\tbehave\texactly\tlike\tlocal procedure\tcalls.\tThe\tprotocols\tused\twill\tbe\tdependent\ton\tarchitectural\tchoices and\torganizational\tsupport,\tas\twell\tas\tthe\tendpoints\tused.\tA\tmicroservice\twith REST\tendpoints,\tfor\texample,\twill\tlikely\tinteract\twith\tother\tmicroservices\tvia HTTP,\twhile\ta\tmicroservice\twith\tThrift\tendpoints\tmay\tcommunicate\twith\tother microservices\tover\tHTTP\tor\ta\tmore\tcustomized,\tin-house\tsolution.\n\nAVOID\tVERSIONING\tMICROSERVICES\tAND\tENDPOINTS\n\nA\tmicroservice\tis\tnot\ta\tlibrary\t(it\tis\tnot\tloaded\tinto\tmemory\tat\tcompilation-time\tor\tduring runtime)\tbut\tan\tindependent\tsoftware\tapplication.\tDue\tto\tthe\tfast-paced\tnature\tof\tmicroservice development,\tversioning\tmicroservices\tcan\teasily\tbecome\tan\torganizational\tnightmare,\twith developers\ton\tclient\tservices\tpinning\tspecific\t(outdated,\tunmaintained)\tversions\tof\ta microservice\tin\ttheir\town\tcode.\tMicroservices\tshould\tbe\ttreated\tas\tliving,\tchanging\tthings,\tnot static\treleases\tor\tlibraries.\tVersioning\tof\tAPI\tendpoints\tis\tanother\tanti-pattern\tthat\tshould\tbe avoided\tfor\tthe\tsame\treasons.\n\nAny\ttype\tof\tendpoint\tand\tany\tprotocol\tused\tto\tcommunicate\twith\tother microservices\twill\thave\tbenefits\tand\ttrade-offs.\tThe\tarchitectural\tdecisions\there shouldn’t\tbe\tmade\tby\tthe\tindividual\tdeveloper\twho\tis\tbuilding\ta\tmicroservice, but\tshould\tbe\tpart\tof\tthe\tarchitectural\tdesign\tof\tthe\tmicroservice\tecosystem\tas\ta whole\t(we’ll\tget\tto\tthis\tin\tthe\tnext\tsection).\n\nWriting\ta\tmicroservice\tgives\tthe\tdeveloper\ta\tgreat\tdeal\tof\tfreedom:\taside\tfrom any\torganizational\tchoices\tregarding\tAPI\tendpoints\tand\tcommunication protocols,\tdevelopers\tare\tfree\tto\twrite\tthe\tinternal\tworkings\tof\ttheir\tmicroservice however\tthey\twish.\tIt\tcan\tbe\twritten\tin\tany\tlanguage\twhatsoever\t—\tit\tcan\tbe written\tin\tGo,\tin\tJava,\tin\tErlang,\tin\tHaskell\t—\tas\tlong\tas\tthe\tendpoints\tand communication\tprotocols\tare\ttaken\tcare\tof.\tDeveloping\ta\tmicroservice\tis\tnot\tall that\tdifferent\tfrom\tdeveloping\ta\tstandalone\tapplication.\tThere\tare\tsome\tcaveats to\tthis,\tas\twe\twill\tsee\tin\tthe\tfinal\tsection\tof\tthis\tchapter\t(“Organizational Challenges”),\tbecause\tdeveloper\tfreedom\twith\tregard\tto\tlanguage\tchoice\tcomes at\ta\thefty\tcost\tto\tthe\tengineering\torganization.\n\nIn\tthis\tway,\ta\tmicroservice\tcan\tbe\ttreated\tby\tothers\tas\ta\tblack\tbox:\tyou\tput\tsome information\tin\tby\tsending\ta\trequest\tto\tone\tof\tits\tendpoints,\tand\tyou\tget something\tout.\tIf\tyou\tget\twhat\tyou\twant\tand\tneed\tout\tof\tthe\tmicroservice\tin\ta reasonable\ttime\tand\twithout\tany\tcrazy\terrors,\tit\thas\tdone\tits\tjob,\tand\tthere’s\tno need\tto\tunderstand\tanything\tfurther\tthan\tthe\tendpoints\tyou\tneed\tto\thit\tand whether\tor\tnot\tthe\tservice\tis\tworking\tproperly.\n\nOur\tdiscussion\tof\tthe\tspecifics\tof\tmicroservice\tarchitecture\twill\tend\there\t—\tnot because\tthis\tis\tall\tthere\tis\tto\tmicroservice\tarchitecture,\tbut\tbecause\teach\tof\tthe following\tchapters\twithin\tthis\tbook\tis\tdevoted\tto\tbringing\tmicroservices\tto\tthis ideal\tblack-box\tstate.\n\nThe\tMicroservice\tEcosystem Microservices\tdo\tnot\tlive\tin\tisolation.\tThe\tenvironment\tin\twhich\tmicroservices are\tbuilt,\tare\trun,\tand\tinteract\tis\twhere\tthey\tlive.\tThe\tcomplexities\tof\tthe\tlarge- scale\tmicroservice\tenvironment\tare\ton\tpar\twith\tthe\tecological\tcomplexities\tof\ta rainforest,\ta\tdesert,\tor\tan\tocean,\tand\tconsidering\tthis\tenvironment\tas\tan ecosystem\t—\ta\tmicroservice\tecosystem\t—\tis\tbeneficial\tin\tadopting\tmicroservice architecture.\n\nIn\twell-designed,\tsustainable\tmicroservice\tecosystems,\tthe\tmicroservices\tare abstracted\taway\tfrom\tall\tinfrastructure.\tThey\tare\tabstracted\taway\tfrom\tthe hardware,\tabstracted\taway\tfrom\tthe\tnetworks,\tabstracted\taway\tfrom\tthe\tbuild and\tdeployment\tpipeline,\tabstracted\taway\tfrom\tservice\tdiscovery\tand\tload balancing.\tThis\tis\tall\tpart\tof\tthe\tinfrastructure\tof\tthe\tmicroservice\tecosystem, and\tbuilding,\tstandardizing,\tand\tmaintaining\tthis\tinfrastructure\tin\ta\tstable, scalable,\tfault-tolerant,\tand\treliable\tway\tis\tessential\tfor\tsuccessful\tmicroservice operation.\n\nThe\tinfrastructure\thas\tto\tsustain\tthe\tmicroservice\tecosystem.\tThe\tgoal\tof\tall infrastructure\tengineers\tand\tarchitects\tmust\tbe\tto\tremove\tthe\tlow-level operational\tconcerns\tfrom\tmicroservice\tdevelopment\tand\tbuild\ta\tstable infrastructure\tthat\tcan\tscale,\tone\tthat\tdevelopers\tcan\teasily\tbuild\tand\trun microservices\ton\ttop\tof.\tDeveloping\ta\tmicroservice\twithin\ta\tstable\tmicroservice ecosystem\tshould\tbe\tjust\tlike\tdeveloping\ta\tsmall\tstandalone\tapplication.\tThis requires\tvery\tsophisticated,\ttop-notch\tinfrastructure.\n\nThe\tmicroservice\tecosystem\tcan\tbe\tsplit\tinto\tfour\tlayers\t(Figure\t1-7),\tthough\tthe boundaries\tof\teach\tare\tnot\talways\tclearly\tdefined:\tsome\telements\tof\tthe infrastructure\twill\ttouch\tevery\tpart\tof\tthe\tstack.\tThe\tlower\tthree\tlayers\tare\tthe infrastructure\tlayers:\tat\tthe\tbottom\tof\tthe\tstack\twe\tfind\tthe\thardware\tlayer,\tand on\ttop\tof\tthat,\tthe\tcommunication\tlayer\t(which\tbleeds\tup\tinto\tthe\tfourth\tlayer), followed\tby\tthe\tapplication\tplatform.\tThe\tfourth\t(top)\tlayer\tis\twhere\tall individual\tmicroservices\tlive.\n\nFigure\t1-7.\tFour-layer\tmodel\tof\tthe\tmicroservice\tecosystem\n\nLayer\t1:\tHardware At\tthe\tvery\tbottom\tof\tthe\tmicroservice\tecosystem,\twe\tfind\tthe\thardware\tlayer. These\tare\tthe\tactual\tmachines,\tthe\treal,\tphysical\tcomputers\tthat\tall\tinternal\ttools and\tall\tmicroservices\trun\ton.\tThese\tservers\tare\tlocated\ton\tracks\twithin datacenters,\tbeing\tcooled\tby\texpensive\tHVAC\tsystems\tand\tpowered\tby electricity.\tMany\tdifferent\ttypes\tof\tservers\tcan\tlive\there:\tsome\tare\toptimized\tfor databases;\tothers\tfor\tprocessing\tCPU-intensive\ttasks.\tThese\tservers\tcan\teither\tbe owned\tby\tthe\tcompany\titself,\tor\t“rented”\tfrom\tso-called\tcloud\tproviders\tlike Amazon\tWeb\tServices’\tElastic\tCompute\tCloud\t(AWS\tEC2),\tGoogle\tCloud Platform\t(GCP),\tor\tMicrosoft\tAzure.\n\nThe\tchoice\tof\tspecific\thardware\tis\tdetermined\tby\tthe\towners\tof\tthe\tservers.\tIf your\tcompany\tis\trunning\tyour\town\tdatacenters,\tthe\tchoice\tof\thardware\tis\tyour own,\tand\tyou\tcan\toptimize\tthe\tserver\tchoice\tfor\tyour\tspecific\tneeds.\tIf\tyou\tare running\tservers\tin\tthe\tcloud\t(which\tis\tthe\tmore\tcommon\tscenario),\tyour\tchoice is\tlimited\tto\twhatever\thardware\tis\toffered\tby\tthe\tcloud\tprovider.\tChoosing between\tbare\tmetal\tand\ta\tcloud\tprovider\t(or\tproviders)\tis\tnot\tan\teasy\tdecision\tto make,\tand\tcost,\tavailability,\treliability,\tand\toperational\texpenses\tare\tthings\tthat need\tto\tbe\tconsidered.\n\nManaging\tthese\tservers\tis\tpart\tof\tthe\thardware\tlayer.\tEach\tserver\tneeds\tto\thave an\toperating\tsystem\tinstalled,\tand\tthe\toperating\tsystem\tshould\tbe\tstandardized across\tall\tservers.\tThere\tis\tno\tcorrect,\tright\tanswer\tas\tto\twhich\toperating\tsystem a\tmicroservice\tecosystem\tshould\tuse:\tthe\tanswer\tto\tthis\tquestion\tdepends entirely\ton\tthe\tapplications\tyou\twill\tbe\tbuilding,\tthe\tlanguages\tthey\twill\tbe written\tin,\tand\tthe\tlibraries\tand\ttools\tthat\tyour\tmicroservices\trequire.\tThe majority\tof\tmicroservice\tecosystems\trun\tsome\tvariant\tof\tLinux,\tcommonly CentOS,\tDebian,\tor\tUbuntu,\tbut\ta\t.NET\tcompany\twill,\tobviously,\tchoose differently.\tAdditional\tabstractions\tcan\tbe\tbuilt\tand\tlayered\tatop\tthe\thardware: resource\tisolation\tand\tresource\tabstraction\t(as\toffered\tby\ttechnologies\tlike Docker\tand\tApache\tMesos)\talso\tbelong\tin\tthis\tlayer,\tas\tdo\tdatabases\t(dedicated or\tshared).\n\nInstalling\tan\toperating\tsystem\tand\tprovisioning\tthe\thardware\tis\tthe\tfirst\tlayer\ton top\tof\tthe\tservers\tthemselves.\tEach\thost\tmust\tbe\tprovisioned\tand\tconfigured, and\tafter\tthe\toperating\tsystem\tis\tinstalled,\ta\tconfiguration\tmanagement\ttool (such\tas\tAnsible,\tChef,\tor\tPuppet)\tshould\tbe\tused\tto\tinstall\tall\tof\tthe\n\napplications\tand\tset\tall\tthe\tnecessary\tconfigurations.\n\nThe\thosts\tneed\tproper\thost-level\tmonitoring\t(using\tsomething\tlike\tNagios)\tand host-level\tlogging\tso\tthat\tif\tanything\thappens\t(disk\tfailure,\tnetwork\tfailure,\tor\tif CPU\tutilization\tgoes\tthrough\tthe\troof),\tproblems\twith\tthe\thosts\tcan\tbe\teasily diagnosed,\tmitigated,\tand\tresolved.\tHost-level\tmonitoring\tis\tcovered\tin\tgreater detail\tin\tChapter\t6,\tMonitoring.\n\nSUMMARY\tOF\tLAYER\t1:\tTHE\tHARDWARE\tLAYER\n\nThe\thardware\tlayer\t(layer\t1)\tof\tthe\tmicroservice\tecosystem\tcontains:\n\nThe\tphysical\tservers\t(owned\tby\tthe\tcompany\tor\trented\tfrom\tcloud\tproviders)\n\nDatabases\t(dedicated\tand/or\tshared)\n\nThe\toperating\tsystem\n\nResource\tisolation\tand\tabstraction\n\nConfiguration\tmanagement\n\nHost-level\tmonitoring\n\nHost-level\tlogging\n\nLayer\t2:\tCommunication The\tsecond\tlayer\tof\tthe\tmicroservice\tecosystem\tis\tthe\tcommunication\tlayer.\tThe communication\tlayer\tbleeds\tinto\tall\tof\tthe\tother\tlayers\tof\tthe\tecosystem (including\tthe\tapplication\tplatform\tand\tmicroservices\tlayers),\tbecause\tit\tis where\tall\tcommunication\tbetween\tservices\tis\thandled;\tthe\tboundaries\tbetween the\tcommunication\tlayer\tand\teach\tother\tlayer\tof\tthe\tmicroservice\tecosystem\tare poorly\tdefined.\tWhile\tthe\tboundaries\tmay\tnot\tbe\tclear,\tthe\telements\tare\tclear: the\tsecond\tlayer\tof\ta\tmicroservice\tecosystem\talways\tcontains\tthe\tnetwork,\tDNS, RPCs\tand\tAPI\tendpoints,\tservice\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing.\n\nDiscussing\tthe\tnetwork\tand\tDNS\telements\tof\tthe\tcommunication\tlayer\tis beyond\tthe\tscope\tof\tthis\tbook,\tso\twe\twill\tbe\tfocusing\ton\tRPCs,\tAPI\tendpoints, service\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\tin\tthis\tsection.\n\nRPCs,\tendpoints,\tand\tmessaging\tMicroservices\tinteract\twith\tone\tanother\tover the\tnetwork\tusing\tremote\tprocedure\tcalls\t(RPCs)\tor\tmessaging\tto\tthe\tAPI endpoints\tof\tother\tmicroservices\t(or,\tas\twe\twill\tsee\tin\tthe\tcase\tof\tmessaging,\tto a\tmessage\tbroker\twhich\twill\troute\tthe\tmessage\tappropriately).\tThe\tbasic\tidea\tis this:\tusing\ta\tspecified\tprotocol,\ta\tmicroservice\twill\tsend\tsome\tdata\tin\ta standardized\tformat\tover\tthe\tnetwork\tto\tanother\tservice\t(perhaps\tto\tanother microservice’s\tAPI\tendpoint)\tor\tto\ta\tmessage\tbroker\twhich\twill\tmake\tsure\tthat the\tdata\tis\tsend\tto\tanother\tmicroservice’s\tAPI\tendpoint.\n\nThere\tare\tseveral\tmicroservice\tcommunication\tparadigms.\tThe\tfirst\tis\tthe\tmost common:\tHTTP+REST/THRIFT.\tIn\tHTTP+REST/THRIFT,\tservices communicate\twith\teach\tother\tover\tthe\tnetwork\tusing\tthe\tHypertext\tTransfer Protocol\t(HTTP),\tand\tsending\trequests\tand\treceiving\tresponses\tto\tor\tfrom\teither specific\trepresentational\tstate\ttransfer\t(REST)\tendpoints\t(using\tvarious methods,\tlike\tGET,\tPOST,\tetc.)\tor\tspecific\tApache\tThrift\tendpoints\t(or\tboth). The\tdata\tis\tusually\tformatted\tand\tsent\tas\tJSON\t(or\tprotocol\tbuffers)\tover\tHTTP.\n\nHTTP+REST\tis\tthe\tmost\tconvenient\tform\tof\tmicroservice\tcommunication. There\taren’t\tany\tsurprises,\tit’s\teasy\tto\tset\tup,\tand\tis\tthe\tmost\tstable\tand\treliable —\tmostly\tbecause\tit’s\tdifficult\tto\timplement\tincorrectly.\tThe\tdownside\tof adopting\tthis\tparadigm\tis\tthat\tit\tis,\tby\tnecessity,\tsynchronous\t(blocking).\n\nThe\tsecond\tcommunication\tparadigm\tis\tmessaging.\tMessaging\tis\tasynchronous (nonblocking),\tbut\tit’s\ta\tbit\tmore\tcomplicated.\tMessaging\tworks\tthe\tfollowing\n\nway:\ta\tmicroservice\twill\tsend\tdata\t(a\tmessage)\tover\tthe\tnetwork\t(HTTP\tor other)\tto\ta\tmessage\tbroker,\twhich\twill\troute\tthe\tcommunication\tto\tother microservices.\n\nMessaging\tcomes\tin\tseveral\tflavors,\tthe\ttwo\tmost\tpopular\tbeing\tpublish– subscribe\t(pubsub)\tmessaging\tand\trequest–response\tmessaging.\tIn\tpubsub models,\tclients\twill\tsubscribe\tto\ta\ttopic\tand\twill\treceive\ta\tmessage\twhenever\ta publisher\tpublishes\ta\tmessage\tto\tthat\ttopic.\tRequest–response\tmodels\tare\tmore straightforward,\twhere\ta\tclient\twill\tsend\ta\trequest\tto\ta\tservice\t(or\tmessage broker),\twhich\twill\trespond\twith\tthe\tinformation\trequested.\tThere\tare\tsome messaging\ttechnologies\tthat\tare\ta\tunique\tblend\tof\tboth\tmodels,\tlike\tApache Kafka.\tCelery\tand\tRedis\t(or\tCelery\twith\tRabbitMQ)\tcan\tbe\tused\tfor\tmessaging (and\ttask\tprocessing)\tfor\tmicroservices\twritten\tin\tPython:\tCelery\tprocesses\tthe tasks\tand/or\tmessages\tusing\tRedis\tor\tRabbitMQ\tas\tthe\tbroker.\n\nMessaging\tcomes\twith\tseveral\tsignificant\tdownsides\tthat\tmust\tbe\tmitigated. Messaging\tcan\tbe\tjust\tas\tscalable\t(if\tnot\tmore\tscalable)\tthan\tHTTP+REST solutions,\tif\tit\tis\tarchitected\tfor\tscalability\tfrom\tthe\tget-go.\tInherently, messaging\tis\tnot\tas\teasy\tto\tchange\tand\tupdate,\tand\tits\tcentralized\tnature\t(while it\tmay\tseem\tlike\ta\tbenefit)\tcan\tlead\tto\tits\tqueues\tand\tbrokers\tbecoming\tpoints\tof failure\tfor\tthe\tentire\tecosystem.\tThe\tasynchronous\tnature\tof\tmessaging\tcan\tlead to\trace\tconditions\tand\tendless\tloops\tif\tnot\tprepared\tfor.\tIf\ta\tmessaging\tsystem\tis implemented\twith\tprotections\tagainst\tthese\tproblems,\tit\tcan\tbecome\tas\tstable and\tefficient\tas\ta\tsynchronous\tsolution.\n\nService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\tIn\tmonolithic architecture,\ttraffic\tonly\tneeds\tto\tbe\tsent\tto\tone\tapplication\tand\tdistributed appropriately\tto\tthe\tservers\thosting\tthe\tapplication.\tIn\tmicroservice\tarchitecture, traffic\tneeds\tto\tbe\trouted\tappropriately\tto\ta\tlarge\tnumber\tof\tdifferent applications,\tand\tthen\tdistributed\tappropriately\tto\tthe\tservers\thosting\teach specific\tmicroservice.\tIn\torder\tfor\tthis\tto\tbe\tdone\tefficiently\tand\teffectively, microservice\tarchitecture\trequires\tthree\ttechnologies\tbe\timplemented\tin\tthe communication\tlayer:\tservice\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing.\n\nIn\tgeneral,\twhen\ta\tmicroservice\tA\tneeds\tto\tmake\ta\trequest\tto\tanother microservice\tB,\tmicroservice\tA\tneeds\tto\tknow\tthe\tIP\taddress\tand\tport\tof\ta specific\tinstance\twhere\tmicroservice\tB\tis\thosted.\tMore\tspecifically,\tthe communication\tlayer\tbetween\tthe\tmicroservices\tneeds\tto\tknow\tthe\tIP\taddresses and\tports\tof\tthese\tmicroservices\tso\tthat\tthe\trequests\tbetween\tthem\tcan\tbe\trouted appropriately.\tThis\tis\taccomplished\tthrough\tservice\tdiscovery\t(such\tas\tetcd, Consul,\tHyperbahn,\tor\tZooKeeper),\twhich\tensures\tthat\trequests\tare\trouted\tto\n\nexactly\twhere\tthey\tare\tsupposed\tto\tbe\tsent\tand\tthat\t(very\timportantly)\tthey\tare only\trouted\tto\thealthy\tinstances.\tService\tdiscovery\trequires\ta\tservice\tregistry, which\tis\ta\tdatabase\tthat\ttracks\tall\tports\tand\tIPs\tof\tall\tmicroservices\tacross\tthe ecosystem.\n\nDYNAMIC\tSCALING\tAND\tASSIGNED\tPORTS\n\nIn\tmicroservice\tarchitecture,\tports\tand\tIPs\tcan\t(and\tdo)\tchange\tall\tof\tthe\ttime,\tespecially\tas microservices\tare\tscaled\tand\tre-deployed\t(especially\twith\ta\thardware\tabstraction\tlayer\tlike Apache\tMesos).\tOne\tway\tto\tapproach\tthe\tdiscovery\tand\trouting\tis\tto\tassign\tstatic\tports\t(both frontend\tand\tbackend)\tto\teach\tmicroservice.\n\nUnless\tyou\thave\teach\tmicroservice\thosted\ton\tonly\tone\tinstance\t(which\tis\thighly unlikely),\tyou’ll\tneed\tload\tbalancing\tin\tplace\tin\tvarious\tparts\tof\tthe communication\tlayer\tacross\tthe\tmicroservice\tecosystem.\tLoad\tbalancing\tworks, at\ta\tvery\thigh\tlevel,\tlike\tthis:\tif\tyou\thave\t10\tdifferent\tinstances\thosting\ta microservice,\tload-balancing\tsoftware\t(and/or\thardware)\twill\tensure\tthat\tthe traffic\tis\tdistributed\t(balanced)\tacross\tall\tof\tthe\tinstances.\tLoad\tbalancing\twill be\tneeded\tat\tevery\tlocation\tin\tthe\tecosystem\tin\twhich\ta\trequest\tis\tbeing\tsent\tto an\tapplication,\twhich\tmeans\tthat\tany\tlarge\tmicroservice\tecosystem\twill\tcontain many,\tmany\tlayers\tof\tload\tbalancing.\tCommonly\tused\tload\tbalancers\tfor\tthis purpose\tare\tAmazon\tWeb\tServices\tElastic\tLoad\tBalancer,\tNetflix\tEureka, HAProxy,\tand\tNginx.\n\nSUMMARY\tOF\tLAYER\t2:\tTHE\tCOMMUNICATION\tLAYER\n\nThe\tcommunication\tlayer\t(layer\t2)\tof\tthe\tmicroservice\tecosystem\tcontains:\n\nNetwork\n\nDNS\n\nRemote\tprocedure\tcalls\t(RPCs)\n\nEndpoints\n\nMessaging\n\nService\tdiscovery\n\nService\tregistry\n\nLoad\tbalancing\n\nLayer\t3:\tThe\tApplication\tPlatform The\tapplication\tplatform\tis\tthe\tthird\tlayer\tof\tthe\tmicroservice\tecosystem\tand contains\tall\tof\tthe\tinternal\ttooling\tand\tservices\tthat\tare\tindependent\tof\tthe microservices.\tThis\tlayer\tis\tfilled\twith\tcentralized,\tecosystem-wide\ttools\tand services\tthat\tmust\tbe\tbuilt\tin\tsuch\ta\tway\tthat\tmicroservice\tdevelopment\tteams do\tnot\thave\tto\tdesign,\tbuild,\tor\tmaintain\tanything\texcept\ttheir\town microservices.\n\nA\tgood\tapplication\tplatform\tis\tone\twith\tself-service\tinternal\ttools\tfor developers,\ta\tstandardized\tdevelopment\tprocess,\ta\tcentralized\tand\tautomated build\tand\trelease\tsystem,\tautomated\ttesting,\ta\tstandardized\tand\tcentralized deployment\tsolution,\tand\tcentralized\tlogging\tand\tmicroservice-level\tmonitoring. Many\tof\tthe\tdetails\tof\tthese\telements\tare\tcovered\tin\tlater\tchapters,\tbut\twe’ll cover\tseveral\tof\tthem\tbriefly\there\tto\tprovide\tsome\tintroduction\tto\tthe\tbasic concepts.\n\nSelf-service\tinternal\tdevelopment\ttools\tQuite\ta\tfew\tthings\tcan\tbe\tcategorized as\tself-service\tinternal\tdevelopment\ttools,\tand\twhich\tparticular\tthings\tfall\tinto this\tcategory\tdepends\tnot\tonly\ton\tthe\tneeds\tof\tthe\tdevelopers,\tbut\tthe\tlevel\tof abstraction\tand\tsophistication\tof\tboth\tthe\tinfrastructure\tand\tthe\tecosystem\tas\ta whole.\tThe\tkey\tto\tdetermining\twhich\ttools\tneed\tto\tbe\tbuilt\tis\tto\tfirst\tdivide\tthe realms\tof\tresponsibility\tand\tthen\tdetermine\twhich\ttasks\tdevelopers\tneed\tto\tbe able\tto\taccomplish\tin\torder\tto\tdesign,\tbuild,\tand\tmaintain\ttheir\tservices.\n\nWithin\ta\tcompany\tthat\thas\tadopted\tmicroservice\tarchitecture,\tresponsibilities need\tto\tbe\tcarefully\tdelegated\tto\tdifferent\tengineering\tteams.\tAn\teasy\tway\tto\tdo this\tis\tto\tcreate\tan\tengineering\tsuborganization\tfor\teach\tlayer\tof\tthe microservice\tecosystem,\talong\twith\tother\tteams\tthat\tbridge\teach\tlayer.\tEach\tof these\tengineering\torganizations,\tfunctioning\tsemi-independently,\twill\tbe responsible\tfor\teverything\twithin\ttheir\tlayer:\tTechOps\tteams\twill\tbe\tresponsible for\tlayer\t1,\tinfrastructure\tteams\twill\tbe\tresponsible\tfor\tlayer\t2,\tapplication platform\tteams\twill\tbe\tresponsible\tfor\tlayer\t3,\tand\tmicroservice\tteams\twill\tbe responsible\tfor\tlayer\t4\t(this\tis,\tof\tcourse,\ta\tvery\tsimplified\tview,\tbut\tyou\tget\tthe general\tidea).\n\nWithin\tthis\torganizational\tscheme,\tany\ttime\tthat\tan\tengineer\tworking\ton\tone\tof the\thigher\tlayers\tneeds\tto\tset\tup,\tconfigure,\tor\tutilize\tsomething\ton\tone\tof\tthe lower\tlayers,\tthere\tshould\tbe\ta\tself-service\ttool\tin\tplace\tthat\tthe\tengineer\tcan use.\tFor\texample,\tthe\tteam\tworking\ton\tmessaging\tfor\tthe\tecosystem\tshould\n\nuse.\tFor\texample,\tthe\tteam\tworking\ton\tmessaging\tfor\tthe\tecosystem\tshould build\ta\tself-service\ttool\tso\tthat\tif\ta\tdeveloper\ton\ta\tmicroservice\tteam\tneeds\tto configure\tmessaging\tfor\ther\tservice,\tshe\tcan\teasily\tconfigure\tthe\tmessaging without\thaving\tto\tunderstand\tall\tof\tthe\tintricacies\tof\tthe\tmessaging\tsystem.\n\nThere\tare\tmany\treasons\tto\thave\tthese\tcentralized,\tself-service\ttools\tin\tplace\tfor each\tlayer.\tIn\ta\tdiverse\tmicroservice\tecosystem,\tthe\taverage\tengineer\ton\tany given\tteam\twill\thave\tno\t(or\tvery\tlittle)\tknowledge\tof\thow\tthe\tservices\tand systems\tin\tother\tteams\twork,\tand\tthere\tis\tsimply\tno\tway\tthey\tcould\tbecome experts\tin\teach\tservice\tand\tsystem\twhile\tworking\ton\ttheir\town\t—\tit\tsimply\tcan’t be\tdone.\tEach\tindividual\tdeveloper\twill\tknow\talmost\tnothing\texcept\ther\town service,\tbut\ttogether,\tall\tof\tthe\tdevelopers\tworking\twithin\tthe\tecosystem\twill collectively\tknow\teverything.\tRather\tthan\ttrying\tto\teducate\teach\tdeveloper about\tthe\tintricacies\tof\teach\ttool\tand\tservice\twithin\tthe\tecosystem,\tbuild sustainable,\teasy-to-use\tuser\tinterfaces\tfor\tevery\tpart\tof\tthe\tecosystem,\tand\tthen educate\tand\ttrain\tthem\ton\thow\tto\tuse\tthose.\tTurn\teverything\tinto\ta\tblack\tbox, and\tdocument\texactly\thow\tit\tworks\tand\thow\tto\tuse\tit.\n\nThe\tsecond\treason\tto\tbuild\tthese\ttools\tand\tbuild\tthem\twell\tis\tthat,\tin\tall\thonesty, you\tdo\tnot\twant\ta\tdeveloper\tfrom\tanother\tteam\tto\tbe\table\tto\tmake\tsignificant changes\tto\tyour\tservice\tor\tsystem,\tespecially\tnot\tone\tthat\tcould\tcause\tan\toutage. This\tis\tespecially\ttrue\tand\tcompelling\tfor\tservices\tand\tsystems\tbelonging\tto\tthe lower\tlayers\t(layer\t1,\tlayer\t2,\tand\tlayer\t3).\tAllowing\tnonexperts\tto\tmake changes\tto\tthings\twithin\tthese\tlayers,\tor\trequiring\t(or\tworse,\texpecting)\tthem\tto become\texperts\tin\tthese\tareas\tis\ta\trecipe\tfor\tdisaster.\tAn\texample\tof\twhere\tthis can\tgo\tterribly\twrong\tis\tin\tconfiguration\tmanagement:\tallowing\tdevelopers\ton microservice\tteams\tto\tmake\tchanges\tto\tsystem\tconfigurations\twithout\thaving\tthe expertise\tto\tdo\tso\tcan\tand\twill\tlead\tto\tlarge-scale\tproduction\toutages\tif\ta\tchange is\tmade\tthat\taffects\tsomething\tother\tthan\ttheir\tservice\talone.\n\nThe\tdevelopment\tcycle\tWhen\tdevelopers\tare\tmaking\tchanges\tto\texisting microservices,\tor\tcreating\tnew\tones,\tdevelopment\tcan\tbe\tmade\tmore\teffective by\tstreamlining\tand\tstandardizing\tthe\tdevelopment\tprocess\tand\tautomating away\tas\tmuch\tas\tpossible.\tThe\tdetails\tof\tstandardizing\tthe\tprocess\tof\tstable\tand reliable\tdevelopment\titself\tare\tcovered\tin\tChapter\t4,\tScalability\tand Performance,\tbut\tthere\tare\tseveral\tthings\tthat\tneed\tto\tbe\tin\tplace\twithin\tthe\tthird layer\tof\ta\tmicroservice\tecosystem\tin\torder\tfor\tstable\tand\treliable\tdevelopment\tto be\tpossible.\n\nThe\tfirst\trequirement\tis\ta\tcentralized\tversion\tcontrol\tsystem\twhere\tall\tcode\tcan be\tstored,\ttracked,\tversioned,\tand\tsearched.\tThis\tis\tusually\taccomplished\n\nthrough\tsomething\tlike\tGitHub,\tor\ta\tself-hosted\tgit\tor\tsvn\trepository\tlinked\tto some\tkind\tof\tcollaboration\ttool\tlike\tPhabrictor,\tand\tthese\ttools\tmake\tit\teasy\tto maintain\tand\treview\tcode.\n\nThe\tsecond\trequirement\tis\ta\tstable,\tefficient\tdevelopment\tenvironment. Development\tenvironments\tare\tnotoriously\tdifficult\tto\timplement\tin microservice\tecosystems,\tdue\tto\tthe\tcomplicated\tdependencies\teach microservice\twill\thave\ton\tother\tservices,\tbut\tthey\tare\tabsolutely\tessential.\tSome engineering\torganizations\tprefer\twhen\tall\tdevelopment\tis\tdone\tlocally\t(on\ta developer’s\tlaptop),\tbut\tthis\tcan\tlead\tto\tbad\tdeploys\tbecause\tit\tdoesn’t\tgive\tthe developer\tan\taccurate\tpicture\tof\thow\ther\tcode\tchanges\twill\tperform\tin\tthe production\tworld.\tThe\tmost\tstable\tand\treliable\tway\tto\tdesign\ta\tdevelopment environment\tis\tto\tcreate\ta\tmirror\tof\tthe\tproduction\tenvironment\t(one\tthat\tis\tnot staging,\tnor\tcanary,\tnor\tproduction)\tcontaining\tall\tof\tthe\tintricate\tdependency chains.\n\nTest,\tbuild,\tpackage,\tand\trelease\tThe\ttest,\tbuild,\tpackage,\tand\trelease\tsteps\tin between\tdevelopment\tand\tdeployment\tshould\tbe\tstandardized\tand\tcentralized\tas much\tas\tpossible.\tAfter\tthe\tdevelopment\tcycle,\twhen\tany\tcode\tchange\thas\tbeen committed,\tall\tthe\tnecessary\ttests\tshould\tbe\trun,\tand\tnew\treleases\tshould\tbe automatically\tbuilt\tand\tpackaged.\tContinuous\tintegration\ttooling\texists\tfor precisely\tthis\tpurpose,\tand\texisting\tsolutions\t(like\tJenkins)\tare\tvery\tadvanced and\teasy\tto\tconfigure.\tThese\ttools\tmake\tit\teasy\tto\tautomate\tthe\tentire\tprocess, leaving\tvery\tlittle\troom\tfor\thuman\terror.\n\nDeployment\tpipeline\tThe\tdeployment\tpipeline\tis\tthe\tprocess\tby\twhich\tnew code\tmakes\tits\tway\tto\tproduction\tservers\tafter\tthe\tdevelopment\tcycle\tand following\tthe\ttest,\tbuild,\tpackage,\tand\trelease\tsteps.\tDeployment\tcan\tquickly become\tvery\tcomplicated\tin\ta\tmicroservice\tecosystem,\twhere\thundreds\tof deployments\tper\tday\tare\tnot\tout\tof\tthe\tordinary.\tBuilding\ttooling\taround deployment,\tand\tstandardizing\tdeployment\tpractices\tfor\tall\tdevelopment\tteams is\toften\tnecessary.\tThe\tprinciples\tof\tbuilding\tstable\tand\treliable\t(production- ready)\tdeployment\tpipelines\tare\tcovered\tin\tdetail\tin\tChapter\t3,\tStability\tand Reliability.\n\nLogging\tand\tmonitoring\tAll\tmicroservices\tshould\thave\tmicroservice-level logging\tof\tall\trequests\tmade\tto\tthe\tmicroservice\t(including\tall\trelevant\tand important\tinformation)\tand\tits\tresponses.\tDue\tto\tthe\tfast-paced\tnature\tof microservice\tdevelopment,\tit’s\toften\timpossible\tto\treproduce\tbugs\tin\tthe\tcode because\tit’s\timpossible\tto\treconstruct\tthe\tstate\tof\tthe\tsystem\tat\tthe\ttime\tof\n\nfailure.\tGood\tmicroservice-level\tlogging\tgives\tdevelopers\tthe\tinformation\tthey need\tto\tfully\tunderstand\tthe\tstate\tof\ttheir\tservice\tat\ta\tcertain\ttime\tin\tthe\tpast\tor present.\tMicroservice-level\tmonitoring\tof\tall\tkey\tmetrics\tof\tthe\tmicroservices\tis essential\tfor\tsimilar\treasons:\taccurate,\treal-time\tmonitoring\tallows\tdevelopers\tto always\tknow\tthe\thealth\tand\tstatus\tof\ttheir\tservice.\tMicroservice-level\tlogging and\tmonitoring\tare\tcovered\tin\tgreater\tdetail\tin\tChapter\t6,\tMonitoring.\n\nSUMMARY\tOF\tLAYER\t3:\tTHE\tAPPLICATION\tPLATFORM\tLAYER\n\nThe\tapplication\tplatform\tlayer\t(layer\t3)\tof\tthe\tmicroservice\tecosystem\tcontains:\n\nSelf-service\tinternal\tdevelopment\ttools\n\nDevelopment\tenvironment\n\nTest,\tpackage,\tbuild,\tand\trelease\ttools\n\nDeployment\tpipeline\n\nMicroservice-level\tlogging\n\nMicroservice-level\tmonitoring\n\nLayer\t4:\tMicroservices At\tthe\tvery\ttop\tof\tthe\tmicroservice\tecosystem\tlies\tthe\tmicroservice\tlayer\t(layer 4).\tThis\tlayer\tis\twhere\tthe\tmicroservices\t—\tand\tanything\tspecific\tto\tthem\t— live,\tcompletely\tabstracted\taway\tfrom\tthe\tlower\tinfrastructure\tlayers.\tHere\tthey are\tabstracted\tfrom\tthe\thardware,\tfrom\tdeployment,\tfrom\tservice\tdiscovery, from\tload\tbalancing,\tand\tfrom\tcommunication.\tThe\tonly\tthings\tthat\tare\tnot abstracted\taway\tfrom\tthe\tmicroservice\tlayer\tare\tthe\tconfigurations\tspecific\tto each\tservice\tfor\tusing\tthe\ttools.\n\nIt\tis\tcommon\tpractice\tin\tsoftware\tengineering\tto\tcentralize\tall\tapplication configurations\tso\tthat\tthe\tconfigurations\tfor\ta\tspecific\ttool\tor\tset\tof\ttools\t(like configuration\tmanagement,\tresource\tisolation,\tor\tdeployment\ttools)\tare\tall stored\twith\tthe\ttool\titself.\tFor\texample,\tcustom\tdeployment\tconfigurations\tfor applications\tare\toften\tstored\tnot\twith\tthe\tapplication\tcode\tbut\twith\tthe\tcode\tfor the\tdeployment\ttool.\tThis\tpractice\tworks\twell\tfor\tmonolithic\tarchitecture,\tand even\tfor\tsmall\tmicroservice\tecosystems,\tbut\tin\tvery\tlarge\tmicroservice ecosystems\tcontaining\thundreds\tof\tmicroservices\tand\tdozens\tof\tinternal\ttools (each\twith\ttheir\town\tcustom\tconfigurations),\tthis\tpractice\tbecomes\trather\tmessy: developers\ton\tmicroservice\tteams\tare\trequired\tto\tmake\tchanges\tto\tcodebases\tof tools\tin\tthe\tlayers\tbelow,\tand\toftentimes\twill\tforget\twhere\tcertain\tconfigurations live\t(or\tthat\tthey\texist\tat\tall).\tTo\tmitigate\tthis\tproblem,\tall\tmicroservice-specific configurations\tcan\tlive\tin\tthe\trepository\tof\tthe\tmicroservice\tand\tshould\tbe accessed\tthere\tby\tthe\ttools\tand\tsystems\tof\tthe\tlayers\tbelow.\n\nSUMMARY\tOF\tLAYER\t4:\tTHE\tMICROSERVICE\tLAYER\n\nThe\tmicroservice\tlayer\t(layer\t4)\tof\tthe\tmicroservice\tecosystem\tcontains:\n\nThe\tmicroservices\n\nAll\tmicroservice-specific\tconfigurations\n\nOrganizational\tChallenges The\tadoption\tof\tmicroservice\tarchitecture\tresolves\tthe\tmost\tpressing\tchallenges presented\tby\tmonolithic\tapplication\tarchitecture.\tMicroservices\taren’t\tplagued by\tthe\tsame\tscalability\tchallenges,\tthe\tlack\tof\tefficiency,\tor\tthe\tdifficulties\tin adopting\tnew\ttechnologies:\tthey\tare\toptimized\tfor\tscalability,\toptimized\tfor efficiency,\toptimized\tfor\tdeveloper\tvelocity.\tIn\tan\tindustry\twhere\tnew technologies\trapidly\tgain\tmarket\ttraction,\tthe\tpure\torganizational\tcost\tof maintaining\tand\tattempting\tto\timprove\ta\tcumbersome\tmonolithic\tapplication\tis simply\tnot\tpractical.\tWith\tthese\tthings\tin\tmind,\tit’s\thard\tto\timagine\twhy\tanyone would\tbe\treluctant\tto\tsplit\ta\tmonolith\tinto\tmicroservices,\twhy\tanyone\twould\tbe wary\tabout\tbuilding\ta\tmicroservice\tecosystem\tfrom\tthe\tground\tup.\n\nMicroservices\tseem\tlike\ta\tmagical\t(and\tsomewhat\tobvious)\tsolution,\tbut\twe know\tbetter\tthan\tthat.\tIn\tThe\tMythical\tMan-Month,\tFrederick\tBrooks\texplained why\tthere\tare\tno\tsilver\tbullets\tin\tsoftware\tengineering,\tan\tidea\the\tsummarized as\tfollows:\t“There\tis\tno\tsingle\tdevelopment,\tin\teither\ttechnology\tor management\ttechnique,\twhich\tby\titself\tpromises\teven\tone\torder-of-magnitude improvement\twithin\ta\tdecade\tin\tproductivity,\tin\treliability,\tin\tsimplicity.”\n\nWhen\twe\tfind\tourselves\tpresented\twith\ttechnology\tthat\tpromises\tto\toffer\tus drastic\timprovements,\twe\tneed\tto\tlook\tfor\tthe\ttrade-offs.\tMicroservices\tpromise greater\tscalability\tand\tgreater\tefficiency,\tbut\twe\tknow\tthat\tthose\twill\tcome\tat\ta cost\tto\tsome\tpart\tof\tthe\toverall\tsystem.\n\nThere\tare\tfour\tespecially\tsignificant\ttrade-offs\tthat\tcome\twith\tmicroservice architecture.\tThe\tfirst\tis\tthe\tchange\tin\torganizational\tstructure\tthat\ttends\ttoward isolation\tand\tpoor\tcross-team\tcommunication\t—\ta\tconsequence\tof\tthe\tinverse\tof Conway’s\tLaw.\tThe\tsecond\tis\tthe\tdramatic\tincrease\tin\ttechnical\tsprawl,\tsprawl that\tis\textraordinarily\tcostly\tnot\tonly\tto\tthe\tentire\torganization\tbut\twhich\talso presents\tsignificant\tcosts\tto\teach\tengineer.\tThe\tthird\ttrade-off\tis\tthe\tincreased ability\tof\tthe\tsystem\tto\tfail.\tThe\tfourth\tis\tthe\tcompetition\tfor\tengineering\tand infrastructure\tresources.\n\nThe\tInverse\tConway’s\tLaw The\tidea\tbehind\tConway’s\tLaw\t(named\tafter\tprogrammer\tMelvin\tConway\tin 1968)\tis\tthis:\tthat\tthe\tarchitecture\tof\ta\tsystem\twill\tbe\tdetermined\tby\tthe communication\tand\torganizational\tstructures\tof\tthe\tcompany.\tThe\tinverse\tof Conway’s\tLaw\t(which\twe’ll\tcall\tthe\tInverse\tConway’s\tLaw)\tis\talso\tvalid\tand\tis especially\trelevant\tto\tthe\tmicroservice\tecosystem:\tthe\torganizational\tstructure\tof a\tcompany\tis\tdetermined\tby\tthe\tarchitecture\tof\tits\tproduct.\tOver\t40\tyears\tafter Conway’s\tLaw\twas\tfirst\tintroduced,\tboth\tit\tand\tits\tinverse\tstill\tappear\tto\thold true.\tMicrosoft’s\torganizational\tstructure,\tif\tsketched\tout\tas\tif\tit\twere\tthe architecture\tof\ta\tsystem,\tlooks\tremarkably\tlike\tthe\tarchitecture\tof\tits\tproducts\t— the\tsame\tgoes\tfor\tGoogle,\tfor\tAmazon,\tand\tfor\tevery\tother\tlarge\ttechnology company.\tCompanies\tthat\tadopt\tmicroservice\tarchitecture\twill\tnever\tbe\tan exception\tto\tthis\trule.\n\nMicroservice\tarchitecture\tis\tcomprised\tof\ta\tlarge\tnumber\tof\tsmall,\tisolated, independent\tmicroservices.\tThe\tInverse\tConway’s\tLaw\tdemands\tthat\tthe organizational\tstructure\tof\tany\tcompany\tusing\tmicroservice\tarchitecture\twill\tbe made\tup\tof\ta\tlarge\tnumber\tof\tvery\tsmall,\tisolated,\tand\tindependent\tteams.\tThe team\tstructures\tthat\tspring\tfrom\tthis\tinevitably\tlead\tto\tsiloing\tand\tsprawl, problems\tthat\tare\tmade\tworse\tevery\ttime\tthe\tmicroservice\tecosystem\tbecomes more\tsophisticated,\tmore\tcomplex,\tmore\tconcurrent,\tand\tmore\tefficient.\n\nInverse\tConway’s\tLaw\talso\tmeans\tthat\tdevelopers\twill\tbe,\tin\tsome\tways,\tjust like\tmicroservices:\tthey\twill\tbe\table\tto\tdo\tone\tthing,\tand\t(hopefully)\tdo\tthat\tone thing\tvery\twell,\tbut\tthey\twill\tbe\tisolated\t(in\tresponsibility,\tin\tdomain knowledge,\tand\texperience)\tfrom\tthe\trest\tof\tthe\tecosystem.\tWhen\tconsidered together,\tall\tof\tthe\tdevelopers\tcollectively\tworking\twithin\ta\tmicroservice ecosystem\twill\tknow\teverything\tthere\tis\tto\tknow\tabout\tit,\tbut\tindividually\tthey will\tbe\textremely\tspecialized,\tknowing\tonly\tthe\tpieces\tof\tthe\tecosystem\tthey\tare responsible\tfor.\n\nThis\tposes\tan\tunavoidable\torganizational\tproblem:\teven\tthough\tmicroservices must\tbe\tdeveloped\tin\tisolation\t(leading\tto\tisolated,\tsiloed\tteams),\tthey\tdon’t\tlive in\tisolation\tand\tmust\tinteract\twith\tone\tanother\tseamlessly\tif\tthe\toverall\tproduct is\tto\tfunction\tat\tall.\tThis\trequires\tthat\tthese\tisolated,\tindependently\tfunctioning teams\twork\ttogether\tclosely\tand\toften\t—\tsomething\tthat\tis\tdifficult\tto accomplish,\tgiven\tthat\tmost\tteam’s\tgoals\tand\tprojects\t(codified\tin\ttheir\tteam’s objectives\tand\tkey\tresults,\tor\tOKRs)\tare\tspecific\tto\ta\tparticular\tmicroservice they\tare\tworking\ton.\n\nthey\tare\tworking\ton.\n\nThere\tis\talso\ta\tlarge\tcommunication\tgap\tbetween\tmicroservice\tteams\tand infrastructure\tteams\tthat\tneeds\tto\tbe\tclosed.\tApplication\tplatform\tteams,\tfor example,\tneed\tto\tbuild\tplatform\tservices\tand\ttools\tthat\tall\tof\tthe\tmicroservice teams\twill\tuse,\tbut\tgaining\tthe\trequirements\tand\tneeds\tfrom\thundreds\tof microservice\tteams\tbefore\tbuilding\tone\tsmall\tproject\tcan\ttake\tmonths\t(even years).\tGetting\tdevelopers\tand\tinfrastructure\tteams\tto\twork\ttogether\tis\tnot\tan easy\ttask.\n\nThere’s\ta\trelated\tproblem\tthat\tarises\tthanks\tto\tInverse\tConway’s\tLaw,\tone\tthat is\tonly\trarely\tfound\tin\tcompanies\twith\tmonolithic\tarchitecture:\tthe\tdifficulty\tof running\tan\toperations\torganization.\tWith\ta\tmonolith,\tan\toperations\torganization can\teasily\tbe\tstaffed\tand\ton\tcall\tfor\tthe\tapplication,\tbut\tthis\tis\tvery\tdifficult\tto achieve\twith\tmicroservice\tarchitecture\tbecause\tit\twould\trequire\tevery\tsingle microservice\tto\tbe\tstaffed\tby\tboth\ta\tdevelopment\tteam\tand\tan\toperational\tteam. Consequently,\tmicroservice\tdevelopment\tteams\tneed\tto\tbe\tresponsible\tfor\tthe operational\tduties\tand\ttasks\tassociated\twith\ttheir\tmicroservice.\tThere\tis\tno separate\tops\torg\tto\ttake\tover\tthe\ton\tcall,\tno\tseparate\tops\torg\tresponsible\tfor monitoring:\tdevelopers\twill\tneed\tto\tbe\ton\tcall\tfor\ttheir\tservices.\n\nTechnical\tSprawl The\tsecond\ttrade-off,\ttechnical\tsprawl,\tis\trelated\tto\tthe\tfirst.\tWhile\tConway’s Law\tand\tits\tinverse\tpredict\torganizational\tsprawl\tand\tsiloing\tfor\tmicroservices, a\tsecond\ttype\tof\tsprawl\t(related\tto\ttechnologies,\ttools,\tand\tthe\tlike)\tis\talso unavoidable\tin\tmicroservice\tarchitecture.\tThere\tare\tmany\tdifferent\tways\tin which\ttechnical\tsprawl\tcan\tmanifest.\tWe’ll\tcover\ta\tfew\tof\tthe\tmost\tcommon ways\there.\n\nIt’s\teasy\tto\tsee\twhy\tmicroservice\tarchitecture\tleads\tto\ttechnical\tsprawl\tif\twe consider\ta\tlarge\tmicroservice\tecosystem,\tone\tcontaining\t1,000\tmicroservices. Suppose\teach\tof\tthese\tmicroservices\tis\tstaffed\tby\ta\tdevelopment\tteam\tof\tsix developers,\tand\teach\tdeveloper\tuses\ttheir\town\tset\tof\tfavorite\ttools,\tfavorite libraries,\tand\tworks\tin\ttheir\town\tfavorite\tlanguages.\tEach\tof\tthese\tdevelopment teams\thas\ttheir\town\tway\tof\tdeploying,\ttheir\town\tspecified\tmetrics\tto\tmonitor and\talert\ton,\ttheir\town\texternal\tlibraries\tand\tinternal\tdependencies\tthey\tuse, custom\tscripts\tto\trun\ton\tproduction\tmachines,\tand\tso\ton.\n\nIf\tyou\thave\ta\tthousand\tof\tthese\tteams,\tthis\tmeans\tthat\twithin\tone\tsystem\tthere are\ta\tthousand\tways\tto\tdo\tone\tthing.\tThere\twill\tbe\ta\tthousand\tways\tto\tdeploy,\ta thousand\tlibraries\tto\tmaintain,\ta\tthousand\tdifferent\tways\tof\talerting\tand monitoring\tand\ttesting\tand\thandling\toutages.\tThe\tonly\tway\tto\tcut\tdown\ton technical\tsprawl\tis\tthrough\tstandardization\tat\tevery\tlevel\tof\tthe\tmicroservice ecosystem.\n\nThere’s\tanother\tkind\tof\ttechnical\tsprawl\tassociated\twith\tlanguage\tchoice. Microservices\tinfamously\tcome\twith\tthe\tpromise\tof\tgreater\tdeveloper\tfreedom, freedom\tto\tchoose\twhichever\tlanguages\tand\tlibraries\tone\twants.\tThis\tis\tpossible in\tprinciple,\tand\tcan\tbe\ttrue\tin\tpractice,\tbut\tas\ta\tmicroservice\tecosystem\tgrows\tit often\tbecomes\timpractical,\tcostly,\tand\tdangerous.\tTo\tsee\twhy\tthis\tcan\tbecome\ta problem,\tconsider\tthe\tfollowing\tscenario.\tSuppose\twe\thave\ta\tmicroservice ecosystem\tcontaining\t200\tservices,\tand\timagine\tthat\tsome\tof\tthese microservices\tare\twritten\tin\tPython,\tothers\tin\tJavaScript,\tsome\tin\tHaskell,\ta\tfew in\tGo,\tand\ta\tcouple\tmore\tin\tRuby,\tJava,\tand\tC++.\tFor\teach\tinternal\ttool,\tfor each\tsystem\tand\tservice\twithin\tevery\tlayer\tof\tthe\tecosystem,\tlibraries\twill\thave to\tbe\twritten\tfor\teach\tone\tof\tthese\tlanguages.\n\nTake\ta\tmoment\tto\tcontemplate\tthe\tsheer\tamount\tof\tmaintenance\tand development\tthat\twill\thave\tto\tbe\tdone\tin\torder\tfor\teach\tlanguage\tto\treceive\tthe support\tit\trequires:\tit’s\textraordinary,\tand\tvery\tfew\tengineering\torganizations could\tafford\tto\tdedicate\tthe\tengineering\tresources\tnecessary\tto\tmake\tit\thappen.\n\ncould\tafford\tto\tdedicate\tthe\tengineering\tresources\tnecessary\tto\tmake\tit\thappen. It’s\tmore\trealistic\tto\tchoose\ta\tsmall\tnumber\tof\tsupported\tlanguages\tand\tensure that\tall\tlibraries\tand\ttools\tare\tcompatible\twith\tand\texist\tfor\tthese\tlanguages\tthan to\tattempt\tto\tsupport\ta\tlarge\tnumber\tof\tlanguages.\n\nThe\tlast\ttype\tof\ttechnical\tsprawl\twe\twill\tcover\there\tis\ttechnical\tdebt,\twhich usually\trefers\tto\twork\tthat\tneeds\tto\tbe\tdone\tbecause\tsomething\twas implemented\tin\ta\tway\tthat\tgot\tthe\tjob\tdone\tquickly,\tbut\tnot\tin\tthe\tbest\tor\tmost optimal\tway.\tGiven\tthat\tmicroservice\tdevelopment\tteams\tcan\tchurn\tout\tnew features\tat\ta\tfast\tpace,\ttechnical\tdebt\toften\tbuilds\tup\tquietly\tin\tthe\tbackground. When\toutages\thappen,\twhen\tthings\tbreak,\tany\twork\tthat\tcomes\tout\tof\tan incident\treview\twill\tonly\trarely\tbe\tthe\tbest\toverall\tsolution:\tas\tfar\tas microservice\tdevelopment\tteams\tare\tconcerned,\twhatever\tfixes\t(or\tfixed)\tthe problem\tquickly\tand\tin\tthe\tmoment\twas\tgood\tenough,\tand\tany\tbetter\tsolutions are\tpawned\toff\tto\tthe\tfuture.\n\nMore\tWays\tto\tFail Microservices\tare\tlarge,\tcomplex,\tdistributed\tsystems\twith\tmany\tsmall, independent\tpieces\tthat\tare\tconstantly\tchanging.\tThe\treality\tof\tworking\twith complex\tsystems\tof\tthis\tsort\tis\tthat\tindividual\tcomponents\twill\tfail,\tthey\twill\tfail often,\tand\tthey\twill\tfail\tin\tways\tthat\tnobody\tcould\thave\tpredicted.\tThis\tis\twhere the\tthird\ttrade-off\tcomes\tinto\tplay:\tmicroservice\tarchitecture\tintroduces\tmore ways\tyour\tsystem\tcan\tfail.\n\nThere\tare\tways\tto\tprepare\tfor\tfailure,\tto\tmitigate\tfailures\twhen\tthey\toccur,\tand to\ttest\tthe\tlimits\tand\tboundaries\tof\tboth\tthe\tindividual\tcomponents\tand\tthe overall\tecosystem,\twhich\tI\tcover\tin\tChapter\t5,\tFault\tTolerance\tand Catastrophe-Preparedness.\tHowever,\tit\tis\timportant\tto\tunderstand\tthat\tno matter\thow\tmany\tresiliency\ttests\tyou\trun,\tno\tmatter\thow\tmany\tfailures\tand catastrophe\tscenarios\tyou’ve\tscoped\tout,\tyou\tcannot\tescape\tthe\tfact\tthat\tthe system\twill\tfail.\tYou\tcan\tonly\tdo\tyour\tbest\tto\tprepare\tfor\twhen\tit\tdoes.\n\nCompetition\tfor\tResources Just\tlike\tany\tother\tecosystem\tin\tthe\tnatural\tworld,\tcompetition\tfor\tresources\tin the\tmicroservice\tecosystem\tis\tfierce.\tEach\tengineering\torganization\thas\tfinite resources:\tit\thas\tfinite\tengineering\tresources\t(teams,\tdevelopers)\tand\tfinite hardware\tand\tinfrastructure\tresources\t(physical\tmachines,\tcloud\thardware, database\tstorage,\tetc.),\tand\teach\tresource\tcosts\tthe\tcompany\ta\tgreat\tdeal\tof money.\n\nWhen\tyour\tmicroservice\tecosystem\thas\ta\tlarge\tnumber\tof\tmicroservices\tand\ta large\tand\tsophisticated\tapplication\tplatform,\tcompetition\tbetween\tteams\tfor hardware\tand\tinfrastructure\tresources\tis\tinevitable:\tevery\tservice,\tevery\ttool\twill be\tpresented\tas\tequally\timportant,\tits\tscaling\tneeds\tpresented\tas\tbeing\tof\tthe highest\tpriority.\n\nLikewise,\twhen\tapplication\tplatform\tteams\tare\tasking\tfor\tspecifications\tand needs\tfrom\tmicroservice\tteams\tso\tthat\tthey\tcan\tdesign\ttheir\tsystems\tand\ttools appropriately,\tevery\tmicroservice\tdevelopment\tteam\twill\targue\tthat\ttheir\tneeds are\tthe\tmost\timportant\tand\twill\tbe\tdisappointed\t(and\tpotentially\tvery\tfrustrated) if\tthey\tare\tnot\tincluded.\tThis\tkind\tof\tcompetition\tfor\tengineering\tresources\tcan lead\tto\tresentment\tbetween\tteams.\n\nThe\tlast\tkind\tof\tcompetition\tfor\tresources\tis\tperhaps\tthe\tmost\tobvious\tone:\tthe competition\tbetween\tmanagers,\tbetween\tteams,\tand\tbetween\tdifferent engineering\tdepartments/organization\tfor\tengineering\theadcount.\tEven\twith\tthe increase\tin\tcomputer\tscience\tgraduates\tand\tthe\trise\tof\tdeveloper\tbootcamps, truly\tgreat\tdevelopers\tare\tdifficult\tto\tfind,\tand\trepresent\tone\tof\tthe\tmost irreplaceable\tand\tscarce\tresources.\tWhen\tthere\tare\thundreds\tor\tthousands\tof teams\tthat\tcould\tuse\tan\textra\tengineer\tor\ttwo,\tevery\tsingle\tteam\twill\tinsist\tthat their\tteam\tneeds\tan\textra\tengineer\tmore\tthan\tany\tof\tthe\tother\tteams.\n\nThere\tis\tno\tway\tto\tavoid\tcompetition\tfor\tresources,\tthough\tthere\tare\tways\tto mitigate\tcompetition\tsomewhat.\tThe\tmost\teffective\tseems\tto\tbe\torganizing\tor categorizing\tteams\tin\tterms\tof\ttheir\timportance\tand\tcriticality\tto\tthe\toverall business,\tand\tthen\tgiving\tteams\taccess\tto\tresources\tbased\ton\ttheir\tpriority\tor importance.\tThere\tare\tdownsides\tto\tthis,\tbecause\tit\ttends\tto\tresult\tin\tpoorly staffed\tdevelopment\ttools\tteams,\tand\tin\tprojects\twhose\timportance\tlies\tin shaping\tthe\tfuture\t(such\tas\tadopting\tnew\tinfrastructure\ttechnologies)\tbeing abandoned.\n\nChapter\t2.\tProduction-Readiness\n\nWhile\tthe\tadoption\tof\tmicroservice\tarchitecture\tbrings\tconsiderable\tfreedom\tto developers,\tensuring\tavailability\tacross\tthe\tmicroservice\tecosystem\trequires holding\tindividual\tmicroservices\tto\thigh\tarchitectural,\toperational,\tand organizational\tstandards.\tThis\tchapter\tcovers\tthe\tchallenges\tof\tmicroservice standardization,\tintroduces\tavailability\tas\tthe\tgoal\tof\tstandardization,\tpresents the\teight\tproduction-readiness\tstandards,\tand\tproposes\tstrategies\tfor implementing\tproduction-readiness\tstandardization\tacross\tan\tengineering organization.",
      "page_number": 18
    },
    {
      "number": 2,
      "title": "Production-Readiness",
      "start_page": 52,
      "end_page": 72,
      "detection_method": "regex_chapter_title",
      "content": "The\tChallenges\tof\tMicroservice\tStandardization The\tarchitecture\tof\ta\tmonolithic\tapplication\tis\tusually\tdetermined\tat\tthe beginning\tof\tthe\tapplication’s\tlifecycle.\tFor\tmany\tapplications,\tthe\tarchitecture is\tdetermined\tat\tthe\ttime\ta\tcompany\tbegins.\tAs\tthe\tbusiness\tgrows,\tand\tthe application\tscales,\tdevelopers\twho\tare\tadding\tnew\tfeatures\toften\tfind themselves\tconstrained\tand\tlimited\tby\tthe\tchoices\tmade\twhen\tthe\tapplication was\tfirst\tdesigned.\tThey\tare\tconstrained\tby\tchoice\tof\tlanguage,\tby\tthe\tlibraries they\tare\table\tto\tuse,\tby\tthe\tdevelopment\ttools\tthey\tcan\twork\twith,\tand\tby\tthe need\tfor\textensive\tregression\ttesting\tto\tensure\tthat\tevery\tnew\tfeature\tthey\tadd does\tnot\tdisturb\tor\tcompromise\tthe\tentirety\tof\tthe\tapplication.\tAny\trefactoring that\thappens\tto\tthe\tstandalone,\tmonolithic\tapplication\tis\tstill\tessentially constrained\tby\tinitial\tarchitectural\tdecisions:\tinitial\tconditions\texclusively determine\tthe\tfuture\tof\tthe\tapplication.\n\nThe\tadoption\tof\tmicroservice\tarchitecture\tbrings\ta\tconsiderable\tamount\tof freedom\tto\tdevelopers.\tThey\tare\tno\tlonger\ttied\tto\tthe\tarchitectural\tdecisions\tof the\tpast,\tthey\tcan\tarchitect\ttheir\tservice\thowever\tthey\twish,\tand\tthey\thave\tfree reign\tin\tdecisions\tof\tlanguage,\tof\tdatabase,\tof\tdevelopment\ttools,\tand\tthe\tlike. The\tmessage\taccompanying\tthe\tadoption\tof\tmicroservice\tarchitecture\tis\tusually understood\tand\theard\tby\tdevelopers\tas\tfollows:\tbuild\tan\tapplication\tthat\tdoes one\tthing\t—\tone\tthing\tonly\t—\tand\tdoes\tthat\tone\tthing\textraordinarily\twell;\tdo whatever\tyou\tneed\tto\tdo,\tbuild\tit\thowever\tyou\twant\t—\tjust\tmake\tsure\tit\tgets\tthe job\tdone.\n\nWhile\tthis\tromantic\tidealization\tof\tmicroservice\tdevelopment\tis\ttrue\tin principle,\tnot\tall\tmicroservices\tare\tcreated\tequal\t—\tnor\tshould\tthey\tbe.\tEach microservice\tis\tpart\tof\ta\tmicroservice\tecosystem,\tand\tcomplex\tdependency chains\tare\ta\tnecessary\tinevitability.\tWhen\tyou\thave\t100,\t1,000,\tor\teven\t10,000 microservices,\teach\tof\tthem\twill\tbe\tplaying\ta\tsmall\trole\tin\ta\tvery\tlarge\tsystem. The\tservices\tmust\tinteract\tseamlessly\twith\tone\tanother,\tand\t—\tmost\timportantly —\tno\tservice\tor\tset\tof\tservices\tshould\tcompromise\tthe\tintegrity\tof\tthe\toverall system\tor\tproduct\tthat\tthey\tcomprise.\tIf\tthe\toverall\tsystem\tor\tproduct\tis\tto\tbe any\tgood,\tit\tmust\tbe\theld\tto\tcertain\tstandards,\tand\tconsequently,\teach\tof\tits\tparts must\tabide\tby\tthese\tstandards\tas\twell.\n\nIt’s\trelatively\tsimple\tto\tdetermine\tstandards\tand\tgive\trequirements\tto\ta microservice\tteam\tif\twe\tfocus\ton\tthe\tneeds\tof\tthat\tspecific\tteam\tand\tthe\trole their\tservice\tis\tto\tplay.\tWe\tcan\tsay,\t“your\tmicroservice\tmust\tdo\tx,\ty,\tand\tz,\tand\n\nto\tdo\tx,\ty,\tand\tz\twell,\tyou\tneed\tto\tmake\tsure\tyou\tmeet\tthis\tset\tS\tof requirements,”\tgiving\teach\tteam\ta\tset\tof\trequirements\tthat\tis\trelevant\tto\ttheir service,\tand\tto\ttheir\tservice\talone.\tUnfortunately,\tthis\tapproach\tsimply\tisn’t scalable\tand\tneglects\tto\trecognize\tthe\timportant\tfact\tthat\ta\tmicroservice\tis\tbut\ta very\tsmall\tpiece\tof\tan\tabsurdly\tlarge\tand\tdistributed\tpuzzle.\tWe\tmust\tdefine standards\tand\trequirements\tfor\tour\tmicroservices,\tand\tthey\tmust\tbe\tgeneral enough\tto\tapply\tto\tevery\tsingle\tmicroservice\tyet\tspecific\tenough\tto\tbe quantifiable\tand\tproduce\tmeasurable\tresults.\tThis\tis\twhere\tthe\tconcept\tof production-readiness\tcomes\tin.\n\nAvailability:\tThe\tGoal\tof\tStandardization Within\tmicroservice\tecosystems,\tservice-level\tagreements\t(SLAs)\tregarding\tthe availability\tof\ta\tservice\tare\tthe\tmost\tcommonly\tused\tmethods\tof\tmeasuring\ta service’s\tsuccess:\tif\ta\tservice\tis\thighly\tavailable\t(that\tis,\thas\tvery\tlittle downtime),\tthen\twe\tcan\tsay\twith\treasonable\tconfidence\t(and\ta\tfew\tcaveats)\tthat the\tservice\tis\tdoing\tits\tjob.\n\nCalculating\tand\tmeasuring\tavailability\tis\teasy.\tYou\tneed\tto\tcalculate\tonly\tthree measurable\tquantities:\tuptime\t(the\tlength\tof\ttime\tthat\tthe\tmicroservice\tworked correctly),\tdowntime\t(the\tlength\tof\ttime\tthat\tthe\tmicroservice\twas\tnot\tworking correctly),\tand\tthe\ttotal\ttime\ta\tservice\twas\toperational\t(the\tsum\tof\tuptime\tand downtime).\tAvailability\tis\tthen\tthe\tuptime\tdivided\tby\tthe\ttotal\ttime\ta\tservice was\toperational\t(uptime\t+\tdowntime).\n\nAs\tuseful\tas\tit\tis,\tavailability\tis\tnot\tin\titself\ta\tprinciple\tof\tmicroservice standardization,\tbut\tthe\tgoal.\tIt\tcan’t\tbe\ta\tprinciple\tof\tstandardization\tbecause\tit gives\tno\tguidance\tas\tto\thow\tto\tarchitect,\tbuild,\tor\trun\tthe\tmicroservice:\ttelling developers\tto\tmake\ttheir\tmicroservice\tmore\tavailable\twithout\ttelling\tthem\thow (or\twhy)\tto\tdo\tso\tis\tuseless.\tAvailability\talone\tcomes\twith\tno\tconcrete, applicable\tsteps,\tbut\tas\twe\twill\tsee\tin\tthe\tfollowing\tsections,\tthere\tare\tconcrete, applicable\tsteps\tthat\tcan\tbe\ttaken\ttoward\treaching\tthe\tgoal\tof\tbuilding\tan available\tmicroservice.\n\nCALCULATING\tAVAILABILITY\n\nAvailability\tis\tmeasured\tin\tso-called\tnines\tnotation,\twhich\tcorresponds\tto\tthe\tpercentage\tof\ttime\tthat a\tservice\tis\tavailable.\tFor\texample,\ta\tservice\tthat\tis\tavailable\t99%\tof\tthe\ttime\tis\tsaid\tto\thave\t“two- nines\tavailability.”\n\nThis\tnotation\tis\tuseful\tbecause\tit\tgives\tus\ta\tspecific\tamount\tof\tdowntime\tthat\ta\tservice\tis\tallowed\tto have.\tIf\tyour\tservice\tis\trequired\tto\thave\tfour-nines\tavailability,\tthen\tit\tis\tallowed\t52.56\tminutes\tof downtime\tper\tyear,\twhich\tis\t4.38\tminutes\tof\tdowntime\tper\tmonth,\t1.01\tminutes\tof\tdowntime\tper week,\tand\t8.66\tseconds\tof\tdowntime\tper\tday.\n\nHere\tare\tthe\tavailability\tand\tdowntime\tcalculations\tfor\t99%\tavailability\tto\t99.999%\tavailability:\n\n99%\tavailability:\t(two-nines)\n\n3.65\tdays/year\t(of\tallowed\tdowntime)\n\n7.20\thours/month\n\n1.68\thours/week\n\n14.4\tminutes/day\n\n99.9%\tavailability\t(three-nines):\n\n8.76\thours/year\n\n43.8\tminutes/month\n\n10.1\tminutes/week\n\n1.44\tminutes/day\n\n99.99%\tavailability\t(four-nines):\n\n52.56\tminutes/year\n\n4.38\tminutes/month\n\n1.01\tminutes/week\n\n8.66\tseconds/day\n\n99.999%\tavailability\t(five-nines):\n\n5.26\tminutes/year\n\n25.9\tseconds/month\n\n6.05\tseconds/week\n\n864.3\tmilliseconds/day\n\nProduction-Readiness\tStandards The\tbasic\tidea\tbehind\tproduction-readiness\tis\tthis:\ta\tproduction-ready application\tor\tservice\tis\tone\tthat\tcan\tbe\ttrusted\tto\tserve\tproduction\ttraffic.\tWhen we\trefer\tto\tan\tapplication\tor\tmicroservice\tas\t“production-ready,”\twe\tconfer\ta great\tdeal\tof\ttrust\tupon\tit:\twe\ttrust\tit\tto\tbehave\treasonably,\twe\ttrust\tit\tto\tperform reliably,\twe\ttrust\tit\tto\tget\tthe\tjob\tdone\tand\tto\tdo\tits\tjob\twell\twith\tvery\tlittle downtime.\tProduction-readiness\tis\tthe\tkey\tto\tmicroservice\tstandardization,\tthe key\tto\tachieving\tavailability\tacross\tthe\tmicroservice\tecosystem.\n\nHowever,\tthe\tidea\tof\tproduction-readiness\tas\tstated\tisn’t\tuseful\tenough\ton\tits own\tto\tserve\tas\tthe\texhaustive\tdefinition\twe\tneed,\tand\twithout\tfurther explication,\tthe\tconcept\tisn’t\tvery\thelpful.\tWe\tneed\tto\tknow\texactly\twhat requirements\tevery\tservice\tmust\tmeet\tin\torder\tto\tbe\tdeemed\tproduction-ready and\tto\tbe\ttrusted\tto\tserve\tproduction\ttraffic\tin\ta\treliable,\tappropriate\tway\t—\ta trust\tthat\tcan’t\tbe\tgiven\tfreely,\tbut\thas\tto\tbe\tearned.\tThe\trequirements\tmust themselves\tbe\tprinciples\tthat\tare\ttrue\tfor\tevery\tmicroservice,\tfor\tevery application,\tand\tfor\tevery\tdistributed\tsystem:\tstandardization\twithout\tprinciple\tis meaningless.\n\nIt\tturns\tout\tthat\tthere\tis\ta\tset\tof\teight\tprinciples\tthat,\twhen\tadopted\ttogether,\tfits these\tcriteria.\tEach\tof\tthese\tprinciples\tis\tquantifiable,\tgives\trise\tto\ta\tset\tof actionable\trequirements,\tand\tproduces\tmeasurable\tresults.\tThey\tare:\tstability, reliability,\tscalability,\tfault\ttolerance,\tcatastrophe-preparedness,\tperformance, monitoring,\tand\tdocumentation.\tThe\tdriving\tforce\tbehind\teach\tof\tthese principles\tis\tthat,\ttogether,\tthey\tcontribute\tto\tand\tdrive\tthe\tavailability\tof\ta microservice.\n\nAvailability\tis,\tin\tsome\tways,\tan\temergent\tproperty\tof\ta\tproduction-ready microservice.\tIt\temerges\tfrom\tbuilding\ta\tscalable,\treliable,\tfault-tolerant, performant,\tmonitored,\tdocumented,\tand\tcatastrophe-prepared\tmicroservice. Any\tone\tof\tthese\tprinciples\tindividually\tis\tnot\tenough\tto\tensure\tavailability,\tbut together\tthey\tare:\tbuilding\ta\tmicroservice\twith\tthese\tprinciples\tas\tthe\tdriving architectural\tand\toperational\trequirements\tguarantees\ta\thighly\tavailable\tsystem that\tcan\tbe\ttrusted\twith\tproduction\ttraffic.\n\nStability With\tthe\tintroduction\tof\tmicroservice\tarchitecture,\tdevelopers\tare\tgiven\tfreedom to\tdevelop\tand\tdeploy\tat\ta\tvery\thigh\tvelocity.\tNew\tfeatures\tcan\tbe\tadded\tand deployed\teach\tday,\tbugs\tcan\tbe\tquickly\tfixed,\tany\told\ttechnologies\tswapped\tout for\tthe\tnewest\tones,\tand\toutdated\tmicroservices\tcan\tbe\trewritten\tand\tthe\told versions\tdeprecated\tand\tdecommissioned.\tWith\tthis\tincreased\tvelocity\tcomes increased\tinstability,\tand\tin\tmicroservice\tecosystems\tthe\tmajority\tof\toutages\tcan usually\tbe\ttraced\tback\tto\ta\tbad\tdeployment\tthat\tcontained\tbuggy\tcode\tor\tother serious\terrors.\tTo\tensure\tavailability,\twe\tneed\tto\tcarefully\tguard\tagainst\tthis instability\tthat\tstems\tfrom\tincreased\tdeveloper\tvelocity\tand\tthe\tconstant evolution\tof\tthe\tmicroservice\tecosystem.\n\nStability\tallows\tus\tto\treach\tavailability\tby\tgiving\tus\tways\tto\tresponsibly\thandle changes\tto\tmicroservices.\tA\tstable\tmicroservice\tis\tone\tin\twhich\tdevelopment, deployment,\tthe\taddition\tof\tnew\ttechnologies,\tand\tthe\tdecommissioning\tand deprecation\tof\tmicroservices\tdo\tnot\tgive\trise\tto\tinstability\twithin\tand\tacross\tthe larger\tmicroservice\tecosystem.\tWe\tcan\tdetermine\tstability\trequirements\tfor\teach microservice\tto\tmitigate\tthe\tnegative\tside\teffects\tthat\tmay\taccompany\teach change.\n\nTo\tmitigate\tany\tproblems\tthat\tmay\tarise\tfrom\tthe\tdevelopment\tcycle,\tstable development\tprocedures\tcan\tbe\tput\tinto\tplace.\tTo\tcounteract\tany\tinstability introduced\tby\tdeployment,\twe\tcan\tensure\tour\tmicroservices\tare\tdeployed carefully\twith\tproper\tstaging,\tcanary\t(a\tsmall\tpool\tof\t2%–5%\tof\tproduction hosts),\tand\tproduction\trollouts.\tTo\tprevent\tthe\tintroduction\tof\tnew\ttechnologies and\tthe\tdeprecation\tand\tdecommissioning\tof\told\tmicroservices\tfrom compromising\tthe\tavailability\tof\tother\tservices,\twe\tcan\tenforce\tstable introduction\tand\tdeprecation\tprocedures.\n\nSTABILITY\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\tstable\tmicroservice\tare:\n\nA\tstable\tdevelopment\tcycle\n\nA\tstable\tdeployment\tprocess\n\nStable\tintroduction\tand\tdeprecation\tprocedures\n\nThe\tdetails\tof\tstability\trequirements\tare\tcovered\tin\tChapter\t3,\tStability\tand\tReliability.\n\nReliability Stability\talone\tisn’t\tenough\tto\tensure\ta\tmicroservice’s\tavailability:\tthe\tservice must\talso\tbe\treliable.\tA\treliable\tmicroservice\tis\tone\tthat\tcan\tbe\ttrusted\tby\tits clients,\tby\tits\tdependencies,\tand\tby\tthe\tmicroservice\tecosystem\tas\ta\twhole.\tA reliable\tmicroservice\tis\tone\tthat\thas\ttruly\tearned\tthe\ttrust\tthat\tis\tessential\tand required\tin\torder\tfor\tit\tto\tserve\tproduction\ttraffic.\n\nWhile\tstability\tis\trelated\tto\tmitigating\tthe\tnegative\tside\teffects\taccompanying change,\tand\treliability\tis\trelated\tto\ttrust,\tthe\ttwo\tare\tinextricably\tlinked.\tEach stability\trequirement\talso\tcarries\ta\treliability\trequirement\talongside\tit:\tfor example,\tdevelopers\tshould\tnot\tonly\tseek\tto\thave\tstable\tdeployment\tprocesses, they\tshould\talso\tensure\tthat\teach\tdeployment\tis\treliable\tfrom\tthe\tpoint\tof\tview of\tone\tof\ttheir\tclients\tor\tdependencies.\n\nThe\ttrust\tthat\treliability\tsecures\tcan\tbe\tbroken\tinto\tseveral\trequirements,\tthe same\tway\twe\tdetermined\trequirements\tfor\tstability.\tFor\texample,\twe\tcan\tmake our\tdeployment\tprocesses\treliable\tby\tmaking\tsure\tthat\tour\tintegration\ttests\tare comprehensive\tand\tour\tstaging\tand\tcanary\tdeployment\tphases\tare\tsuccessful\tso that\tevery\tchange\tintroduced\tinto\tproduction\tcan\tbe\ttrusted\tnot\tto\tcontain\tany errors\tthat\tmight\tcompromise\tits\tclients\tand\tdependencies.\n\nBy\tbuilding\treliability\tinto\tour\tmicroservices,\twe\tcan\tprotect\ttheir\tavailability. We\tcan\tcache\tdata\tso\tthat\tit\twill\tbe\treadily\tavailable\tto\tclient\tservices,\thelping them\tprotect\ttheir\tSLAs\tby\tmaking\tour\town\tservices\thighly\tavailable.\tTo\tprotect our\town\tSLA\tfrom\tany\tproblems\twith\tthe\tavailability\tof\tour\tdependencies,\twe can\timplement\tdefensive\tcaching.\n\nThe\tlast\treliability\trequirement\tis\trelated\tto\trouting\tand\tdiscovery.\tAvailability requires\tthat\tthe\tcommunication\tand\trouting\tbetween\tdifferent\tservices\tbe reliable:\thealth\tchecks\tshould\tbe\taccurate,\trequests\tand\tresponses\tshould\treach their\tdestinations,\tand\terrors\tshould\tbe\thandled\tcarefully\tand\tappropriately.\n\nRELIABILITY\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\treliable\tmicroservice\tare:\n\nA\treliable\tdeployment\tprocess\n\nPlanning,\tmitigating,\tand\tprotecting\tagainst\tthe\tfailures\tof\tdependencies\n\nReliable\trouting\tand\tdiscovery\n\nThe\tdetails\tof\tproduction-ready\treliability\trequirements\tare\tcovered\tin\tChapter\t3,\tStability\tand Reliability.\n\nScalability Microservice\ttraffic\tis\trarely\tstatic\tor\tconstant,\tand\tone\tof\tthe\thallmarks\tof\ta successful\tmicroservice\t(and\tof\ta\tsuccessful\tmicroservice\tecosystem)\tis\ta\tsteady increase\tin\ttraffic.\tMicroservices\tneed\tto\tbe\tbuilt\tin\tpreparation\tfor\tthis\tgrowth, they\tneed\tto\taccommodate\tit\teasily,\tand\tthey\tneed\tto\tbe\table\tto\tactively\tscale with\tit.\tA\tmicroservice\tthat\tcan’t\tscale\twith\tgrowth\texperiences\tincreased latency,\tpoor\tavailability,\tand\tin\textreme\tcases,\ta\tdrastic\tincrease\tin\tincidents and\toutages.\tScalability\tis\tessential\tfor\tavailability,\tmaking\tit\tour\tthird production-readiness\tstandard.\n\nA\tscalable\tmicroservice\tis\tone\tthat\tcan\thandle\ta\tlarge\tnumber\tof\ttasks\tor requests\tat\tthe\tsame\ttime.\tTo\tensure\ta\tmicroservice\tis\tscalable,\twe\tneed\tto\tknow both\t(1)\tits\tqualitative\tgrowth\tscale\t(e.g.,\twhether\tit\tscales\twith\tpage\tviews\tor customer\torders)\tand\t(2)\tits\tquantitative\tgrowth\tscale\t(e.g.,\thow\tmany\trequests per\tsecond\tit\tcan\thandle).\tOnce\twe\tknow\tthe\tgrowth\tscale,\twe\tcan\tplan\tfor future\tcapacity\tneeds\tand\tidentify\tresource\tbottlenecks\tand\trequirements.\n\nThe\tway\ta\tmicroservice\thandles\ttraffic\tshould\talso\tbe\tscalable.\tIt\tshould\tbe prepared\tfor\tbursts\tof\ttraffic,\thandle\tthem\tcarefully,\tand\tprevent\tthem\tfrom taking\tdown\tthe\tservice\tentirely.\tIt’s\teasier\tsaid\tthan\tdone,\tbut\twithout\tscalable traffic\thandling,\tdevelopers\tcan\t(and\twill)\tfind\tthemselves\tlooking\tat\ta\tbroken microservice\tecosystem.\n\nAdditional\tcomplexity\tis\tintroduced\tby\tthe\trest\tof\tthe\tmicroservice\tecosystem. The\tinevitable\tadditional\ttraffic\tand\tgrowth\tfrom\ta\tservice’s\tclients\thave\tto\tbe prepared\tfor.\tLikewise,\tany\tdependencies\tof\tthe\tservice\tshould\tbe\talerted\twhen increases\tin\ttraffic\tare\texpected.\tCross-team\tcommunication\tand\tcollaboration are\tessential\tfor\tscalability:\tregularly\tcommunicating\twith\tclients\tand dependencies\tabout\ta\tservice’s\tscalability\trequirements,\tstatus,\tand\tany bottlenecks\tensures\tthat\tany\tservices\trelying\ton\teach\tother\tare\tprepared\tfor growth\tand\tfor\tpotential\tpitfalls.\n\nLast\tbut\tnot\tleast,\tthe\tway\ta\tmicroservice\tstores\tand\thandles\tdata\tneeds\tto\tbe scalable\tas\twell.\tBuilding\ta\tscalable\tstorage\tsolution\tgoes\ta\tlong\tway\ttoward ensuring\tthe\tavailability\tof\ta\tmicroservice,\tand\tis\tone\tof\tthe\tmost\tessential components\tof\ta\ttruly\tproduction-ready\tsystem.\n\nSCALABILITY\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\tscalable\tmicroservice\tare:\n\nWell-defined\tquantitative\tand\tqualitative\tgrowth\tscales\n\nIdentification\tof\tresource\tbottlenecks\tand\trequirements\n\nCareful,\taccurate\tcapacity\tplanning\n\nScalable\thandling\tof\ttraffic\n\nThe\tscaling\tof\tdependencies\n\nScalable\tdata\tstorage\n\nThe\tdetails\tof\tproduction-ready\tscalability\trequirements\tare\tcovered\tin\tChapter\t4,\tScalability\tand Performance.\n\nFault\tTolerance\tand\tCatastrophe-Preparedness Even\tthe\tsimplest\tof\tmicroservices\tis\ta\tfairly\tcomplex\tsystem.\tAs\twe\tknow\tquite well,\tcomplex\tsystems\tfail,\tthey\tfail\toften,\tand\tany\tpotential\tfailure\tscenario\tcan and\twill\thappen\tat\tsome\tpoint\tin\tthe\tmicroservice’s\tlifetime.\tMicroservices don’t\tlive\tin\tisolation,\tbut\twithin\tdependency\tchains\tas\tpart\tof\ta\tlarger, incredibly\tcomplex\tmicroservice\tecosystem.\tThe\tcomplexity\tscales\tlinearly\twith the\tnumber\tof\tmicroservice\tin\tthe\toverall\tecosystem,\tand\tensuring\tthe availability\tof\tnot\tonly\tan\tindividual\tmicroservice,\tbut\tthe\tecosystem\tas\ta\twhole, requires\tthat\twe\timpose\tyet\tanother\tproduction-readiness\tstandard\tonto\teach microservice.\tEvery\tmicroservice\twithin\tthe\tecosystem\tmust\tbe\tfault\ttolerant and\tprepared\tfor\tany\tcatastrophe.\n\nA\tfault-tolerant,\tcatastrophe-prepared\tmicroservice\tis\tone\tthat\tcan\twithstand both\tinternal\tand\texternal\tfailures.\tInternal\tfailures\tare\tthose\tthat\tthe microservice\tbrings\ton\titself:\tfor\texample,\tcode\tbugs\tthat\taren’t\tcaught\tby proper\ttesting\tlead\tto\tbad\tdeploys,\tcausing\toutages\tthat\taffect\tthe\tentire ecosystem.\tExternal\tcatastrophes,\tsuch\tas\tdatacenter\toutages\tand/or\tpoor configuration\tmanagement\tacross\tthe\tecosystem,\tlead\tto\toutages\tthat\taffect\tthe availability\tof\tevery\tmicroservice\tand\tthe\tentire\torganization.\n\nFailure\tscenarios\tand\tpotential\tcatastrophes\tcan\tbe\tquite\tadequately\t(though\tnot exhaustively)\tprepared\tfor.\tIdentifying\tfailure\tand\tcatastrophe\tscenarios\tis\tthe first\trequirement\tof\tbuilding\ta\tfault-tolerant,\tproduction-ready\tmicroservice. Once\tthese\tscenarios\thave\tbeen\tidentified,\tthe\thard\twork\tof\tstrategizing\tand planning\tfor\twhen\tthey\twill\toccur\tbegins.\tThis\thas\tto\thappen\tat\tevery\tlevel\tof the\tmicroservice\tecosystem,\tand\tany\tshared\tstrategies\tshould\tbe\tcommunicated across\tthe\torganization\tso\tthat\tmitigation\tis\tstandardized\tand\tpredictable.\n\nStandardization\tof\tfailure\tmitigation\tand\tresolution\tat\tthe\torganizational\tlevel means\tthat\tincidents\tand\toutages\tof\tindividual\tmicroservices,\tinfrastructure components,\tor\tthe\tecosystem\tas\ta\twhole\tneed\tto\tbe\twrapped\tinto\tcarefully executed,\teasily\tunderstandable\tprocedures.\tIncident\tresponse\tprocedures\tneed to\tbe\thandled\tin\ta\tcoordinated,\tplanned,\tand\tthoroughly\tcommunicated\tmanner. If\tincidents\tand\toutages\tare\thandled\tin\tthis\tway,\tand\tthe\tstructure\tof\tincident response\tis\twell\tdefined,\torganizations\tcan\tavoid\tlengthy\tdowntimes\tand\tprotect the\tavailability\tof\tthe\tmicroservices.\tIf\tevery\tdeveloper\tknows\texactly\twhat\tthey are\tsupposed\tto\tdo\tin\tan\toutage,\tknows\thow\tto\tmitigate\tand\tresolve\tproblems\n\nquickly\tand\tappropriately,\tand\tknows\thow\tto\tescalate\tif\tan\tissue\tis\tbeyond\ttheir capabilities\tor\tcontrol,\tthen\tthe\ttime\tto\tmitigation\tand\ttime\tto\tresolution\tdrop drastically.\n\nMaking\tfailures\tand\tcatastrophes\tpredictable\tmeans\tgoing\tone\tstep\tfurther\tafter identifying\tfailure\tand\tcatastrophe\tscenarios\tand\tplanning\tfor\tthem.\tIt\tmeans forcing\tthe\tmicroservices,\tthe\tinfrastructure,\tand\tthe\tecosystem\tto\tfail\tin\tany\tand all\tknown\tways\tto\ttest\tthe\tavailability\tof\tthe\tentire\tsystem.\tThis\tis\taccomplished through\tvarious\ttypes\tof\tresiliency\ttesting.\tCode\ttesting\t(including\tunit\ttests, regression\ttests,\tand\tintegration\ttests)\tis\tthe\tfirst\tstep\tin\ttesting\tfor\tresiliency. The\tsecond\tstep\tis\tload\ttesting,\twhere\tmicroservices\tand\tinfrastructure components\tare\ttested\tfor\ttheir\tability\tto\thandle\tdrastic\tchanges\tin\ttraffic.\tThe last,\tmost\tintense,\tand\tmost\trelevant\ttype\tof\tresiliency\ttesting\tis\tchaos\ttesting,\tin which\tfailure\tscenarios\tare\trun\t(both\tscheduled\tand\trandomly)\ton\tproduction services\tto\tensure\tthat\tmicroservices\tand\tinfrastructure\tcomponents\tare\ttruly prepared\tfor\tall\tknown\tfailure\tscenarios.\n\nFAULT\tTOLERANCE\tAND\tCATASTROPHE-PREPAREDNESS\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\tfault-tolerant\tmicroservice\tthat\tis\tprepared\tfor\tany\tcatastrophe\tare:\n\nPotential\tcatastrophes\tand\tfailure\tscenarios\tare\tidentified\tand\tplanned\tfor.\n\nSingle\tpoints\tof\tfailure\tare\tidentified\tand\tresolved.\n\nFailure\tdetection\tand\tremediation\tstrategies\tare\tin\tplace.\n\nIt\tis\ttested\tfor\tresiliency\tthrough\tcode\ttesting,\tload\ttesting,\tand\tchaos\ttesting.\n\nTraffic\tis\tmanaged\tcarefully\tin\tpreparation\tfor\tfailure.\n\nIncidents\tand\toutages\tare\thandled\tappropriately\tand\tproductively.\n\nThe\tdetails\tof\tproduction-ready\tfault\ttolerance\tand\tcatastrophe-preparedness\trequirements\tare covered\tin\tChapter\t5,\tFault\tTolerance\tand\tCatastrophe-Preparedness.\n\nPerformance In\tthe\tcontext\tof\tthe\tmicroservice\tecosystem,\tscalability\t(which\twe\tcovered\tin brief\tdetail\tearlier),\tis\trelated\tto\thow\tmany\trequests\ta\tmicroservice\tcan\thandle. Our\tnext\tproduction-readiness\tprinciple\t—\tperformance\t—\trefers\tto\thow\twell the\tmicroservice\thandles\tthose\trequests.\tA\tperformant\tmicroservice\tis\tone\tthat handles\trequests\tquickly,\tprocesses\ttasks\tefficiently,\tand\tproperly\tutilizes resources\t(such\tas\thardware\tand\tother\tinfrastructure\tcomponents).\n\nA\tmicroservice\tthat\tmakes\ta\tlarge\tnumber\tof\texpensive\tnetwork\tcalls,\tfor example,\tis\tnot\tperformant.\tNeither\tis\ta\tmicroservice\tthat\tprocesses\tand\thandles tasks\tsynchronously\tin\tcases\twhen\tasynchronous\t(nonblocking)\ttask\tprocessing would\tincrease\tthe\tperformance\tand\tavailability\tof\tthe\tservice.\tIdentifying\tand architecting\taway\tthese\tperformance\tproblems\tis\ta\tstrict\tproduction-readiness requirement.\n\nSimilarly,\tdedicating\ta\tlarge\tnumber\tof\tresources\t(like\tCPU)\tto\ta\tmicroservice that\tdoesn’t\tutilize\tit\tis\tinefficient.\tInefficiency\treduces\tperformance:\tif\tit’s\tnot clear\tat\tthe\tmicroservice\tlevel\tin\tevery\tcase,\tit’s\tpainful\tand\tcostly\tat\tthe ecosystem\tlevel.\tUnderutilized\thardware\tresources\taffects\tthe\tbottom\tline,\tand hardware\tis\tnot\tcheap.\tThere’s\ta\tfine\tline\tbetween\tunderutilization\tand\tproper capacity\tplanning,\tand\tso\tthe\ttwo\tmust\tbe\tplanned\tand\tunderstood\ttogether\tin order\tfor\tthe\tavailability\tof\tthe\tmicroservice\tto\tnot\tbe\tcompromised\tand\tthe\tcost of\tunderutilization\treasonable.\n\nPERFORMANCE\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\tperformant\tmicroservice\tare:\n\nAppropriate\tservice-level\tagreements\t(SLAs)\tfor\tavailability\n\nProper\ttask\thandling\tand\tprocessing\n\nEfficient\tutilization\tof\tresources\n\nThe\tdetails\tof\tproduction-ready\tperformance\trequirements\tare\tcovered\tin\tChapter\t4,\tScalability\tand Performance.\n\nMonitoring Another\tprinciple\tnecessary\tfor\tguaranteeing\tmicroservice\tavailability\tis\tproper microservice\tmonitoring.\tGood\tmonitoring\thas\tthree\tcomponents:\tproper logging\tof\tall\timportant\tand\trelevant\tinformation;\tuseful\tgraphical\tdisplays (dashboards)\tthat\tare\teasily\tunderstood\tby\tany\tdeveloper\tin\tthe\tcompany\tand that\taccurately\treflect\tthe\thealth\tof\tthe\tservices;\tand\talerting\ton\tkey\tmetrics\tthat is\teffective\tand\tactionable.\n\nLogging\tbelongs\tand\tbegins\tin\tthe\tcodebase\tof\teach\tmicroservice.\tDetermining precisely\twhat\tinformation\tto\tlog\twill\tdiffer\tfor\teach\tservice,\tbut\tthe\tgoal\tof logging\tis\tquite\tsimple:\twhen\tfaced\twith\ta\tbug\t—\teven\tone\tfrom\tmany deployments\tin\tthe\tpast\t—\tyou\twant\tand\tneed\tyour\tlogging\tto\tbe\tsuch\tthat\tyou can\tdetermine\tfrom\tthe\tlogs\texactly\twhat\twent\twrong\tand\twhere\tthings\tfell apart.\tIn\tmicroservice\tecosystems,\tthe\tversioning\tof\tmicroservices\tis discouraged,\tso\tyou\twon’t\thave\ta\tprecise\tversion\tto\trefer\tto\tin\twhich\tto\tfind\tany bugs\tor\tproblems.\tCode\tis\trevised\tfrequently,\tdeployments\thappen\tmultiple times\tper\tweek,\tfeatures\tare\tadded\tconstantly,\tand\tdependencies\tare\tever- changing,\tbut\tlogs\twill\tstay\tthe\tsame,\tpreserving\tthe\tinformation\tneeded\tto pinpoint\tany\tproblems.\tJust\tmake\tsure\tyour\tlogs\tcontain\tthe\tinformation necessary\tto\tdetermine\tpossible\tproblems.\n\nAll\tkey\tmetrics\t(such\tas\thardware\tutilization,\tdatabase\tconnections,\tresponses and\taverage\tresponse\ttimes,\tand\tthe\tstatus\tof\tAPI\tendpoints)\tshould\tbe graphically\tdisplayed\tin\treal\ttime\ton\tan\teasily\taccessible\tdashboard.\tDashboards are\tan\timportant\tcomponent\tof\tbuilding\ta\twell-monitored,\tproduction-ready microservice:\tthey\tmake\tit\teasy\tto\tdetermine\tthe\thealth\tof\ta\tmicroservice\twith one\tglance\tand\tenable\tdevelopers\tto\tdetect\tstrange\tpatterns\tand\tanomalies\tthat may\tnot\tbe\textreme\tenough\tto\ttrigger\talerting\tthresholds.\tWhen\tused\twisely, dashboards\tallow\tdevelopers\tto\tdetermine\twhether\tor\tnot\ta\tmicroservice\tis working\tcorrectly\tsimply\tby\tlooking\tat\tthe\tdashboard,\tbut\tdevelopers\tshould never\tneed\tto\twatch\tthe\tdashboard\tin\torder\tto\tdetect\tincidents\tand\toutages,\tand rollbacks\tto\tstable\tprevious\tbuilds\tshould\tbe\tfully\tautomated.\n\nThe\tactual\tdetection\tof\tfailures\tis\taccomplished\tthrough\talerting.\tAll\tkey\tmetrics must\tbe\talerted\ton,\tincluding\t(at\tthe\tvery\tleast)\tCPU\tand\tRAM\tutilization, number\tof\tfile\tdescriptors,\tnumber\tof\tdatabase\tconnections,\tthe\tSLA\tof\tthe service,\trequests\tand\tresponses,\tthe\tstatus\tof\tAPI\tendpoints,\terrors\tand\n\nexceptions,\tthe\thealth\tof\tthe\tservice’s\tdependencies,\tinformation\tabout\tany database(s),\tand\tthe\tnumber\tof\ttasks\tbeing\tprocessed\t(if\tapplicable).\n\nNormal,\twarning,\tand\tcritical\tthresholds\tneed\tto\tbe\tset\tfor\teach\tof\tthese\tkey metrics,\tand\tany\tdeviation\tfrom\tthe\tnorm\t(i.e.,\thitting\tthe\twarning\tor\tcritical thresholds)\tshould\ttrigger\tan\talert\tto\tthe\tdevelopers\twho\tare\ton\tcall\tfor\tthe service.\tThresholds\tshould\tbe\tsignal-providing:\thigh\tenough\tto\tavoid\tnoise,\tbut low\tenough\tto\tcatch\tany\tand\tall\treal\tproblems.\n\nAlerts\tneed\tto\tbe\tuseful\tand\tactionable.\tA\tnonactionable\talert\tis\tnot\ta\tuseful alert,\tand\ta\twaste\tof\tengineering\thours.\tEvery\tactionable\talert\t—\tthat\tis,\tevery alert\t—\tshould\tbe\taccompanied\tby\ta\trunbook.\tFor\texample,\tif\tan\talert\tis triggered\ton\ta\thigh\tnumber\tof\texceptions\tof\ta\tcertain\ttype,\tthen\tthere\tneeds\tto\tbe a\trunbook\tcontaining\tmitigation\tstrategies\tthat\tany\ton-call\tdeveloper\tcan\trefer\tto while\tattempting\tto\tresolve\tthe\tproblem.\n\nMONITORING\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\tproperly\tmonitored\tmicroservice\tare:\n\nProper\tlogging\tand\ttracing\tthroughout\tthe\tstack\n\nWell-designed\tdashboards\tthat\tare\teasy\tto\tunderstand\tand\taccurately\treflect\tthe\thealth\tof\tthe\tservice\n\nEffective,\tactionable\talerting\taccompanied\tby\trunbooks\n\nImplementing\tand\tmaintaining\tan\ton-call\trotation\n\nThe\tdetails\tof\tproduction-ready\tmonitoring\trequirements\tare\tcovered\tin\tChapter\t6,\tMonitoring.\n\nDocumentation Microservice\tarchitecture\tcarries\tthe\tpotential\tfor\tincreased\ttechnical\tdebt\t—\tit’s one\tof\tthe\tkey\ttrade-offs\tthat\tcome\twith\tadopting\tmicroservices.\tAs\ta\trule, technical\tdebt\ttends\tto\tincrease\twith\tdeveloper\tvelocity:\tthe\tmore\tquickly\ta service\tcan\tbe\titerated\ton,\tchanged,\tand\tdeployed,\tthe\tmore\tfrequently\tshortcuts and\tpatches\twill\tbe\tput\tinto\tplace.\tOrganizational\tclarity\tand\tstructure\taround the\tdocumentation\tand\tunderstanding\tof\ta\tmicroservice\tcut\tthrough\tthis technical\tdebt\tand\tshave\toff\ta\tlot\tof\tthe\tconfusion,\tlack\tof\tawareness,\tand\tlack of\tarchitectural\tcomprehension\tthat\ttend\tto\taccompany\tit.\n\nReducing\ttechnical\tdebt\tisn’t\tthe\tonly\treason\tto\tmake\tgood\tdocumentation\ta production-readiness\tprinciple:\tdoing\tso\twould\tmake\tit\tsomewhat\tof\tan afterthought\t(an\timportant\tafterthought,\tbut\tan\tafterthought\tnonetheless).\tNo, just\tlike\teach\tof\tthe\tother\tproduction-readiness\tstandards,\tdocumentation\tand\tits counterpart\t(understanding)\tdirectly\tand\tmeasurably\tinfluence\tthe\tavailability\tof a\tmicroservice.\n\nTo\tsee\twhy\tthis\tis\ttrue,\twe\tcan\tthink\tabout\thow\tteams\tof\tdevelopers\twork together\tand\tshare\ttheir\tknowledge\tand\tunderstanding\tof\ta\tmicroservice.\tYou can\tdo\tthis\tyourself\tby\tsitting\tone\tof\tyour\tdevelopment\tteams\tin\ta\troom,\tin\tfront of\ta\twhiteboard,\tand\tasking\tthem\tto\tsketch\tthe\tarchitecture\tand\tall\timportant details\tof\tthe\tservice.\tI\tpromise\tyou\twill\tbe\tsurprised\tby\tthe\tresult\tof\tthis exercise,\tand\tyou\twill\tmost\tlikely\tfind\tthat\tknowledge\tand\tunderstanding\tof\tthe service\tis\tnot\tcohesive\tor\tcoherent\tacross\tthe\tgroup.\tOne\tdeveloper\twill\tknow one\tthing\tabout\tthe\tapplication\tthat\tnobody\telse\tdoes,\twhile\ta\tsecond\tdeveloper will\thave\tsuch\ta\tdifferent\tunderstanding\tof\tthe\tmicroservice\tthat\tyou\twill wonder\tif\tthey\tare\teven\tcontributing\tto\tthe\tsame\tcodebase.\tWhen\tit’s\ttime\tfor code\tchanges\tto\tbe\treviewed,\ttechnologies\tto\tbe\tswapped,\tor\tfeatures\tto\tbe added,\tthe\tlack\tof\talignment\tof\tknowledge\tand\tunderstanding\twill\tlead\tto\tthe design\tand/or\tevolution\tof\tmicroservices\tthat\tare\tnot\tproduction-ready, containing\tserious\tflaws\tthat\tundermine\tthe\tservice’s\tability\tto\treliably\tserve production\ttraffic.\n\nThis\tconfusion\tand\tthe\tproblems\tthat\tit\tcreates\tcan\tbe\tsuccessfully\tand\trather easily\tavoided\tby\trequiring\tthat\tevery\tmicroservice\tfollow\ta\tvery\tstrictly standardized\tset\tof\tdocumentation\trequirements.\tDocumentation\tneeds\tto contain\tall\tthe\tessential\tknowledge\t(facts)\tabout\ta\tmicroservice,\tincluding\tan architecture\tdiagram,\tan\tonboarding\tand\tdevelopment\tguide,\tdetails\tabout\tthe\n\narchitecture\tdiagram,\tan\tonboarding\tand\tdevelopment\tguide,\tdetails\tabout\tthe request\tflow\tand\tany\tAPI\tendpoints,\tand\tan\ton-call\trunbook\tfor\teach\tof\tthe service’s\talerts.\n\nUnderstanding\tof\ta\tmicroservice\tcan\tbe\taccomplished\tin\tseveral\tways.\tThe\tfirst is\tby\tdoing\tthe\texercise\tI\tjust\tmentioned:\tstick\tthe\tdevelopment\tteam\tin\ta conference\troom,\tand\task\tthem\tto\twhiteboard\tthe\tarchitecture\tof\tthe\tservice. Thanks\tto\tour\told\tfriend,\tthe\tever-present\tincreased\tdeveloper\tvelocity, microservices\tchange\tradically\tat\tdifferent\ttimes\tthroughout\ttheir\tlifecycle.\tBy making\tthese\tarchitecture\treviews\tpart\tof\teach\tteam’s\tprocess\tand\tscheduling them\tregularly,\tyou\tcan\tguarantee\tthat\tknowledge\tand\tunderstanding\tabout\tany changes\tin\tthe\tmicroservice\twill\tbe\tdisseminated\tto\tthe\tentire\tteam.\n\nTo\tcover\tthe\tsecond\taspect\tof\tmicroservice\tunderstanding,\twe\tneed\tto\tjump\tup by\tone\tlevel\tof\tabstraction\tand\tconsider\tthe\tproduction-readiness\tstandards themselves.\tA\tgreat\tdeal\tof\tmicroservice\tunderstanding\tis\tcaptured\tby determining\twhether\ta\tmicroservice\tis\tproduction-ready\tand\twhere\tit\tstands\twith regard\tto\tthe\tproduction-readiness\tstandards\tand\ttheir\tindividual\trequirements. This\tcan\tbe\taccomplished\tin\ta\tmyriad\tof\tways,\tone\tof\twhich\tis\trunning\taudits\tof whether\ta\tmicroservice\tmeets\tthe\trequirements,\tand\tthen\tcreating\ta\troadmap\tfor the\tservice\tdetailing\thow\tto\tbring\tit\tto\ta\tproduction-ready\tstate.\tChecking\tthe requirements\tcan\talso\tbe\tautomated\tacross\tthe\torganization.\tWe’ll\tdive\tinto other\taspects\tof\tthis\tin\tmore\tdetail\tin\tthe\tnext\tsection\ton\tthe\timplementation\tof production-readiness\tstandards\tin\tan\torganization\tthat\thas\tadopted\tmicroservice architecture.\n\nDOCUMENTATION\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\twell-documented\tmicroservice\tare:\n\nThorough,\tupdated,\tand\tcentralized\tdocumentation\tcontaining\tall\tof\tthe\trelevant\tand\tessential\n\ninformation\tabout\tthe\tmicroservice\n\nOrganizational\tunderstanding\tat\tthe\tdeveloper,\tteam,\tand\tecosystem\tlevels\n\nThe\tdetails\tof\tproduction-ready\tdocumentation\trequirements\tare\tcovered\tin\tChapter\t7, Documentation\tand\tUnderstanding.\n\nImplementing\tProduction-Readiness We\tnow\thave\ta\tset\tof\tstandards\tthat\tapply\tto\tevery\tmicroservice\tin\tany microservice\tecosystem,\teach\twith\tits\town\tset\tof\tspecific\trequirements.\tAny microservice\tthat\tsatisfies\tthese\trequirements\tcan\tbe\ttrusted\tto\tserve\tproduction traffic\tand\tguarantee\ta\thigh\tlevel\tof\tavailability.\n\nNow\tthat\twe\thave\tthe\tproduction-readiness\tstandards,\tthe\tquestion\tthat\tremains is\thow\twe\tcan\timplement\tthem\tin\ta\tspecialized,\treal-world\tmicroservice ecosystem.\tGoing\tfrom\tprinciple\tto\tpractice\tand\tapplying\ttheory\tto\treal-world applications\talways\tpresents\tus\twith\tsome\tsignificant\tlevel\tof\tdifficulty. However,\tthe\tpower\tof\tthese\tproduction-readiness\tstandards\tand\tthe requirements\tthey\timpose\tlies\tin\ttheir\tremarkable\tapplicability\tand\tstrict granularity:\tthey\tare\tboth\tgeneral\tenough\tto\tapply\tto\tany\tecosystem,\tyet\tspecific enough\tto\tprovide\tconcrete\tstrategies\tfor\timplementation.\n\nStandardization\trequires\tbuy-in\tfrom\tall\tlevels\tof\tthe\torganization,\tand\tmust\tbe adopted\tand\tdriven\tboth\tfrom\tthe\ttop-down\tand\tfrom\tthe\tbottom-up.\tAt\tthe executive\tand\tleadership\t(managerial\tand\ttechnical)\tlevels,\tthese\tprinciples\tneed to\tbe\tdriven\tand\tsupported\tas\tarchitectural\trequirements\tfor\tthe\tengineering organization.\tOn\tthe\tground\tfloor,\twithin\tindividual\tdevelopment\tteams, standardization\tneeds\tto\tbe\tembraced\tand\timplemented.\tImportantly, standardization\tneeds\tto\tbe\tseen\tand\tcommunicated\tnot\tas\ta\thindrance\tor\tgate\tto development\tand\tdeployment,\tbut\tas\ta\tguide\tfor\tproduction-ready\tdevelopment and\tdeployment.\n\nMany\tdevelopers\tmay\tresist\tstandardization.\tAfter\tall,\tthey\tmay\targue,\tisn’t\tthe point\tof\tadopting\tmicroservice\tarchitecture\tto\tprovide\tgreater\tdeveloper velocity,\tfreedom,\tand\tproductivity?\tThe\tanswer\tto\tthese\tsorts\tof\tobjections\tis not\tto\tdeny\tthat\tthe\tadoption\tof\tmicroservice\tarchitecture\tbrings\tfreedom\tand velocity\tto\tdevelopment\tteams,\tbut\tto\tagree\tand\tpoint\tout\tthat\tthat\tis\texactly\twhy production-readiness\tstandards\tneed\tto\tbe\tin\tplace.\tDeveloper\tvelocity\tand productivity\tgrind\tto\ta\thalt\twhenever\tan\toutage\tbrings\ta\tservice\tdown,\twhenever a\tbad\tdeploy\tcompromises\tthe\tavailability\tof\ta\tmicroservice’s\tclients\tand dependencies,\twhenever\ta\tfailure\tthat\tcould\thave\tbeen\tavoided\twith\tproper resiliency\ttesting\tbrings\tthe\tentire\tmicroservice\tecosystem\tdown.\tIf\twe’ve learned\tanything\tin\tthe\tpast\t50\tyears\tabout\tsoftware\tdevelopment,\twe’ve\tlearned\n\nthat\tstandardization\tbrings\tfreedom\tand\treduces\tentropy.\tAs\tBrooks\tsays\tin\tThe Mythical\tMan-Month,\tperhaps\tthe\tgreatest\tcollection\tof\tessays\ton\tthe\tpractice\tof software\tengineering,\t“form\tis\tliberating.”\n\nOnce\tthe\tengineering\torganization\thas\tadopted\tand\tagreed\tto\tfollow\tproduction- readiness\tstandards,\tthe\tnext\tstep\tis\tto\tevaluate\tand\telaborate\ton\teach\tstandard’s requirements.\tThe\trequirements\tpresented\there\tand\tdetailed\tthroughout\tthis\tbook are\tvery\tgeneral\tand\tneed\tthe\taddition\tof\tcontext\tand\torganization-specific details\tand\timplementation\tstrategies.\tWhat\tneeds\tto\tbe\tdone\tis\tto\twork\tthrough each\tproduction-readiness\tstandard\tand\tits\trequirements\tand\tto\tfigure\tout\thow each\trequirement\tcan\tbe\timplemented\tin\tthe\tengineering\torganization.\tFor example,\tif\tthe\torganization’s\tmicroservice\tecosystem\thas\ta\tself-service deployment\ttool,\tthen\timplementing\ta\tstable\tand\treliable\tdeployment\tprocess needs\tto\tbe\tcommunicated\tin\tterms\tof\tthe\tinternal\tdeployment\ttool\tand\thow\tit works.\tRebuilding\tinternal\ttools\tand/or\tadding\tfeatures\tto\tthem\tmay\talso\tcome out\tof\tthis\texercise.\n\nThe\tactual\timplementation\tof\tthe\trequirements\tand\tdetermining\twhether\tor\tnot\ta given\tmicroservice\tmeets\tthem\tcan\tbe\tdone\tby\tthe\tdevelopers\tthemselves,\tby team\tleads,\tby\tmanagement,\tor\tby\toperations\t(systems,\tDevOps,\tor\tsite reliability)\tengineers.\tAt\tboth\tUber\tand\tthe\tseveral\tother\tcompanies\tI\tknow\tthat have\tadopted\tproduction-readiness\tstandardization,\tthe\timplementation\tand enforcement\tof\tthe\tproduction-readiness\tstandards\tis\tdriven\tby\tthe\tsite\treliability engineering\t(SRE)\torganizations.\tTypically,\tSREs\tare\tresponsible\tfor\tthe availability\tof\tthe\tservices,\tand\tso\tdriving\tthese\tstandards\tacross\tthe microservice\tecosystem\tfits\tin\tquite\twell\twith\texisting\tresponsibilities.\tThat\tisn’t to\tsay\tthat\tthe\tdevelopers\tor\tdevelopment\tteams\thave\tno\tresponsibility\tfor ensuring\ttheir\tservices\tare\tproduction-ready;\trather,\tSREs\tinform,\tdrive,\tand enforce\tproduction-readiness\twithin\tthe\tmicroservice\tecosystem,\tand\tthe responsibility\tof\timplementation\tfalls\ton\tboth\tthe\tSREs\tembedded\twithin development\tteams\tand\ton\tthe\tdevelopers\tthemselves.\n\nBuilding\tand\tmaintaining\ta\tproduction-ready\tmicroservice\tecosystem\tis\tnot\tan easy\tchallenge\tto\tundertake,\tbut\tthe\trewards\tare\tgreat,\tand\tthe\timpact\tcan\tbe seen\tso\tclearly\tin\tthe\tincreased\tavailability\tof\teach\tmicroservice.\tImplementing production-readiness\tstandards\tand\ttheir\trequirements\tprovides\tmeasurable results,\tand\tmeans\tthat\tdevelopment\tteams\tcan\twork\tknowing\tthat\tthe\tservices they\tdepend\ton\tare\ttrustworthy,\tthat\tthey\tare\tstable,\treliable,\tfault\ttolerant, performant,\tmonitored,\tdocumented,\tand\tprepared\tfor\tany\tcatastrophe.\n\nChapter\t3.\tStability\tand\tReliability\n\nA\tproduction-ready\tmicroservice\tis\tstable\tand\treliable.\tBoth\tindividual microservices\tand\tthe\toverall\tmicroservice\tecosystem\tare\tconstantly\tchanging and\tevolving,\tand\tany\tefforts\tmade\tto\tincrease\tthe\tstability\tand\treliability\tof\ta microservice\tgo\ta\tlong\tway\ttoward\tensuring\tthe\thealth\tand\tavailability\tof\tthe overall\tecosystem.\tIn\tthis\tchapter,\tdifferent\tways\tto\tbuild\tand\trun\ta\tstable\tand reliable\tmicroservice\tare\texplored,\tincluding\tstandardizing\tthe\tdevelopment process,\tbuilding\tcomprehensive\tdeployment\tpipelines,\tunderstanding dependencies\tand\tprotecting\tagainst\ttheir\tfailures,\tbuilding\tstable\tand\treliable routing\tand\tdiscovery,\tand\testablishing\tappropriate\tdeprecation\tand decommissioning\tprocedures\tfor\told\tor\toutdated\tmicroservices\tand/or\ttheir endpoints.",
      "page_number": 52
    },
    {
      "number": 3,
      "title": "Stability\tand\tReliability",
      "start_page": 73,
      "end_page": 109,
      "detection_method": "regex_chapter_title",
      "content": "Principles\tof\tBuilding\tStable\tand\tReliable Microservices Microservice\tarchitecture\tlends\titself\tto\tfast-paced\tdevelopment.\tThe\tfreedom offered\tby\tmicroservices\tmeans\tthat\tthe\tecosystem\twill\tbe\tin\ta\tstate\tof continuous\tchange,\tnever\tstatic,\talways\tevolving.\tFeatures\twill\tbe\tadded\tevery day,\tnew\tbuilds\twill\tbe\tdeployed\tmultiple\ttimes\tper\tday,\tand\told\ttechnologies will\tbe\tswapped\tfor\tnewer\tand\tbetter\tones\tat\tan\tastounding\tpace.\tThis\tfreedom and\tflexibility\tgives\trise\tto\treal,\ttangible\tinnovation,\tbut\tcomes\tat\ta\tgreat\tcost.\n\nInnovation,\tincreased\tdeveloper\tvelocity\tand\tproductivity,\trapid\ttechnological advancement,\tand\tthe\tever-changing\tmicroservice\tecosystem\tcan\tall\tvery quickly\tbe\tbrought\tto\ta\tscreeching\thalt\tif\tany\tpiece\tof\tthe\tmicroservice ecosystem\tbecomes\tunstable\tor\tunreliable.\tIn\tsome\tcases,\tall\tit\ttakes\tto\tbring\tthe entire\tbusiness\tdown\tis\tdeploying\ta\tbroken\tbuild\tor\ta\tbuild\tcontaining\ta\tbug\tto one\tbusiness-critical\tmicroservice.\n\nA\tstable\tmicroservice\tis\tone\tfor\twhich\tdevelopment,\tdeployment,\tthe\tadoption of\tnew\ttechnologies,\tand\tthe\tdecommissioning\tor\tdeprecation\tof\tother\tservices do\tnot\tgive\trise\tto\tinstability\tacross\tthe\tlarger\tmicroservice\tecosystem.\tThis requires\tputting\tmeasures\tinto\tplace\tto\tprotect\tagainst\tthe\tnegative\tconsequences that\tmay\tbe\tintroduced\tby\tthese\ttypes\tof\tchanges.\tA\treliable\tmicroservice\tis\tone that\tcan\tbe\ttrusted\tby\tother\tmicroservices\tand\tby\tthe\toverall\tecosystem.\tStability goes\thand\tin\thand\twith\treliability\tbecause\teach\tstability\trequirement\tcarries\twith it\ta\treliability\trequirement\t(and\tvice\tversa):\tfor\texample,\tstable\tdeployment processes\tare\taccompanied\tby\ta\trequirement\tthat\teach\tnew\tdeployment\tdoes\tnot compromise\tthe\treliability\tof\tthe\tmicroservice\tfrom\tthe\tpoint\tof\tview\tof\tone\tof their\tclients\tor\tdependencies.\n\nThere\tare\tseveral\tthings\tthat\tcan\tbe\tdone\tto\tensure\tthat\ta\tmicroservice\tis\tstable and\treliable.\tA\tstandardized\tdevelopment\tcycle\tcan\tbe\timplemented\tto\tprotect against\tpoor\tdevelopment\tpractices.\tThe\tdeployment\tprocess\tcan\tbe\tdesigned\tso that\tchanges\tto\tthe\tcode\tare\tforced\tto\tpass\tthrough\tmultiple\tstages\tbefore\tbeing rolled\tout\tto\tall\tproduction\tservers.\tDependency\tfailures\tcan\tbe\tprotected against.\tHealth\tchecks,\tproper\trouting,\tand\tcircuit\tbreaking\tcan\tbe\tbuilt\tinto\tthe routing\tand\tdiscovery\tchannels\tto\thandle\tanomalous\ttraffic\tpatterns.\tFinally, microservices\tand\ttheir\tendpoints\tcan\tbe\tdeprecated\tand/or\tdecommissioned without\tcausing\tany\tfailures\tfor\tother\tmicroservices.\n\nA\tPRODUCTION-READY\tSERVICE\tIS\tSTABLE\tAND\tRELIABLE\n\nIt\thas\ta\tstandardized\tdevelopment\tcycle.\n\nIts\tcode\tis\tthoroughly\ttested\tthrough\tlint,\tunit,\tintegration,\tand\tend-to-end\ttesting.\n\nIts\ttest,\tpackaging,\tbuild,\tand\trelease\tprocess\tis\tcompletely\tautomated.\n\nIt\thas\ta\tstandardized\tdeployment\tpipeline,\tcontaining\tstaging,\tcanary,\tand\tproduction\tphases.\n\nIts\tclients\tare\tknown.\n\nIts\tdependencies\tare\tknown,\tand\tthere\tare\tbackups,\talternatives,\tfallbacks,\tand\tcaching\tin\tplace\tin\n\ncase\tof\tfailures.\n\nIt\thas\tstable\tand\treliable\trouting\tand\tdiscovery\tin\tplace.\n\nThe\tDevelopment\tCycle The\tstability\tand\treliability\tof\ta\tmicroservice\tbegins\twith\tthe\tindividual developer\twho\tis\tcontributing\tcode\tto\tthe\tservice.\tThe\tmajority\tof\toutages\tand microservice\tfailures\tare\tcaused\tby\tbugs\tintroduced\tinto\tthe\tcode\tthat\twere\tnot caught\tin\tthe\tdevelopment\tphase,\tin\tany\tof\tthe\ttests,\tor\tat\tany\tstep\tin\tthe deployment\tprocess.\tMitigating\tand\tresolving\tthese\toutages\tand\tfailures\tusually entails\tnothing\tmore\tthan\trolling\tback\tto\tthe\tlatest\tstable\tbuild,\treverting whatever\tcommit\tcontained\tthe\tbug,\tand\tre-deploying\ta\tnew\t(bug-less)\tversion of\tthe\tcode.\n\nTHE\tTRUE\tCOST\tOF\tUNSTABLE\tAND\tUNRELIABLE DEVELOPMENT\n\nA\tmicroservice\tecosystem\tis\tnot\tthe\tWild\tWest.\tEvery\toutage,\tevery\tincident,\tand\tevery\tbug can\tand\twill\tcost\tthe\tcompany\tthousands\t(if\tnot\tmillions)\tof\tdollars\tin\tengineering\thours\tand lost\trevenue.\tSafeguards\tneed\tto\tbe\tin\tplace\tduring\tthe\tdevelopment\tcycle\t(and,\tas\twe\twill\tsee, in\tthe\tdeployment\tpipeline)\tto\tcatch\tevery\tbug\tbefore\tit\thits\tproduction.\n\nA\tstable\tand\treliable\tdevelopment\tcycle\thas\tseveral\tsteps\t(Figure\t3-1).\n\nFigure\t3-1.\tThe\tdevelopment\tcycle\n\nFirst,\tthe\tdeveloper\tmakes\ta\tchange\tto\tthe\tcode.\tThis\twill\tusually\tbegin\twith checking\ta\tcopy\tof\tthe\tcode\tout\tfrom\ta\tcentral\trepository\t(usually\tusing\tgit\tor svn),\tcreating\tan\tindividual\tbranch\twhere\tthey\twill\tmake\tchanges,\tadding\ttheir changes\tto\ttheir\tbranch,\tand\trunning\tany\tunit\tand\tintegration\ttests.\tThis\tstage\tof development\tcan\thappen\tanywhere:\tlocally\ton\ta\tdeveloper’s\tlaptop\tor\ton\ta server\tin\ta\tdevelopment\tenvironment.\tA\treliable\tdevelopment\tenvironment\t— one\tthat\taccurately\tmirrors\tthe\tproduction\tworld\t—\tis\tkey,\tespecially\tif\ttesting the\tservice\tin\tquestion\trequires\tmaking\trequests\tto\tother\tmicroservices\tor reading\tor\twriting\tdata\tto\ta\tdatabase.\n\nOnce\tthe\tcode\thas\tbeen\tcommitted\tto\tthe\tcentral\trepository,\tthe\tsecond\tstep consists\tin\thaving\tthe\tchange(s)\treviewed\tcarefully\tand\tthoroughly\tby\tother engineers\ton\tthe\tteam.\tIf\tall\treviewers\thave\tapproved\tthe\tchange(s),\tand\tall\tlint, unit,\tand\tintegration\ttests\thave\tpassed\ton\ta\tnew\tbuild,\tthe\tchange\tcan\tbe\tmerged into\tthe\trepository\t(see\tChapter\t5,\tFault\tTolerance\tand\tCatastrophe- Preparedness,\tfor\tmore\ton\tlint,\tunit,\tand\tintegration\ttests).\tThen,\tand\tonly\tthen, can\tthe\tnew\tchange\tbe\tintroduced\tinto\tthe\tdeployment\tpipeline.\n\nTEST\tBEFORE\tCODE\tREVIEW\n\nOne\tway\tto\tensure\tthat\tall\tbugs\tare\tcaught\tbefore\tthey\thit\tproduction\tis\tto\trun\tall\tlint,\tunit, integration,\tand\tend-to-end\ttests\tbefore\tthe\tcode\treview\tphase.\tThis\tcan\tbe\taccomplished\tby having\tdevelopers\twork\ton\ta\tseparate\tbranch,\tkicking\toff\tall\ttests\ton\tthat\tbranch\tas\tsoon\tas\tthe developer\tsubmits\tit\tfor\tcode\treview,\tand\tthen\tonly\tallowing\tit\tto\treach\tcode\treview\t(or\tonly allowing\tit\tto\tbe\tbuilt)\tafter\tit\tsuccessfully\tpasses\tall\ttests.\n\nAs\tmentioned\tin\tthe\tsection\ton\tlayer\t4\tof\tthe\tmicroservice\tecosystem\tin Chapter\t1,\tMicroservices,\ta\tlot\thappens\tin\tbetween\tthe\tdevelopment\tcycle\tand the\tdeployment\tpipeline.\tThe\tnew\trelease\tneeds\tto\tbe\tpackaged,\tbuilt,\tand thoroughly\ttested\tbefore\treaching\tthe\tfirst\tstage\tof\tthe\tdeployment\tpipeline.\n\nThe\tDeployment\tPipeline There\tis\ta\tgreat\tdeal\tof\troom\tfor\thuman\terror\tin\tmicroservice\tecosystems, especially\twhere\tdeployment\tpractices\tare\tconcerned,\tand\t(as\tI\tmentioned earlier)\tthe\tmajority\tof\toutages\tin\tlarge-scale\tproduction\tsystems\tare\tcaused\tby bad\tdeployments.\tConsider\tthe\torganizational\tsprawl\tthat\taccompanies\tthe adoption\tof\tmicroservice\tarchitecture\tand\twhat\tit\tentails\tfor\tthe\tdeployment process:\tyou\thave,\tat\tthe\tvery\tleast,\tdozens\t(if\tnot\thundreds\tor\tthousands)\tof independent,\tisolated\tteams\twho\tare\tdeploying\tchanges\tto\ttheir\tmicroservices\ton their\town\tschedules,\tand\toften\twithout\tcross-team\tcoordination\tbetween\tclients and\tdependencies.\tIf\tsomething\tgoes\twrong,\tif\ta\tbug\tis\tintroduced\tinto production,\tor\tif\ta\tservice\tis\ttemporarily\tunavailable\tduring\tdeployment,\tthen the\tentire\tecosystem\tcan\tbe\tnegatively\taffected.\tTo\tensure\tthat\tthings\tgo\twrong with\tless\tfrequency,\tand\tthat\tany\tfailures\tcan\tbe\tcaught\tbefore\tbeing\trolled\tout to\tall\tproduction\tservers,\tintroducing\ta\tstandardized\tdeployment\tpipeline\tacross the\tengineering\torganization\tcan\thelp\tensure\tstability\tand\treliability\tacross\tthe ecosystem.\n\nI\trefer\tto\tthe\tdeployment\tprocess\there\tas\ta\t“pipeline”\tbecause\tthe\tmost trustworthy\tdeployments\tare\tthose\tthat\thave\tbeen\trequired\tto\tpass\ta\tset\tof\ttests before\treaching\tproduction\tservers.\tWe\tcan\tfit\tthree\tseparate\tstages\tor\tphases into\tthis\tpipeline\t(Figure\t3-2):\tfirst,\twe\tcan\ttest\ta\tnew\trelease\tin\ta\tstaging environment;\tsecond,\tif\tit\tpasses\tthe\tstaging\tphase,\twe\tcan\tdeploy\tit\tto\ta\tsmall canary\tenvironment,\twhere\tit\twill\tserve\t5%–10%\tof\tproduction\ttraffic;\tand third,\tif\tit\tpasses\tthe\tcanary\tphase,\twe\tcan\tslowly\troll\tit\tout\tto\tproduction\tservers until\tit\thas\tbeen\tdeployed\tto\tevery\thost.\n\nFigure\t3-2.\tStages\tof\ta\tstable\tand\treliable\tdeployment\tpipeline\n\nStaging Any\tnew\trelease\tcan\tfirst\tbe\tdeployed\tto\ta\tstaging\tenvironment.\tA\tstaging environment\tshould\tbe\tan\texact\tcopy\tof\tthe\tproduction\tenvironment:\tit\tis\ta reflection\tof\tthe\tstate\tof\tthe\treal\tworld,\tbut\twithout\treal\ttraffic.\tStaging environments\tusually\taren’t\trunning\tat\tthe\tsame\tscale\tas\tproduction\t(i.e.,\tthey typically\taren’t\trun\twith\tthe\tsame\tnumber\tof\thosts\tas\tproduction,\ta\tphenomenon also\tknown\tas\thost\tparity),\tbecause\trunning\twhat\twould\tamount\tto\ttwo\tseparate ecosystems\tcan\tpresent\ta\tlarge\thardware\tcost\tto\tthe\tcompany.\tHowever,\tsome engineering\torganizations\tmay\tdetermine\tthat\tthe\tonly\tway\tto\taccurately\tcopy the\tproduction\tenvironment\tin\ta\tstable\tand\treliable\tway\tis\tto\tbuild\tan\tidentical staging\tenvironment\twith\thost\tparity.\n\nFor\tmost\tengineering\torganizations,\tdetermining\tthe\thardware\tcapacity\tand\tscale of\tthe\tstaging\tenvironment\tas\ta\tpercentage\tof\tproduction\tis\tusually\taccurate enough.\tThe\tnecessary\tstaging\tcapacity\tcan\tbe\tdetermined\tby\tthe\tmethod\twe will\tuse\tto\ttest\tthe\tmicroservice\twithin\tthe\tstaging\tphase.\tTo\ttest\tin\tthe\tstaging environment,\twe\thave\tseveral\toptions:\twe\tcan\trun\tmock\t(or\trecorded)\ttraffic through\tthe\tmicroservice;\twe\tcan\ttest\tit\tmanually\tby\thitting\tits\tendpoints\tand evaluating\tits\tresponses;\twe\tcan\trun\tautomated\tunit,\tintegration,\tand\tother specialized\ttests;\tor\twe\tcan\ttest\teach\tnew\trelease\twith\tany\tcombination\tof\tthese methods.\n\nTREAT\tSTAGING\tAND\tPRODUCTION\tAS\tSEPARATE DEPLOYMENTS\tOF\tTHE\tSAME\tSERVICE\n\nYou\tmay\tbe\ttempted\tto\trun\tstaging\tand\tproduction\tas\tseparate\tservices\tand\tstore\tthem\tin separate\trepositories.\tThis\tcan\tbe\tdone\tsuccessfully,\tbut\tit\trequires\tthat\tchanges\tbe synchronized\tacross\tboth\tservices\tand\trepositories,\tincluding\tconfiguration\tchanges\t(which are\toften\tforgotten\tabout).\tIt’s\tmuch\teasier\tto\ttreat\tstaging\tand\tproduction\tas\tseparate “deployments”\tor\t“phases”\tof\tthe\tsame\tmicroservice.\n\nEven\tthough\tstaging\tenvironments\tare\ttesting\tenvironments,\tthey\tdiffer\tfrom both\tthe\tdevelopment\tphase\tand\tthe\tdevelopment\tenvironment\tin\tthat\ta\trelease that\thas\tbeen\tdeployed\tto\tstaging\tis\ta\trelease\tthat\tis\ta\tcandidate\tfor\tproduction. A\tcandidate\tfor\tproduction\tmust\thave\talready\tsuccessfully\tpassed\tlint\ttests,\tunit tests,\tintegration\ttests,\tand\tcode\treview\tbefore\tbeing\tdeployed\tto\ta\tstaging environment.\n\nDeploying\tto\ta\tstaging\tenvironment\tshould\tbe\ttreated\tby\tdevelopers\twith\tthe same\tseriousness\tand\tcaution\tas\tdeploying\tto\tproduction.\tIf\ta\trelease\tis successfully\tdeployed\tto\tstaging,\tit\tcan\tbe\tautomatically\tdeployed\tto\tcanaries, which\twill\tbe\trunning\tproduction\ttraffic.\n\nSetting\tup\tstaging\tenvironments\tin\ta\tmicroservice\tecosystem\tcan\tbe\tdifficult, due\tto\tthe\tcomplexities\tintroduced\tby\tdependencies.\tIf\tyour\tmicroservice depends\ton\tnine\tother\tmicroservices,\tthen\tit\trelies\ton\tthose\tdependencies\tto\tgive accurate\tresponses\twhen\trequests\tare\tsent\tand\treads\tor\twrites\tto\tthe\trelevant database(s)\tare\tmade.\tAs\ta\tconsequence\tof\tthese\tcomplexities,\tthe\tsuccess\tof\ta staging\tenvironment\thinges\ton\tthe\tway\tstaging\tis\tstandardized\tacross\tthe company.\n\nFull\tstaging\tThere\tare\tseveral\tways\tthat\tthe\tstaging\tphase\tof\tthe\tdeployment pipeline\tcan\tbe\tconfigured.\tThe\tfirst\tis\tfull\tstaging\t(Figure\t3-3),\twhere\ta separate\tstaging\tecosystem\tis\trunning\tas\ta\tcomplete\tmirror\tcopy\tof\tthe\tentire production\tecosystem\t(though\tnot\tnecessarily\twith\thost\tparity).\tFull\tstaging\tstill runs\ton\tthe\tsame\tcore\tinfrastructure\tas\tproduction,\tbut\tthere\tare\tseveral\tkey differences.\tStaging\tenvironments\tof\tthe\tservices\tare,\tat\tthe\tvery\tleast,\tmade accessible\tto\tother\tservices\tby\tstaging-specific\tfrontend\tand\tbackend\tports. Importantly,\tstaging\tenvironments\tin\ta\tfull-staging\tecosystem\tcommunicate\tonly with\tthe\tstaging\tenvironments\tof\tother\tservices,\tand\tnever\tsend\tany\trequests\tor\n\nreceive\tany\tresponses\tfrom\tany\tservices\trunning\tin\tproduction\t(which\tmeans sending\ttraffic\tto\tproduction\tports\tfrom\tstaging\tis\toff\tlimits).\n\nFigure\t3-3.\tFull\tstaging\n\nFull\tstaging\trequires\tevery\tmicroservice\tto\thave\ta\tfully\tfunctional\tstaging environment\tthat\tother\tmicroservices\tcan\tcommunicate\twith\twhen\tnew\treleases are\tdeployed.\tCommunicating\twith\tother\tmicroservices\twithin\tthe\tstaging\n\nare\tdeployed.\tCommunicating\twith\tother\tmicroservices\twithin\tthe\tstaging ecosystem\tcan\tbe\taccomplished\teither\tby\twriting\tspecific\ttests\tthat\tare\tkicked off\twhen\ta\tnew\tbuild\tis\tdeployed\tto\tthe\tstaging\tenvironment,\tor\tas\tmentioned, by\trunning\told\trecorded\tproduction\ttraffic\tor\tmock\ttraffic\tthrough\tthe\tservice being\tdeployed\talong\twith\tall\tupstream\tand\tdownstream\tdependencies.\n\nFull\tstaging\talso\trequires\tcareful\thandling\tof\ttest\tdata:\tstaging\tenvironments should\tnever\thave\twrite\taccess\tto\tany\tproduction\tdatabases,\tand\tgranting\tread access\tto\tproduction\tdatabases\tis\tdiscouraged\tas\twell.\tBecause\tfull\tstaging\tis designed\tto\tbe\ta\tcomplete\tmirror\tcopy\tof\tproduction,\tevery\tmicroservice\tstaging environment\tshould\tcontain\ta\tseparate\ttest\tdatabase\tthat\tit\tcan\tread\tfrom\tand write\tto.\n\nRISKS\tOF\tFULL\tSTAGING\n\nCaution\tneeds\tto\tbe\ttaken\twhen\timplementing\tand\tdeploying\tfull\tstaging\tenvironments, because\tnew\treleases\tof\tservices\twill\talmost\talways\tbe\tcommunicating\twith\tother\tnew releases\tof\tany\tupstream\tand\tdownstream\tdependencies\t—\tthis\tmay\tnot\tbe\tan\taccurate reflection\tof\tthe\treal\tworld.\tEngineering\torganizations\tmay\tneed\tto\trequire\tteams\tto coordinate\tand/or\tschedule\tdeployments\tto\tstaging\tto\tavoid\tthe\tdeployment\tof\tone\tservice breaking\tthe\tstaging\tenvironment\tfor\tall\tother\trelated\tservices.\n\nPartial\tstaging\tThe\tsecond\ttype\tof\tstaging\tenvironment\tis\tknown\tas\tpartial staging.\tAs\tthe\tname\tsuggests,\tit\tis\tnot\ta\tcomplete\tmirror\tcopy\tof\tthe\tproduction environment.\tRather,\teach\tmicroservice\thas\tits\town\tstaging\tenvironment,\twhich is\ta\tpool\tof\tservers\twith\t(at\tthe\tvery\tleast)\tstaging-specific\tfrontend\tand\tbackend ports,\tand\twhen\tnew\tbuilds\tare\tintroduced\tinto\tthe\tstaging\tphase,\tthey communicate\twith\tthe\tupstream\tclients\tand\tdownstream\tdependencies\tthat\tare running\tin\tproduction\t(Figure\t3-4).\n\nFigure\t3-4.\tPartial\tstaging\n\nPartial\tstaging\tdeployments\tshould\thit\tall\tproduction\tendpoints\tof\ta\n\nPartial\tstaging\tdeployments\tshould\thit\tall\tproduction\tendpoints\tof\ta microservice’s\tclients\tand\tdependencies\tto\tmimic\tthe\tstate\tof\tthe\tactual\tworld\tas accurately\tas\tpossible.\tSpecific\tstaging\ttests\twill\tneed\tto\tbe\twritten\tand\trun\tto accomplish\tthis,\tand\tevery\tnew\tfeature\tadded\tshould\tprobably\tbe\taccompanied by\tat\tleast\tone\tadditional\tstaging\ttest\tto\tensure\tthat\tit\tis\ttested\tthoroughly.\n\nRISKS\tOF\tPARTIAL\tSTAGING\n\nBecause\tmicroservices\twith\tpartial\tstaging\tenvironments\tcommunicate\twith\tproduction microservices,\textreme\tcare\tmust\tbe\ttaken.\tEven\tthough\tpartial\tstaging\tis\trestricted\tto\tread- only\trequests,\tproduction\tservices\tcan\teasily\tbe\ttaken\tdown\tby\tbad\tstaging\tdeploys\tthat\tsend bad\trequests\tand/or\toverload\tproduction\tservices\twith\ttoo\tmany\trequests.\n\nThese\ttypes\tof\tstaging\tenvironments\tshould\talso\tbe\trestricted\tto\tread-only database\taccess:\ta\tstaging\tenvironment\tshould\tnever\twrite\tto\ta\tproduction database.\tHowever,\tsome\tmicroservices\tmay\tbe\tvery\twrite-heavy,\tand\ttesting the\twrite\tfunctionality\tof\ta\tnew\tbuild\twill\tbe\tessential.\tThe\tmost\tcommon\tway of\tdoing\tthis\tis\tto\tmark\tany\tdata\twritten\tby\ta\tstaging\tenvironment\tas\ttest\tdata (this\tis\tknown\tas\ttest\ttenancy),\tbut\tthe\tsafest\tway\tto\tdo\tthis\tis\tto\twrite\tto\ta separate\ttest\tdatabase,\tsince\tgiving\twrite\taccess\tto\ta\tstaging\tenvironment\tstill runs\tthe\trisk\tof\taltering\treal-world\tdata.\tSee\tTable\t3-1\tfor\ta\tcomparison\tof\tfull and\tpartial\tstaging\tenvironments.\n\nTable\t3-1.\tFull\tversus\tpartial\tstaging\tenvironments\n\nFull\tstaging\t \tPartial\tstaging\n\nComplete\tcopy\tof\tproduction\tenvironment\n\nYes\n\nNo\n\nSeparate\tstaging\tfrontend\tand\tbackend\tports\n\nYes\n\nYes\n\nAccess\tto\tproduction\tservices\n\nNo\n\nYes\n\nRead\taccess\tto\tproduction\tdatabases\n\nNo\n\nYes\n\nWrite\taccess\tto\tproduction\tdatabases\n\nNo\n\nYes\n\nRequires\tautomated\trollbacks\n\nNo\n\nYes\n\nStaging\tenvironments\t(full\tor\tpartial)\tshould\thave\tdashboards,\tmonitoring,\tand logging\tjust\tlike\tproduction\tenvironments\t—\tall\tof\twhich\tshould\tbe\tset\tup identically\tto\tthe\tdashboards,\tmonitoring,\tand\tlogging\tof\tthe\tproduction\n\nenvironment\tof\tthe\tmicroservice\t(see\tChapter\t6,\tMonitoring).\tThe\tgraphs\tfor\tall key\tmetrics\tcan\tbe\tkept\ton\tthe\tsame\tdashboard\tas\tall\tproduction\tmetrics,\tthough teams\tmay\topt\tto\thave\tseparate\tdashboards\tfor\teach\tpart\tof\tthe\tdeployment process:\ta\tstaging\tdashboard,\ta\tcanary\tdashboard,\tand\ta\tproduction\tdashboard. Depending\ton\thow\tdashboards\tare\tconfigured,\tit\tmay\tbe\tbest\tto\tkeep\tall\tgraphs for\tall\tdeployments\ton\tone\tdashboard\tand\tto\torganize\tthem\tby\tdeployment\t(or by\tmetric).\tRegardless\tof\thow\ta\tteam\tdecides\tto\tset\tup\ttheir\tdashboards,\tthe\tgoal of\tbuilding\tgood\tand\tuseful\tproduction-ready\tdashboards\tshould\tnot\tbe forgotten:\tthe\tdashboard(s)\tof\ta\tproduction-ready\tmicroservice\tshould\tmake\tit easy\tfor\tan\toutsider\tto\tquickly\tdetermine\tthe\thealth\tand\tstatus\tof\tthe\tservice.\n\nMonitoring\tand\tlogging\tfor\tthe\tstaging\tenvironment\tshould\tbe\tidentical\tto\tthe monitoring\tand\tlogging\tof\tthe\tstaging\tand\tproduction\tdeployments\tso\tthat\tany failures\tof\ttests\tand\terrors\tin\tnew\treleases\tthat\tare\tdeployed\tto\tstaging\twill\tbe caught\tbefore\tthey\tmove\tto\tthe\tnext\tphase\tof\tthe\tdeployment\tpipeline.\tIt’s extremely\thelpful\tto\tset\tup\talerts\tand\tlogs\tso\tthat\tthey\tare\tdifferentiated\tand separated\tby\tdeployment\ttype,\tensuring\tthat\tany\talerts\ttriggered\tby\tfailures\tor errors\twill\tspecify\twhich\tenvironment\tis\texperiencing\tthe\tproblem,\tmaking debugging,\tmitigation,\tand\tresolution\tof\tany\tbugs\tor\tfailures\trather\teasy\tand straightforward.\n\nThe\tpurpose\tof\ta\tstaging\tenvironment\tis\tto\tcatch\tany\tbugs\tintroduced\tby\tcode changes\tbefore\tthey\taffect\tproduction\ttraffic.\tWhen\ta\tbug\tis\tintroduced\tby\tthe code,\tit\twill\tusually\tbe\tcaught\tin\tthe\tstaging\tenvironment\t(if\tit\tis\tset\tup correctly).\tAutomated\trollbacks\tof\tbad\tdeploys\tare\ta\tnecessity\tfor\tpartial\tstaging environments\t(though\tare\tnot\trequired\tfor\tfull\tstaging\tenvironments). Establishing\twhen\tto\trevert\tto\ta\tprevious\tbuild\tshould\tbe\tdetermined\tby\tvarious thresholds\ton\tthe\tmicroservice’s\tkey\tmetrics.\n\nSince\tpartial\tstaging\trequires\tinteracting\twith\tmicroservices\trunning\tin production,\tbugs\tintroduced\tby\tnew\treleases\tdeployed\tto\ta\tpartial\tstaging environment\tcan\tbring\tdown\tother\tmicroservices\tthat\tare\trunning\tin\tproduction. If\tthere\taren’t\tany\tautomated\trollbacks\tin\tplace,\tmitigating\tand\tresolving\tthese problems\tneeds\tto\tbe\tdone\tmanually.\tAny\tsteps\tof\tthe\tdeployment\tprocess\tthat need\tmanual\tintervention\tare\tpoints\tof\tfailure\tnot\tonly\tfor\tthe\tmicroservice itself,\tbut\tfor\tthe\tentire\tmicroservice\tecosystem.\n\nThe\tlast\tquestion\ta\tmicroservice\tteam\tneeds\tto\tanswer\twhen\tsetting\tup\ta\tstaging environment\tis\thow\tlong\ta\tnew\trelease\tshould\trun\ton\tstaging\tbefore\tit\tcan\tbe deployed\tto\tcanary\t(and,\tafter\tthat,\tto\tproduction).\tThe\tanswer\tto\tthis\tquestion\tis determined\tby\tthe\tstaging-specific\ttests\tthat\tare\trun\ton\tstaging:\ta\tnew\tbuild\tis\n\nready\tto\tmove\tto\tthe\tnext\tstep\tof\tthe\tdeployment\tprocess\tas\tsoon\tas\tall\ttests have\tpassed\twithout\tfailing.\n\nCanary Once\ta\tnew\trelease\thas\tsuccessfully\tbeen\tdeployed\tto\tstaging\tand\tpassed\tall required\ttests,\tthe\tbuild\tcan\tbe\tdeployed\tto\tthe\tnext\tstage\tin\tthe\tdeployment pipeline:\tthe\tcanary\tenvironment.\tThe\tunique\tname\tfor\tthis\tenvironment\tcomes from\ta\ttactic\tused\tby\tcoal\tminers:\tthey’d\tbring\tcanaries\twith\tthem\tinto\tthe\tcoal mines\tto\tmonitor\tthe\tlevels\tof\tcarbon\tmonoxide\tin\tthe\tair;\tif\tthe\tcanary\tdied, they\tknew\tthat\tthe\tlevel\tof\ttoxic\tgas\tin\tthe\tair\twas\thigh,\tand\tthey’d\tleave\tthe mines.\tSending\ta\tnew\tbuild\tinto\ta\tcanary\tenvironment\tserves\tthe\tsame\tpurpose: deploy\tit\tto\ta\tsmall\tpool\tof\tservers\trunning\tproduction\ttraffic\t(around\t5%–10% of\tproduction\tcapacity),\tand\tif\tit\tsurvives,\tdeploy\tto\tthe\trest\tof\tthe\tproduction servers.\n\nCANARY\tTRAFFIC\tDISTRIBUTION\n\nIf\tthe\tproduction\tservice\tis\tdeployed\tin\tmultiple\tdifferent\tdatacenters,\tregions,\tor\tcloud providers,\tthen\tthe\tcanary\tpool\tshould\tcontain\tservers\tin\teach\tof\tthese\tin\torder\tto\taccurately sample\tproduction.\n\nSince\ta\tcanary\tenvironment\tserves\tproduction\ttraffic,\tit\tshould\tbe\tconsidered part\tof\tproduction.\tIt\tshould\thave\tthe\tsame\tbackend\tand\tfrontend\tports,\tand canary\thosts\tshould\tbe\tchosen\tat\trandom\tfrom\tthe\tpool\tof\tproduction\tservers\tto ensure\taccurate\tsampling\tof\tproduction\ttraffic.\tCanaries\tcan\t(and\tshould)\thave full\taccess\tto\tproduction\tservices:\tthey\tshould\thit\tall\tproduction\tendpoints\tof upstream\tand\tdownstream\tdependencies,\tand\tthey\tshould\thave\tboth\tread\tand write\taccess\tto\tany\tdatabases\t(if\tapplicable).\n\nAs\twith\tstaging,\tthe\tdashboards,\tmonitoring,\tand\tlogging\tshould\tbe\tthe\tsame\tfor canaries\tas\tfor\tproduction.\tAlerts\tand\tlogs\tshould\tbe\tdifferentiated\tand\tlabeled as\tcoming\tfrom\tthe\tcanary\tdeployment\tso\tthat\tdevelopers\tcan\teasily\tmitigate, debug,\tand\tresolve\tany\tproblems.\n\nSEPARATE\tPORTS\tFOR\tCANARIES\tAND\tPRODUCTION\n\nAllocating\tseparate\tfrontend\tand\tbackend\tports\tfor\tcanaries\tand\tproduction\tso\tthat\ttraffic\tcan be\tdirected\tdeliberately\tmay\tseem\tlike\ta\tgood\tidea,\tbut\tunfortunately\tseparating\tout\tthe\ttraffic in\tthis\tfashion\tdefeats\tthe\tpurpose\tof\tcanaries:\tto\trandomly\tsample\tproduction\ttraffic\ton\ta small\tpool\tof\tservers\tto\ttest\ta\tnew\trelease.\n\nAutomated\trollbacks\tabsolutely\tneed\tto\tbe\tin\tplace\tfor\tcanaries:\tif\tany\tknown errors\toccur,\tthe\tdeployment\tsystem\tneeds\tto\tautomatically\trevert\tto\tthe\tlast known\tstable\tversion.\tRemember,\tcanaries\tare\tserving\tproduction\ttraffic,\tand any\tproblems\tthat\thappen\tare\taffecting\tthe\treal\tworld.\n\nHow\tlong\tshould\ta\tnew\trelease\tsit\tin\tthe\tcanary\tpool\tuntil\tdevelopers\tcan\tbe satisfied\tthat\tit\tis\tready\tfor\tproduction?\tThis\tcan\tbe\tminutes,\thours,\tor\teven days,\tand\tthe\tanswer\tis\tdetermined\tby\tthe\tmicroservice’s\ttraffic\tpatterns.\tThe traffic\tof\tevery\tmicroservice\tis\tgoing\tto\thave\tsome\tsort\tof\tpattern,\tno\tmatter how\tstrange\tyour\tmicroservice\tor\tbusiness\tmay\tbe.\tA\tnew\trelease\tshould\tnot leave\tthe\tcanary\tstage\tof\tdeployment\tuntil\ta\tfull\ttraffic\tcycle\thas\tbeen completed.\tHow\ta\t“traffic\tcycle”\tis\tdefined\tneeds\tto\tbe\tstandardized\tacross\tthe entire\tengineering\torganization,\tbut\tthe\tduration\tand\trequirements\tof\tthe\ttraffic cycle\tmay\tneed\tto\tbe\tcreated\ton\ta\tservice-by-service\tbasis.\n\nProduction Production\tis\tthe\treal\tworld.\tWhen\ta\tbuild\thas\tsuccessfully\tmade\tit\tthrough\tthe development\tcycle,\tsurvived\tstaging,\tand\tlived\tthrough\tthe\tcoal\tmines\tof\tthe canary\tphase,\tit\tis\tready\tto\tbe\trolled\tout\tto\tthe\tproduction\tdeployment.\tAt\tthis point\tin\tthe\tdeployment\tpipeline\t—\tthe\tvery\tlast\tstep\t—\tthe\tdevelopment\tteam should\tbe\tcompletely\tconfident\tin\tthe\tnew\tbuild.\tAny\terrors\tin\tthe\tcode\tshould have\tbeen\tdiscovered,\tmitigated,\tand\tresolved\tbefore\tmaking\tit\tthis\tfar.\n\nEvery\tbuild\tthat\tmakes\tit\tto\tproduction\tshould\tbe\tcompletely\tstable\tand\treliable. A\tbuild\tbeing\tdeployed\tto\tproduction\tshould\thave\talready\tbeen\tthoroughly tested,\tand\ta\tbuild\tshould\tnever\tbe\tdeployed\tto\tproduction\tuntil\tit\thas\tmade\tit through\tthe\tstaging\tand\tcanary\tphases\twithout\tany\tissues.\tDeploying\tto production\tcan\tbe\tdone\tin\tone\tfell\tswoop\tafter\tthe\tbuild\thas\tlived\tthrough\tthe canaries,\tor\tit\tcan\tbe\tgradually\trolled\tout\tin\tstages:\tdevelopers\tcan\tchoose\tto\troll out\tto\tproduction\tby\tpercentage\tof\thardware\t(e.g.,\tfirst\tto\t25%\tof\tall\tservers, then\tto\t50%,\tthen\t75%,\tand\tfinally\t100%),\tor\tby\tdatacenter,\tor\tby\tregion,\tor\tby country,\tor\tany\tmixture\tof\tthese.\n\nEnforcing\tStable\tand\tReliable\tDeployment By\tthe\ttime\ta\tnew\tcandidate\tfor\tproduction\thas\tmade\tit\tthrough\tthe\tdevelopment process,\thas\tsurvived\tthe\tstaging\tenvironment,\tand\thas\tbeen\tdeployed\tto\tthe canary\tphase\tsuccessfully,\tthe\tchances\tof\tit\tcausing\ta\tmajor\toutage\tare\tvery slim,\tbecause\tmost\tbugs\tin\tthe\tcode\twill\thave\tbeen\tcaught\tbefore\tthe\tcandidate for\tproduction\tis\trolled\tout\tto\tproduction.\tThis\tis\tprecisely\twhy\thaving\ta comprehensive\tdeployment\tpipeline\tis\tessential\tfor\tbuilding\ta\tstable\tand\treliable microservice.\n\nFor\tsome\tdevelopers,\tthe\tdelay\tintroduced\tby\tthe\tdeployment\tpipeline\tmight seem\tlike\tan\tunnecessary\tburden\tbecause\tit\tdelays\ttheir\tcode\tchanges\tand/or new\tfeatures\tfrom\tbeing\tdeployed\tstraight\tto\tproduction\tminutes\tafter\tthey\thave been\twritten.\tIn\treality,\tthe\tdelay\tintroduced\tby\tthe\tphases\tof\tthe\tdeployment pipeline\tis\tvery\tshort\tand\teasily\tcustomizable,\tbut\tsticking\tto\tthe\tstandardized deployment\tprocess\tneeds\tto\tbe\tenforced\tto\tensure\treliability.\tDeploying\tto\ta microservice\tmultiple\ttimes\tper\tday\tcan\t(and\tdoes)\tcompromise\tthe\tstability\tand reliability\tof\tthe\tmicroservice\tand\tany\tother\tservices\twithin\tits\tcomplex dependency\tchain:\ta\tmicroservice\tthat\tis\tchanging\tevery\tfew\thours\tis\trarely\ta stable\tor\treliable\tmicroservice.\n\nDevelopers\tmay\tbe\ttempted\tto\tskip\tthe\tstaging\tand\tcanary\tphases\tof\tthe deployment\tprocess\tand\tdeploy\ta\tfix\tstraight\tto\tproduction\tif,\tfor\texample,\ta serious\tbug\tis\tdiscovered\tin\tproduction.\tWhile\tthis\tsolves\tthe\tproblem\tquickly, can\tpossibly\tsave\tthe\tcompany\tfrom\tlosing\trevenue,\tand\tcan\tprevent dependencies\tfrom\texperiencing\toutages,\tallowing\tdevelopers\tto\tdeploy\tstraight to\tproduction\tshould\tbe\treserved\tonly\tfor\tthe\tmost\tsevere\toutages.\tWithout\tthese restrictions\tin\tplace,\tthere\tis\talways\tthe\tunfortunate\tpossibility\tof\tabusing\tthe process\tand\tdeploying\tstraight\tto\tproduction:\tfor\tmost\tdevelopers,\tevery\tcode change,\tevery\tdeploy\tis\timportant\tand\tmay\tseem\timportant\tenough\tto\tbypass staging\tand\tcanary,\tcompromising\tthe\tstability\tand\treliability\tof\tthe\tentire microservice\tecosystem.\tWhen\tfailures\toccur,\tdevelopment\tteams\tshould\tinstead be\tencouraged\tto\talways\troll\tback\tto\tthe\tlatest\tstable\tbuild\tof\tthe\tmicroservice, which\twill\tbring\tthe\tmicroservice\tback\tto\ta\tknown\t(and\treliable)\tstate,\twhich can\trun\tin\tproduction\twithout\tany\tissues\twhile\tthe\tteam\tworks\tto\tdiscover\tthe root\tcause\tof\tthe\tfailure\tthat\toccurred.\n\nHOTFIXES\tARE\tAN\tANTI-PATTERN\n\nWhen\ta\tdeployment\tpipeline\tis\tin\tplace,\tthere\tshould\tnever\tbe\tany\tdirect\tdeployment\tto production\tunless\tthere\tis\tan\temergency,\tbut\teven\tthis\tshould\tbe\tdiscouraged.\tBypassing\tthe initial\tphases\tof\tthe\tdeployment\tpipeline\toften\tintroduces\tnew\tbugs\tinto\tproduction,\tas emergency\tcode\tfixes\trun\tthe\trisk\tof\tnot\tbeing\tproperly\ttested.\tRather\tthan\tdeploying\ta\thotfix straight\tto\tproduction,\tdevelopers\tshould\troll\tback\tto\tthe\tlatest\tstable\tbuild\tif\tpossible.\n\nStable\tand\treliable\tdeployment\tisn’t\tlimited\tonly\tto\tfollowing\tthe\tdeployment pipeline,\tand\tthere\tare\tseveral\tcases\tin\twhich\tblocking\ta\tparticular\tmicroservice from\tdeploying\tcan\tincrease\tavailability\tacross\tthe\tecosystem.\n\nIf\ta\tservice\tisn’t\tmeeting\ttheir\tSLAs\t(see\tChapter\t2,\tProduction-Readiness),\tall deployment\tcan\tbe\tpostponed\tif\tthe\tdowntime\tquota\tof\tthe\tservice\thas\tbeen\tused up.\tFor\texample,\tif\ta\tservice\thas\tan\tSLA\tpromising\t99.99%\tavailability (allowing\t4.38\tminutes\tof\tdowntime\teach\tmonth),\tbut\thas\tbeen\tunavailable\tfor 12\tminutes\tin\tone\tmonth,\tthen\tnew\tdeployments\tof\tthat\tmicroservice\tcan\tbe blocked\tfor\tthe\tnext\tthree\tmonths,\tensuring\tthat\tit\tmeets\tits\tSLA.\tIf\ta\tservice fails\tload\ttesting\t(see\tChapter\t5,\tFault\tTolerance\tand\tCatastrophe- Preparedness),\tthen\tdeployment\tto\tproduction\tcan\tbe\tlocked\tuntil\tthe\tservice\tis able\tto\tappropriately\tpass\tany\tnecessary\tload\ttests.\tFor\tbusiness-critical\tservices, whose\toutages\twould\tstop\tthe\tcompany\tfrom\tfunctioning\tproperly,\tit\tcan\tat times\tbe\tnecessary\tto\tblock\tdeployment\tif\tthey\tdo\tnot\tmeet\tthe\tproduction- readiness\tcriteria\testablished\tby\tthe\tengineering\torganization.\n\nDependencies The\tadoption\tof\tmicroservice\tarchitecture\tis\tsometimes\tdriven\tby\tthe\tidea\tthat microservices\tcan\tbe\tbuilt\tand\trun\tin\tisolation,\tas\tfully\tindependent\tand replaceable\tcomponents\tof\ta\tlarger\tsystem.\tThis\tis\ttrue\tin\tprinciple,\tbut\tin\tthe real\tworld,\tevery\tmicroservice\thas\tdependencies,\tboth\tupstream\tand downstream.\tEvery\tmicroservice\twill\treceive\trequests\tfrom\tclients\t(other microservices)\tthat\tare\tcounting\ton\tthe\tservice\tto\tperform\tas\texpected\tand\tto live\tup\tto\tits\tSLAs,\tas\twell\tas\tdownstream\tdependencies\t(other\tservices)\tthat\tit will\tdepend\ton\tto\tget\tthe\tjob\tdone.\n\nBuilding\tand\trunning\tproduction-ready\tmicroservices\trequires\tdevelopers\tto plan\tfor\tdependency\tfailures,\tto\tmitigate\tthem,\tand\tto\tprotect\tagainst\tthem. Understanding\ta\tservice’s\tdependencies\tand\tplanning\tfor\ttheir\tfailures\tis\tone\tof the\tmost\timportant\taspects\tof\tbuilding\ta\tstable\tand\treliable\tmicroservice.\n\nTo\tunderstand\thow\timportant\tthis\tis,\tlet’s\tconsider\tan\texample\tmicroservice called\treceipt-sender,\twhose\tSLA\tis\tfour-nines\t(promising\t99.99%\tavailability to\tupstream\tclients).\tNow,\treceipt-sender\tdepends\ton\tseveral\tother microservices,\tincluding\tone\tcalled\tcustomers\t(a\tmicroservice\tthat\thandles\tall customer\tinformation),\tand\tone\tcalled\torders\t(a\tmicroservice\tthat\thandles information\tabout\tthe\torders\teach\tcustomer\tplaces).\tBoth\tcustomers\tand\torders depend\ton\tother\tmicroservices:\tcustomers\tdepends\ton\tyet\tanother\tmicroservice we’ll\tcall\tcustomers-dependency,\tand\torders\ton\tone\twe’ll\trefer\tto\tas\torders- dependency.\tThe\tchances\tthat\tcustomers-dependency\tand\torders-dependency have\tdependencies\tof\ttheir\town\tare\tvery\thigh,\tso\tthe\tdependency\tgraph\tfor receipt-sender\tquickly\tbecomes\tvery,\tvery\tcomplicated.\n\nSince\treceipt-sender\twants\tto\tprotect\tits\tSLA\tand\tprovide\t99.99%\tuptime\tto\tall of\tits\tclients,\tits\tteam\tneeds\tto\tmake\tsure\tthat\tthe\tSLAs\tof\tall\tdownstream dependencies\tare\tstrictly\tadhered\tto.\tIf\tthe\tSLA\tof\treceipt-sender\tdepends\ton customers\tbeing\tavailable\t99.99%\tof\tthe\ttime,\tbut\tthe\tactual\tuptime\tof customers\tis\tonly\t89.99%\tof\tthe\ttime,\tthe\tavailability\tof\treceipt-sender\tis compromised\tand\tis\tnow\tonly\t89.98%.\tEach\tone\tof\tthe\tdependencies\tof\treceipt- sender\tcan\tsuffer\tthe\tsame\thit\tto\ttheir\tavailability\tif\tany\tof\tthe\tdependencies\tin the\tdependency\tchain\tdo\tnot\tmeet\ttheir\tSLAs.\n\nA\tstable\tand\treliable\tmicroservice\tneeds\tto\tmitigate\tdependency\tfailures\tof\tthis sort\t(and\tyes,\tnot\tmeeting\tan\tSLA\tis\ta\tfailure!).\tThis\tcan\tbe\taccomplished\tby having\tbackups,\tfallbacks,\tcaching,\tand/or\talternatives\tfor\teach\tdependency\tjust in\tcase\tthey\tfail.\n\nin\tcase\tthey\tfail.\n\nBefore\tdependency\tfailures\tcan\tbe\tplanned\tfor\tand\tmitigated,\tthe\tdependencies of\ta\tmicroservice\tmust\tbe\tknown,\tdocumented,\tand\ttracked.\tAny\tdependency that\tcould\tharm\ta\tmicroservice’s\tSLA\tneeds\tto\tbe\tincluded\tin\tthe\tarchitecture diagram\tand\tdocumentation\tof\tthe\tmicroservice\t(see\tChapter\t7,\tDocumentation and\tUnderstanding)\tand\tshould\tbe\tincluded\ton\tthe\tservice’s\tdashboard(s)\t(see Chapter\t6,\tMonitoring).\tIn\taddition,\tall\tdependencies\tshould\tbe\ttracked\tby automatically\tcreating\tdependency\tgraphs\tfor\teach\tservice,\twhich\tcan\tbe accomplished\tby\timplementing\ta\tdistributed\ttracking\tsystem\tacross\tall microservices\tin\tthe\torganization.\n\nOnce\tall\tof\tthe\tdependencies\tare\tknown\tand\ttracked,\tthe\tnext\tstep\tis\tto\tset\tup backups,\talternatives,\tfallbacks,\tor\tcaching\tfor\teach\tdependency.\tThe\tright\tway to\tdo\tthis\tis\tcompletely\tdependent\ton\tthe\tneeds\tof\tthe\tservice.\tFor\texample,\tif the\tfunctionality\tof\ta\tdependency\tcan\tbe\tfilled\tby\tcalling\tthe\tendpoint\tof\tanother service,\tthen\tfailure\tof\tthe\tprimary\tdependency\tshould\tbe\thandled\tby\tthe microservice\tso\tthat\trequests\tare\tsent\tto\tthe\talternative\tinstead.\tIf\trequests\tthat need\tto\tbe\tsent\tto\tthe\tdependency\tcan\tbe\theld\tin\ta\tqueue\twhen\tthe\tdependency\tis unavailable,\tthen\ta\tqueue\tshould\tbe\timplemented.\tAnother\tway\tto\thandle dependency\tfailures\tis\tto\tput\tcaching\tfor\tthe\tdependency\tinto\tplace\twithin\tthe service:\tcache\tany\trelevant\tdata\tso\tthat\tany\tfailures\twill\tbe\thandled\tgracefully.\n\nThe\ttype\tof\tcache\tmost\toften\tused\tin\tthese\tcases\tis\ta\tLeast\tRecently\tUsed\t(LRU) cache,\tin\twhich\trelevant\tdata\tis\tkept\tin\ta\tqueue,\tand\twhere\tany\tunused\tdata\tis deleted\twhen\tthe\tcache’s\tqueue\tfills\tup.\tLRU\tcaches\tare\teasy\tto\timplement (often\ta\tsingle\tline\tof\tcode\tfor\teach\tinstantiation),\tefficient\t(no\texpensive network\tcalls\tneed\tto\tbe\tmade),\tperformant\t(the\tdata\tis\timmediately\tavailable), and\tdo\ta\tdecent\tjob\tof\tmitigating\tany\tdependency\tfailures.\tThis\tis\tknown\tas defensive\tcaching,\tand\tit\tis\tuseful\tfor\tprotecting\ta\tmicroservice\tagainst\tthe failures\tof\tits\tdependencies:\tcache\tthe\tinformation\tyour\tmicroservice\tgets\tfrom its\tdependencies,\tand\tif\tthe\tdependencies\tgo\tdown,\tthe\tavailability\tof\tyour microservice\twill\tbe\tunaffected.\tImplementing\tdefensive\tcaching\tisn’t\tnecessary for\tevery\tsingle\tdependency,\tbut\tif\ta\tspecific\tdependency\tor\tset\tof\tdependencies is\tor\tare\tunreliable,\tdefensive\tcaching\twill\tprevent\tyour\tmicroservice\tfrom\tbeing harmed.\n\nRouting\tand\tDiscovery Another\taspect\tof\tbuilding\tstable\tand\treliable\tmicroservices\tis\tto\tensure\tthat communication\tand\tinteraction\tbetween\tmicroservices\tis\titself\tstable\tand reliable,\twhich\tmeans\tthat\tlayer\t2\t(the\tcommunication\tlayer)\tof\tthe\tmicroservice ecosystem\t(see\tChapter\t1,\tMicroservices)\tmust\tbe\tbuilt\tto\tperform\tin\ta\tway\tthat protects\tagainst\tharmful\ttraffic\tpatterns\tand\tmaintains\ttrust\tacross\tthe ecosystem.\tThe\trelevant\tparts\tof\tthe\tcommunication\tlayer\tfor\tstability\tand reliability\t(aside\tfrom\tthe\tnetwork\titself)\tare\tservice\tdiscovery,\tservice\tregistry, and\tload\tbalancing.\n\nThe\thealth\tof\ta\tmicroservice\tat\tboth\tthe\thost\tlevel\tand\tthe\tservice\tlevel\tas\ta whole\tshould\talways\tbe\tknown.\tThis\tmeans\tthat\thealth\tchecks\tshould\tbe running\tconstantly\tso\tthat\ta\trequest\tis\tnever\tsent\tto\tan\tunhealthy\thost\tor\tservice. Running\thealth\tchecks\ton\ta\tseparate\tchannel\t(not\tused\tfor\tgeneral\tmicroservice communication)\tis\tthe\teasiest\tway\tto\tensure\tthat\thealth\tchecks\taren’t\tever compromised\tby\tsomething\tlike\ta\tclogged\tnetwork.\tHardcoding\t“200\tOK” responses\ton\ta\t/health\tendpoint\tfor\thealth\tchecks\tisn’t\tideal\tfor\tevery microservice\teither,\tthough\tit\tmay\tbe\tsufficient\tfor\tmost.\tHardcoded\tresponses don’t\ttell\tyou\tmuch\texcept\tthat\tthe\tmicroservice\twas\tstarted\ton\tthe\thost\tsemi- successfully:\tany\t/health\tendpoint\tof\ta\tmicroservice\tshould\tgive\ta\tuseful, accurate\tresponse.\n\nIf\tan\tinstance\tof\ta\tservice\ton\ta\thost\tis\tunhealthy,\tthe\tload\tbalancers\tshould\tno longer\troute\ttraffic\tto\tit.\tIf\ta\tmicroservice\tas\ta\twhole\tis\tunhealthy\t(with\tall health\tchecks\tfailing\ton\teither\ta\tcertain\tpercentage\tof\thosts\tor\tall\thosts\tin production),\tthen\ttraffic\tshould\tno\tlonger\tbe\trouted\tto\tthat\tparticular microservice\tuntil\tthe\tproblems\tcausing\tthe\thealth\tchecks\tto\tfail\tare\tresolved.\n\nHowever,\thealth\tchecks\tshouldn’t\tbe\tthe\tonly\tdetermining\tfactor\tin\twhether\tor not\ta\tservice\tis\thealthy.\tA\tlarge\tnumber\tof\tunhandled\texceptions\tshould\talso lead\tto\ta\tservice\tbeing\tmarked\tunhealthy,\tand\tcircuit\tbreakers\tshould\tbe\tput\tinto place\tfor\tthese\tfailures\tso\tthat\tif\ta\tservice\texperiences\tan\tabnormal\tamount\tof errors,\tno\tmore\trequests\twill\tbe\tsent\tto\tthe\tservice\tuntil\tthe\tproblem\tis\tresolved. The\tkey\tin\tstable\tand\treliable\trouting\tand\tdiscovery\tis\tthis:\tpreserve\tthe microservice\tecosystem\tby\tpreventing\tbad\tactors\tfrom\tserving\tproduction\ttraffic and\taccepting\trequests\tfrom\tother\tmicroservices.\n\nDeprecation\tand\tDecommissioning One\toften-forgotten,\toften-ignored\tcause\tof\tinstability\tand\tunreliability\tin microservice\tecosystems\tis\tthe\tdeprecation\tor\tdecommissioning\tof\ta microservice\tor\tone\tof\tits\tAPI\tendpoints.\tWhen\ta\tmicroservice\tis\tno\tlonger\tin use\tor\tis\tno\tlonger\tsupported\tby\ta\tdevelopment\tteam,\tits\tdecommissioning should\tbe\tundertaken\tcarefully\tto\tensure\tthat\tno\tclients\twill\tbe\tcompromised. The\tdeprecation\tof\tone\tor\tmore\tof\ta\tmicroservice’s\tAPI\tendpoints\tis\teven\tmore common:\twhen\tnew\tfeatures\tare\tadded\tor\told\tones\tremoved,\tthe\tendpoints\toften change,\trequiring\tthat\tclient\tteams\tare\tupdated\tand\tany\trequests\tmade\tto\tthe\told endpoints\tare\tswitched\tto\tnew\tendpoints\t(or\tremoved\tentirely).\n\nIn\tmost\tmicroservice\tecosystems,\tdeprecation\tand\tdecommissioning\tis\tmore\tof\ta sociological\tproblem\twithin\tthe\tengineering\torganization\tthan\ta\ttechnical\tone, making\tit\tall\tthe\tmore\tdifficult\tto\taddress.\tWhen\ta\tmicroservice\tis\tabout\tto\tbe decommissioned,\tits\tdevelopment\tteam\tneeds\tto\ttake\tcare\tto\talert\tall\tclient services\tand\tadvise\tthem\ton\thow\tto\taccommodate\tthe\tloss\tof\ttheir\tdependency. If\tthe\tmicroservice\tbeing\tdecommissioned\tis\tbeing\treplaced\tby\tanother\tnew microservice,\tor\tif\tthe\tfunctionality\tof\tthe\tmicroservice\tis\tbeing\tbuilt\tinto another\texisting\tmicroservice,\tthen\tthe\tteam\tshould\thelp\tall\tclients\tupdate\ttheir microservices\tto\tsend\trequests\tto\tthe\tnew\tendpoints.\tDeprecation\tof\tan\tendpoint follows\ta\tsimilar\tprocess:\tthe\tclients\tmust\tbe\talerted,\tand\teither\tgiven\tthe\tnew endpoint\tor\tadvised\ton\thow\tto\taccount\tfor\tthe\tloss\tof\tthe\tendpoint\tentirely.\tIn both\tdeprecation\tand\tdecommissioning,\tmonitoring\tplays\ta\tcritical\trole: endpoints\twill\tneed\tto\tbe\tmonitored\tclosely\tbefore\tthe\tservice\tor\tendpoint\tis completely\tdecommissioned\tand/or\tdeprecated\tto\tcheck\tfor\tany\trequests\tthat might\tstill\tbe\tsent\tto\tthe\toutdated\tservice\tor\tendpoint.\n\nConversely,\tfailing\tto\tproperly\tdeprecate\tan\tendpoint\tor\tdecommission\ta microservice\tcan\talso\thave\tdisastrous\teffects\ton\tthe\tmicroservice\tecosystem. This\thappens\tmore\toften\tthan\tdevelopers\twould\tcare\tto\tadmit.\tIn\tan\tecosystem containing\thundreds\tor\tthousands\tof\tmicroservices,\tdevelopers\tare\toften\tshifted between\tteams,\tpriorities\tchange,\tand\tboth\tmicroservices\tand\ttechnologies\tare swapped\tout\tfor\tnewer,\tbetter\tones\tall\tof\tthe\ttime.\tWhen\tthese\told\tmicroservices or\ttechnologies\tare\tleft\tto\trun,\twithout\tany\t(or\tmuch)\tinvolvement,\toversight,\tor monitoring,\tany\tfailures\twill\tgo\tunnoticed,\tand\tany\tfailure\tthat\tis\tnoticed\tmay not\tbe\tresolved\tfor\ta\tlong\tperiod\tof\ttime.\tIf\ta\tmicroservice\tis\tgoing\tto\tbe\tleft\tto fend\tfor\titself,\tit\trisks\tcompromising\tits\tclients\tin\tcase\tof\tan\toutage\t—\tsuch microservices\tshould\tbe\tdecommissioned\trather\tthan\tabandoned.\n\nmicroservices\tshould\tbe\tdecommissioned\trather\tthan\tabandoned.\n\nNothing\tis\tmore\tdisruptive\tto\ta\tmicroservice\tthan\tthe\tcomplete\tloss\tof\tone\tof\tits dependencies.\tNothing\tcauses\tmore\tinstability\tand\tunreliability\tthan\tthe\tsudden, unexpected\tfailure\tof\tone\tof\tits\tdependencies,\teven\tif\tthe\tfailure\twas\tplanned\tfor by\tanother\tteam.\tThe\timportance\tof\tstable\tand\treliable\tdecommissioning\tand deprecation\tcan\thonestly\tnot\tbe\temphasized\tenough.\n\nEvaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tstability\tand\treliability,\tuse\tthe following\tlist\tof\tquestions\tto\tassess\tthe\tproduction-readiness\tof\tyour microservice(s)\tand\tmicroservice\tecosystem.\tThe\tquestions\tare\torganized\tby topic,\tand\tcorrespond\tto\tthe\tsections\twithin\tthis\tchapter.\n\nThe\tDevelopment\tCycle\n\nDoes\tthe\tmicroservice\thave\ta\tcentral\trepository\twhere\tall\tcode\tis\tstored?\n\nDo\tdevelopers\twork\tin\ta\tdevelopment\tenvironment\tthat\taccurately\treflects the\tstate\tof\tproduction\t(e.g.,\tthat\taccurately\treflects\tthe\treal\tworld)?\n\nAre\tthere\tappropriate\tlint,\tunit,\tintegration,\tand\tend-to-end\ttests\tin\tplace\tfor the\tmicroservice?\n\nAre\tthere\tcode\treview\tprocedures\tand\tpolicies\tin\tplace?\n\nIs\tthe\ttest,\tpackaging,\tbuild,\tand\trelease\tprocess\tautomated?\n\nThe\tDeployment\tPipeline\n\nDoes\tthe\tmicroservice\tecosystem\thave\ta\tstandardized\tdeployment\tpipeline?\n\nIs\tthere\ta\tstaging\tphase\tin\tthe\tdeployment\tpipeline\tthat\tis\teither\tfull\tor partial\tstaging?\n\nWhat\taccess\tdoes\tthe\tstaging\tenvironment\thave\tto\tproduction\tservices?\n\nIs\tthere\ta\tcanary\tphase\tin\tthe\tdeployment\tpipeline?\n\nDo\tdeployments\trun\tin\tthe\tcanary\tphase\tfor\ta\tperiod\tof\ttime\tthat\tis\tlong enough\tto\tcatch\tany\tfailures?\n\nDoes\tthe\tcanary\tphase\taccurately\thost\ta\trandom\tsample\tof\tproduction traffic?\n\nAre\tthe\tmicroservice’s\tports\tthe\tsame\tfor\tcanary\tand\tproduction?\n\nAre\tdeployments\tto\tproduction\tdone\tall\tat\tthe\tsame\ttime,\tor\tincrementally rolled\tout?\n\nIs\tthere\ta\tprocedure\tin\tplace\tfor\tskipping\tthe\tstaging\tand\tcanary\tphases\tin case\tof\tan\temergency?\n\nDependencies\n\nWhat\tare\tthis\tmicroservice’s\tdependencies?\n\nWhat\tare\tits\tclients?\n\nHow\tdoes\tthis\tmicroservice\tmitigate\tdependency\tfailures?\n\nAre\tthere\tbackups,\talternatives,\tfallbacks,\tor\tdefensive\tcaching\tfor\teach dependency?\n\nRouting\tand\tDiscovery\n\nAre\thealth\tchecks\tto\tthe\tmicroservice\treliable?\n\nDo\thealth\tchecks\taccurately\treflect\tthe\thealth\tof\tthe\tmicroservice?\n\nAre\thealth\tchecks\trun\ton\ta\tseparate\tchannel\twithin\tthe\tcommunication layer?\n\nAre\tthere\tcircuit\tbreakers\tin\tplace\tto\tprevent\tunhealthy\tmicroservices\tfrom making\trequests?\n\nAre\tthere\tcircuit\tbreakers\tin\tplace\tto\tprevent\tproduction\ttraffic\tfrom\tbeing sent\tto\tunhealthy\thosts\tand\tmicroservices?\n\nDeprecation\tand\tDecommissioning\n\nAre\tthere\tprocedures\tin\tplace\tfor\tdecommissioning\ta\tmicroservice?\n\nAre\tthere\tprocedures\tin\tplace\tfor\tdeprecating\ta\tmicroservice’s\tAPI endpoints?\n\nChapter\t4.\tScalability\tand\tPerformance\n\nA\tproduction-ready\tmicroservice\tis\tscalable\tand\tperformant.\tA\tscalable, performant\tmicroservice\tis\tone\tthat\tis\tdriven\tby\tefficiency,\tone\tthat\tcan\tnot\tonly handle\ta\tlarge\tnumber\tof\ttasks\tor\trequests\tat\tthe\tsame\ttime,\tbut\tcan\thandle\tthem efficiently\tand\tis\tprepared\tfor\ttasks\tor\trequests\tto\tincrease\tin\tthe\tfuture.\tIn\tthis chapter,\tthe\tessential\tcomponents\tof\tmicroservice\tscalability\tand\tperformance are\tcovered,\tincluding\tunderstanding\tthe\tqualitative\tand\tquantitative\tgrowth scales,\thardware\tefficiency,\tidentification\tof\tresource\trequirements\tand bottlenecks,\tcapacity\tawareness\tand\tplanning,\tscalable\thandling\tof\ttraffic,\tthe scaling\tof\tdependencies,\ttask\thandling\tand\tprocessing,\tand\tscalable\tdata\tstorage.\n\nPrinciples\tof\tMicroservice\tScalability\tand Performance Efficiency\tis\tof\tthe\tutmost\timportance\tin\treal-world,\tlarge-scale\tdistributed systems\tarchitecture,\tand\tmicroservice\tecosystems\tare\tno\texception\tto\tthis\trule. It’s\teasy\tto\tquantify\tthe\tefficiency\tof\ta\tsingle\tsystem\t(like\ta\tmonolithic application),\tbut\tevaluating\tthe\tefficiency\tand\tachieving\tgreater\tefficiency\tin\ta large\tecosystem\tof\tmicroservices,\twhere\ttasks\tare\tsharded\tout\tbetween\thundreds (if\tnot\tthousands)\tof\tsmall\tservices,\tis\tincredibly\tdifficult.\tIt’s\talso\tbounded\tby the\tlaws\tof\tcomputer\tarchitecture\tand\tdistributed\tsystems,\twhich\tplace\tlimits\ton the\tefficiency\tof\tlarge-scale,\tcomplex\tdistributed\tsystems:\tthe\tmore\tdistributed your\tsystem,\tand\tthe\tmore\tmicroservices\tyou\thave\tin\tplace\twithin\tthat\tsystem, the\tless\tof\ta\tdifference\tthe\tefficiency\tof\tone\tmicroservice\twill\thave\ton\tthe\tentire system.\tStandardization\tof\tprinciples\tthat\twill\tincrease\toverall\tefficiency becomes\ta\tnecessity.\tTwo\tof\tour\tproduction-readiness\tstandards\t—\tscalability and\tperformance\t—\thelp\tto\tachieve\tthis\toverall\tefficiency,\tand\tincrease\tthe availability\tof\tthe\tmicroservice\tecosystem.\n\nScalability\tand\tperformance\tare\tuniquely\tintertwined\tbecause\tof\tthe\teffects\tthey have\ton\tthe\tefficiency\tof\teach\tmicroservice\tand\tthe\tecosystem\tas\ta\twhole.\tAs we\tsaw\tin\tChapter\t1,\tMicroservices,\tin\torder\tto\tbuild\ta\tscalable\tapplication,\twe need\tto\tdesign\tfor\tconcurrency\tand\tpartitioning:\tconcurrency\tallows\teach\ttask\tto be\tbroken\tup\tinto\tsmaller\tpieces,\twhile\tpartitioning\tis\tessential\tfor\tallowing these\tsmaller\tpieces\tto\tbe\tprocessed\tin\tparallel.\tSo,\twhile\tscalability\tis\trelated\tto how\twe\tdivide\tand\tconquer\tthe\tprocessing\tof\ttasks,\tperformance\tis\tthe\tmeasure of\thow\tefficiently\tthe\tapplication\tprocesses\tthose\ttasks.\n\nIn\ta\tgrowing,\tthriving\tmicroservice\tecosystem,\twhere\ttraffic\tis\tincreasing steadily,\teach\tmicroservice\tneeds\tto\tbe\table\tto\tscale\twith\tthe\tentire\tsystem without\tsuffering\tfrom\tperformance\tproblems.\tTo\tensure\tthat\tour\tmicroservices are\tscalable\tand\tperformant,\twe\tneed\tto\trequire\tseveral\tthings\tof\teach microservice.\tWe\tneed\tto\tunderstand\tits\tgrowth\tscale,\tboth\tquantitative\tand qualitative,\tso\tthat\twe\tcan\tprepare\tfor\texpected\tgrowth.\tWe\tneed\tto\tuse\tour hardware\tresources\tefficiently,\tbe\taware\tof\tresource\tbottlenecks\tand requirements,\tand\tdo\tappropriate\tcapacity\tplanning.\tWe\tneed\tto\tensure\tthat\ta microservice’s\tdependencies\twill\tscale\twith\tit.\tWe\tneed\tto\tmanage\ttraffic\tin\ta scalable\tand\tperformant\tway.\tWe\tneed\tto\thandle\tand\tprocess\ttasks\tin\ta performant\tmanner.\tLast\tbut\tnot\tleast,\twe\tneed\tto\tstore\tdata\tin\ta\tscalable\tway.",
      "page_number": 73
    },
    {
      "number": 4,
      "title": "Scalability\tand\tPerformance",
      "start_page": 110,
      "end_page": 149,
      "detection_method": "regex_chapter_title",
      "content": "A\tPRODUCTION-READY\tSERVICE\tIS\tSCALABLE\tAND\tPERFORMANT\n\nIts\tqualitative\tand\tquantitative\tgrowth\tscales\tare\tknown.\n\nIt\tuses\thardware\tresources\tefficiently.\n\nIts\tresource\tbottlenecks\tand\trequirements\thave\tbeen\tidentified.\n\nCapacity\tplanning\tis\tautomated\tand\tperformed\ton\ta\tscheduled\tbasis.\n\nIts\tdependencies\twill\tscale\twith\tit.\n\nIt\twill\tscale\twith\tits\tclients.\n\nIts\ttraffic\tpatterns\tare\tunderstood.\n\nTraffic\tcan\tbe\tre-routed\tin\tcase\tof\tfailures.\n\nIt\tis\twritten\tin\ta\tprogramming\tlanguage\tthat\tallows\tit\tto\tbe\tscalable\tand\tperformant.\n\nIt\thandles\tand\tprocesses\ttasks\tin\ta\tperformant\tmanner.\n\nIt\thandles\tand\tstores\tdata\tin\ta\tscalable\tand\tperformant\tway.\n\nKnowing\tthe\tGrowth\tScale Determining\thow\ta\tmicroservice\tscales\t(at\ta\tvery\thigh\tlevel)\tis\tthe\tfirst\tstep toward\tunderstanding\thow\tto\tbuild\tand\tmaintain\ta\tscalable\tmicroservice.\tThere are\ttwo\taspects\tto\tknowing\tthe\tgrowth\tscale\tof\ta\tmicroservice,\tand\tthey\tboth play\timportant\troles\tin\tunderstanding\tand\tplanning\tfor\tthe\tscalability\tof\ta service.\tThe\tfirst\tis\tthe\tqualitative\tgrowth\tscale,\twhich\tcomes\tfrom understanding\twhere\tthe\tservice\tfits\tinto\tthe\toverall\tmicroservice\tecosystem\tand which\tkey\thigh-level\tbusiness\tmetrics\tit\twill\tbe\taffected\tby.\tThe\tsecond\tis\tthe quantitative\tgrowth\tscale,\twhich\tis,\tas\tits\tname\tsuggests,\ta\twell-defined, measurable,\tand\tquantitative\tunderstanding\tof\thow\tmuch\ttraffic\ta\tmicroservice can\thandle.\n\nThe\tQualitative\tGrowth\tScale The\tnatural\ttendency\twhen\ttrying\tto\tdetermine\tthe\tgrowth\tscale\tof\ta microservice\tis\tto\tphrase\tthe\tgrowth\tscale\tin\tterms\tof\trequests\tper\tsecond\t(RPS) or\tqueries\tper\tsecond\t(QPS)\tthat\tthe\tservice\tcan\tsupport,\tthen\tpredicting\thow many\tRPS/QPS\twill\tbe\tmade\tto\tthe\tservice\tin\tthe\tfuture.\tThe\tterm\t“requests\tper second”\tis\tgenerally\tused\twhen\ttalking\tabout\tmicroservices,\tand\t“queries\tper second”\twhen\ttalking\tabout\tdatabases\tor\tmicroservices\tthat\treturn\tdata\tto clients,\tthough\tin\tmany\tcases\tthey\tare\tinterchangeable.\tThis\tis\tvery\timportant information,\tbut\tit’s\tuseless\twithout\tadditional\tcontext\t—\tspecifically,\twithout the\tcontext\tof\twhere\tthe\tmicroservice\tfits\tinto\tthe\toverall\tpicture.\n\nIn\tmost\tcases,\tinformation\tabout\tthe\tRPS/QPS\ta\tmicroservice\tcan\tsupport\tis determined\tby\tthe\tstate\tof\tthe\tmicroservice\tat\tthe\ttime\tthe\tgrowth\tscale\tis initially\tcalculated:\tif\tthe\tgrowth\tscale\tis\tcalculated\tby\tonly\tlooking\tat\tthe current\tlevels\tof\ttraffic\tand\thow\tthe\tmicroservice\thandles\tthe\tcurrent\ttraffic load,\tmaking\tany\tinferences\tabout\thow\tmuch\ttraffic\tthe\tmicroservice\tcan\thandle in\tthe\tfuture\truns\tthe\trisk\tof\tbeing\tmisguided.\tThere\tare\tseveral\tapproaches\tone could\ttake\tto\tget\taround\tthis\tproblem,\tincluding\tload\ttesting\t(testing\tthe microservice\twith\thigher\tloads\tof\ttraffic),\twhich\tcan\tpresent\ta\tmore\taccurate picture\tof\tthe\tscalability\tof\tthe\tservice,\tand\tanalyzing\thistorical\ttraffic\tdata\tto see\thow\tthe\ttraffic\tlevel\tgrows\tover\ttime.\tBut\tthere’s\tsomething\tvery\tkey missing\there,\tsomething\tthat\tis\tan\tinherent\tproperty\tof\tmicroservice\tarchitecture —\tnamely,\tthat\tmicroservices\tdo\tnot\tlive\talone\tbut\tas\tpart\tof\ta\tlarger\tecosystem.\n\nThis\tis\twhere\tthe\tqualitative\tgrowth\tscale\tcomes\tin.\tQualitative\tgrowth\tscales allow\tthe\tscalability\tof\ta\tservice\tto\ttie\tin\twith\thigher-level\tbusiness\tmetrics:\ta microservice\tmay,\tfor\texample,\tscale\twith\tthe\tnumber\tof\tusers,\twith\tthe\tnumber of\tpeople\twho\topen\ta\tphone\tapplication\t(“eyeballs”),\tor\twith\tthe\tnumber\tof orders\t(for\ta\tfood\tdelivery\tservice).\tThese\tmetrics,\tthese\tqualitative\tgrowth scales,\taren’t\ttied\tto\tan\tindividual\tmicroservice\tbut\tto\tthe\toverall\tsystem\tor product(s).\tAt\tthe\tbusiness\tlevel,\tthe\torganization\twill\thave,\tfor\tthe\tmost\tpart, some\tidea\tof\thow\tthese\tmetrics\twill\tchange\tover\ttime.\tWhen\tthese\thigher-level business\tmetrics\tare\tcommunicated\tto\tengineering\tteams,\tdevelopers\tcan interpret\tthem\tas\tthey\trelate\tto\ttheir\trespective\tmicroservices:\tif\tone\tof\ttheir microservices\tis\tpart\tof\tthe\torder\tflow\tfor\ta\tfood\tdelivery\tservice,\tthey\twill know\tthat\tany\tmetrics\trelated\tto\tthe\tnumber\tof\torders\texpected\tin\tthe\tfuture\twill tell\tthem\twhat\tkind\tof\ttraffic\ttheir\tservice\tshould\texpect.\n\nWhen\tI\task\tmicroservice\tdevelopment\tteams\tif\tthey\tknow\tthe\tgrowth\tscale\tof their\tservice,\tthe\tusual\tresponse\tis,\t“It\tcan\thandle\tx\trequests\tper\tsecond.”\tMy follow-up\tquestions\tare\talways\tgeared\ttoward\tdiscovering\twhere\tthe\tservice\tin question\tfits\tinto\tthe\toverall\tproduct:\tWhen\tare\trequests\tmade?\tIs\tit\tone\trequest per\ttrip?\tOne\trequest\teach\ttime\tsomeone\topens\tthe\tapp?\tOne\trequest\tevery\ttime a\tnew\tuser\tsigns\tup\tfor\tour\tproduct?\tWhen\tthese\tcontext-filling\tquestions\tare answered,\tthe\tgrowth\tscale\tbecomes\tclear\t—\tand\tuseful.\tIf\tthe\tnumber\tof requests\tmade\tto\tthe\tservice\tis\tdirectly\tlinked\tto\tthe\tnumber\tof\tpeople\twho\topen a\tphone\tapplication,\tthen\tthe\tservice\tscales\twith\teyeballs,\tand\twe\tcan\tplan\tfor scaling\tthe\tservice\tby\tpredicting\thow\tmany\tpeople\twill\tbe\topening\tthe application.\tIf\tthe\tnumber\tof\trequests\tmade\tto\tthe\tservice\tis\tdetermined\tby\tthe number\tof\tpeople\twho\torder\tdelivery\tfood,\tthen\tthe\tservice\tscales\twith deliveries,\tand\twe\tcan\tplan\tand\tpredict\tfor\tscaling\tour\tservice\tby\tusing\thigher- level\tbusiness\tmetrics\tabout\thow\tmany\tfuture\tdeliveries\tare\tpredicted.\n\nThere\tare\texceptions\tto\tthe\trules\tof\tqualitative\tgrowth\tscales,\tand\tdetermining an\tappropriate\tqualitative\tgrowth\tscale\tcan\tbecome\tvery\tcomplicated\tthe\tfurther down\tthe\tstack\tthe\tservice\tis\tfound.\tInternal\ttools\ttend\tto\tsuffer\tfrom\tthese complications,\tand\tyet\tthey\ttend\tto\tbe\tso\tbusiness-critical\tthat\tif\tthey\taren’t scalable,\tthe\trest\tof\tthe\torganization\tquickly\thits\tscalability\tchallenges.\tIt’s\tnot easy\tto\tput\tthe\tgrowth\tscale\tof\ta\tservice\tlike\ta\tmonitoring\tor\talerting\tplatform\tin terms\tof\tbusiness\tmetrics\t(users,\teyeballs,\tetc.),\tso\tplatform\tand/or\tinfrastructure organizations\tneed\tto\tdetermine\taccurate\tgrowth\tscales\tfor\ttheir\tservices\tin terms\tof\ttheir\tcustomers\t(developers,\tservices,\tetc.)\tand\ttheir\tcustomers’ specifications.\tInternal\ttools\tcan\tscale\twith,\tfor\texample,\tnumber\tof deployments,\tnumber\tof\tservices,\tnumber\tof\tlogs\taggregated,\tor\tgigabytes\tof data.\tThese\tare\tmore\tcomplicated\tbecause\tof\tthe\tinherent\tdifficulty\tin\tpredicting these\tnumbers,\tbut\tthey\tmust\tbe\tjust\tas\tstraightforward\tand\tpredictable\tas\tthe growth\tscales\tof\tmicroservices\thigher\tin\tthe\tstack.\n\nThe\tQuantitative\tGrowth\tScale The\tsecond\tpart\tof\tknowing\tthe\tgrowth\tscale\tis\tdetermining\tits\tquantitative aspects,\twhich\tis\twhere\tRPS/QPS\tand\tsimilar\tmetrics\tcome\tinto\tplay.\tTo determine\tthe\tquantitative\tgrowth\tscale,\twe\tneed\tto\tapproach\tour\tmicroservices with\tthe\tqualitative\tgrowth\tscale\tin\tmind:\tthe\tquantitative\tgrowth\tscale\tis defined\tby\ttranslating\tthe\tqualitative\tgrowth\tscale\tinto\ta\tmeasurable\tquantity. For\texample,\tif\tthe\tqualitative\tgrowth\tscale\tof\tour\tmicroservice\tis\tmeasured\tin “eyeballs”\t(e.g.,\thow\tmany\tpeople\topen\ta\tphone\tapplication),\tand\teach\t“eyeball” results\tin\ttwo\trequests\tto\tour\tmicroservice\tand\tone\tdatabase\ttransaction,\tthen\tour quantitative\tgrowth\tscale\tis\tmeasured\tin\tterms\tof\trequests\tand\ttransactions, resulting\tin\trequests\tper\tsecond\tand\ttransactions\tper\tsecond\tas\tthe\ttwo\tkey quantities\tdetermining\tour\tscalability.\n\nThe\timportance\tof\tchoosing\taccurate\tqualitative\tand\tquantitative\tgrowth\tscales cannot\tbe\toveremphasized.\tAs\twe\twill\tsoon\tsee,\tthe\tgrowth\tscale\twill\tbe\tused when\tmaking\tpredictions\tabout\tthe\tservice’s\toperational\tcosts,\thardware\tneeds, and\tlimitations.\n\nEfficient\tUse\tof\tResources When\tconsidering\tthe\tscalability\tof\tlarge-scale\tdistributed\tsystems\tlike microservice\tecosystems,\tone\tof\tthe\tmost\tuseful\tabstractions\twe\tcan\tmake\tis\tto treat\tproperties\tof\tour\thardware\tand\tinfrastructure\tsystems\tas\tresources.\tCPU, memory,\tdata\tstorage,\tand\tthe\tnetwork\tare\tsimilar\tto\tresources\tin\tthe\tnatural world:\tthey\tare\tfinite,\tthey\tare\tphysical\tobjects\tin\tthe\treal\tworld,\tand\tthey\tmust be\tdistributed\tand\tshared\tbetween\tvarious\tkey\tplayers\tin\tthe\tecosystem.\tAs\twe discussed\tbriefly\tin\t“Organizational\tChallenges”,\thardware\tresources\tare expensive,\tvaluable,\tand\tsometimes\trare,\twhich\tleads\tto\tfierce\tcompetition\tfor resources\twithin\tthe\tmicroservice\tecosystem.\n\nThe\torganizational\tchallenge\tof\tresource\tallocation\tand\tdistribution\tcan\tbe alleviated\tby\tgiving\tbusiness-critical\tmicroservices\ta\tgreater\tshare\tof\tthe resources.\tResource\tneeds\tcan\tbe\tprioritized\tby\tcategorizing\tvarious microservices\twithin\tthe\tecosystem\taccording\tto\ttheir\timportance\tand\tvalue\tto the\toverall\tbusiness:\tif\tresources\tare\tscarce\tacross\tthe\tecosystem,\tthe\tmost business-critical\tservices\tcan\tbe\tgiven\thigher\tpriority\twith\tregard\tto\tresource allocation.\n\nThe\ttechnical\tchallenge\tof\tresource\tallocation\tand\tdistribution\tpresents\tsome difficulty,\tbecause\tmany\tdecisions\tneed\tto\tbe\tmade\tabout\tthe\tfirst\tlayer\t(the hardware\tlayer)\tof\tthe\tmicroservice\tecosystem.\tMicroservices\tcan\tbe\tgiven dedicated\thardware\tso\tthat\tonly\tone\tservice\twill\trun\ton\teach\thost,\tbut\tthis\tcan\tbe rather\texpensive\tand\tan\tinefficient\tuse\tof\thardware\tresources.\tMany\tengineering organizations\topt\tto\tshare\thardware\tamong\tmultiple\tmicroservices,\tand\teach host\twill\trun\tseveral\tdifferent\tservices\t—\ta\tpractice\tthat\tis,\tin\tmost\tcases,\ta\tmore efficient\tuse\tof\thardware\tresources.\n\nTHE\tDANGERS\tOF\tSHARED\tHARDWARE\tRESOURCES\n\nWhile\trunning\tmany\tdifferent\tmicroservices\ton\tone\tmachine\t(that\tis,\tsharing\tmachines between\tmicroservices)\tis\tusually\ta\tmore\tefficient\tuse\tof\thardware\tresources,\tcare\tmust\tbe taken\tto\tensure\tthat\tthe\tmicroservices\tare\tsufficiently\tisolated\tand\tdon’t\tcompromise\tthe performance,\tefficiency,\tor\tavailability\tof\ttheir\tneighboring\tmicroservices.\tContainerization (using\tDocker)\talong\twith\tresource\tisolation\tcan\thelp\tprevent\tmicroservices\tfrom\tbeing harmed\tby\tbadly\tbehaved\tneighbors.\n\nOne\tof\tthe\tmost\teffective\tways\tto\tallocate\tand\tdistribute\thardware\tresources across\ta\tmicroservice\tecosystem\tis\tto\tfully\tabstract\taway\tthe\tnotion\tof\ta\thost\tand replace\tit\twith\thardware\tresources\tusing\tresource\tabstraction\ttechnologies\tlike Apache\tMesos.\tUsing\tthis\tlevel\tof\tresource\tabstraction\tallows\tresources\tto\tbe allocated\tdynamically,\teliminating\tmany\tof\tthe\tpitfalls\tassociated\twith\tresource allocation\tand\tdistribution\tin\tlarge-scale\tdistributed\tsystems\tlike\tmicroservice ecosystems.\n\nResource\tAwareness Before\thardware\tresources\tcan\tbe\tefficiently\tallocated\tand\tdistributed\tto microservices\twithin\tthe\tmicroservice\tecosystem,\tit\tis\timportant\tto\tidentify\tthe resource\trequirements\tand\tresource\tbottlenecks\tof\teach\tmicroservice.\tResource requirements\tare\tthe\tspecific\tresources\t(CPU,\tRAM,\tetc.)\tthat\teach\tmicroservice needs;\tidentifying\tthese\tis\tessential\tfor\trunning\ta\tscalable\tservice.\tResource bottlenecks\tare\tthe\tscalability\tand\tperformance\tlimitations\tof\teach\tindividual microservice\tthat\tare\tdependent\ton\tfeatures\tof\tits\tresources.\n\nResource\tRequirements The\tresource\trequirements\tof\ta\tmicroservice\tare\tthe\thardware\tresources\tthe microservice\tneeds\tin\torder\tto\trun\tproperly,\tto\tprocess\ttasks\tefficiently,\tand\tto be\tscaled\tvertically\tand/or\thorizontally.\tThe\ttwo\tmost\timportant\tand\trelevant hardware\tresources\ttend\tto\tbe,\tunsurprisingly,\tCPU\tand\tRAM\t(in\tmultithreaded environments,\tthreads\tbecome\tthe\tthird\timportant\tresource).\tDetermining\tthe resource\trequirements\tof\ta\tmicroservice\tthen\tentails\tquantifying\tthe\tCPU\tand RAM\tthat\tone\tinstance\tof\tthe\tservice\tneeds\tin\torder\tto\trun.\tThis\tis\tessential\tfor resource\tabstraction,\tfor\tresource\tallocation\tand\tdistribution,\tand\tfor determining\tthe\toverall\tscalability\tand\tperformance\tof\tthe\tmicroservice.\n\nIDENTIFYING\tADDITIONAL\tRESOURCE\tREQUIREMENTS\n\nWhile\tCPU\tand\tRAM\tare\tthe\ttwo\tmost\tcommon\tresource\trequirements,\tit’s\timportant\tto\tkeep an\teye\tout\tfor\tother\tresources\tthat\ta\tmicroservice\tmay\tneed\twithin\tthe\tecosystem.\tThese\tcan be\thardware\tresources\tlike\tdatabase\tconnections\tor\tapplication\tplatform\tresources\tlike\tlogging quotas.\tBeing\taware\tof\tthe\tneeds\tof\ta\tspecific\tmicroservice\tcan\tdo\ta\tlot\tto\timprove\tscalability and\tperformance.\n\nCalculating\tthe\tspecific\tresource\trequirements\tof\ta\tmicroservice\tcan\tbe\ta\ttricky, lengthy\tprocess,\tbecause\tthere\tare\tmany\trelevant\tfactors.\tThe\tkey\there,\tas\tI mentioned\tearlier,\tis\tto\tdetermine\twhat\tthe\trequirements\tare\tfor\tonly\tone instance\tof\tthe\tservice.\tThe\tmost\teffective\tand\tefficient\tway\tto\tscale\tour\tservice is\tto\tscale\tit\thorizontally:\tif\tour\ttraffic\tis\tabout\tto\tincrease,\twe\twant\tto\tadd\ta\tfew more\thosts\tand\tdeploy\tour\tservice\tto\tthose\tnew\thosts.\tIn\torder\tfor\tus\tto\tknow how\tmany\thosts\twe\tneed\tto\tadd,\twe\tneed\tto\tknow\twhat\tour\tservice\tlooks\tlike running\ton\tonly\tone\thost:\thow\tmuch\ttraffic\tcan\tit\thandle?\thow\tmuch\tCPU\tdoes it\tutilize?\thow\tmuch\tmemory?\tThose\tnumbers\twill\ttell\tus\texactly\twhat\tthe resource\trequirements\tof\tour\tmicroservice\tare.\n\nResource\tBottlenecks We\tcan\tdiscover\tand\tquantify\tthe\tperformance\tand\tscalability\tlimitations\tof\tour microservices\tby\tidentifying\tresource\tbottlenecks.\tA\tresource\tbottleneck\tis anything\tinherent\tabout\tthe\tway\tthe\tmicroservice\tutilizes\tits\tresources\tthat\tlimits the\tscalability\tof\tthe\tapplication.\tThis\tcould\tbe\tan\tinfrastructure\tbottleneck\tor something\twithin\tthe\tarchitecture\tof\tthe\tservice\tthat\tprevents\tit\tfrom\tbeing scalable.\tFor\texample,\tthe\tnumber\tof\topen\tdatabase\tconnections\ta\tmicroservice needs\tcan\tbe\ta\tbottleneck\tif\tit\tnears\tthe\tconnection\tlimit\tof\tthe\tdatabase. Another\texample\tof\ta\tcommon\tresource\tbottleneck\tis\twhen\tmicroservices\tneed to\tbe\tvertically\tscaled\t(rather\tthan\thorizontally\tscaled,\twhere\tmore instances/hardware\tis\tadded)\twhen\tthey\texperience\tan\tincrease\tin\ttraffic:\tif\tthe only\tway\tto\tscale\ta\tmicroservice\tis\tto\tincrease\tthe\tresources\tof\teach\tinstance (more\tCPU,\tmore\tmemory),\tthen\tthe\ttwo\tprinciples\tof\tscalability\t(concurrency and\tpartitioning)\tare\tabandoned.\n\nSome\tresource\tbottlenecks\tare\teasy\tto\tidentify.\tIf\tyour\tmicroservice\tcan\tonly\tbe scaled\tto\tmeet\tgrowing\ttraffic\tby\tdeploying\tit\tto\tmachines\twith\tmore\tCPU\tand memory,\tthen\tyou\thave\ta\tscalability\tbottleneck\tand\tneed\tto\trefactor\tthe microservice\tso\tthat\tit\tcan\tbe\tscaled\thorizontally\trather\tthan\tvertically,\tusing concurrency\tand\tpartitioning\tas\tyour\tguiding\tprinciples.\n\nTHE\tPITFALLS\tOF\tVERTICAL\tSCALING\n\nVertical\tscaling\tisn’t\ta\tsustainable\tor\tscalable\tway\tto\tarchitect\tmicroservices.\tIt\tmay\tappear\tto work\tout\tall\tright\tin\tsituations\twhere\teach\tmicroservice\thas\tdedicated\thardware,\tbut\tit\twill\tnot work\twell\twith\tthe\tnew\thardware\tabstraction\tand\tisolation\ttechnologies\tthat\tare\tused\tin\tthe tech\tworld\ttoday,\tlike\tDocker\tand\tApache\tMesos.\tAlways\toptimize\tfor\tconcurrency\tand partitioning\tif\tyou\twant\tto\tbuild\ta\tscalable\tapplication.\n\nOther\tresource\tbottlenecks\tare\tnot\tas\tobvious,\tand\tthe\tbest\tway\tto\tdiscover\tthem is\tto\trun\textensive\tload\ttesting\ton\tthe\tservice.\tWe\twill\tcover\tload\ttesting\tin much\tgreater\tdetail\tin\t“Resiliency\tTesting”.\n\nCapacity\tPlanning One\tof\tthe\tmost\timportant\trequirements\tof\tbuilding\ta\tscalable\tmicroservice\tis ensuring\tthat\tit\twill\thave\taccess\tto\tnecessary\tand\trequired\thardware\tresources\tas it\tscales.\tEfficiently\tusing\tresources,\tplanning\tfor\tgrowth,\tand\tdesigning\ta microservice\tfor\tperfect\tefficiency\tand\tscalability\tfrom\tthe\tground\tup\tis\tall quickly\tmade\tuseless\tif\tno\thardware\tresources\tare\tavailable\twhen\tthe microservice\tneeds\tto\thost\tmore\tproduction\ttraffic.\tThis\tchallenge\tis\tespecially relevant\tfor\tmicroservices\tthat\tare\toptimized\tfor\thorizontal\tscalability.\n\nIn\taddition\tto\tthe\ttechnical\tchallenges\tthat\taccompany\tthis\tpotential\tproblem, engineering\torganizations\tare\toften\tfaced\twith\tlarger\torganizational-level\tand business-relevant\tissues\tthat\tcome\talong\tfor\tthe\tride:\thardware\tresources\tcost quite\ta\tbit\tof\tmoney,\tbusinesses\tand\tindividual\tdevelopment\tteams\twithin\tthem have\tbudgets\tto\tadhere\tto,\tand\tthese\tbudgets\t(which\ttend\tto\tinclude\thardware) need\tto\tbe\tplanned\tfor\tin\tadvance.\tTo\tensure\tthat\tmicroservices\tcan\tscale properly\twhen\ttraffic\tincreases,\twe\tcan\tperform\tscheduled\tcapacity\tplanning. The\tprinciples\tof\tcapacity\tplanning\tare\tpretty\tstraightforward:\tdetermine\tthe hardware\tneeds\tof\teach\tmicroservice\tin\tadvance,\tbuild\tthe\tneeds\tinto\tthe\tbudget, and\tmake\tsure\tthat\tthe\trequired\thardware\tis\treserved.\n\nTo\tdetermine\tthe\thardware\tneeds\tof\teach\tservice,\twe\tcan\tuse\tthe\tgrowth\tscales (both\tquantitative\tand\tqualitative),\tkey\tbusiness\tmetrics\tand\ttraffic\tpredictions, the\tknown\tresource\tbottlenecks\tand\trequirements,\tand\thistorical\tdata\tabout\tthe microservice’s\ttraffic.\tThis\tis\twhere\tqualitative\tand\tquantitative\tgrowth\tscales come\tin\tespecially\thandy,\tbecause\tthey\tallow\tus\tto\tfigure\tout\tprecisely\thow\tthe scalability\tbehavior\tof\tour\tmicroservices\trelate\tto\thigh-level\tbusiness predictions.\tFor\texample,\tif\twe\tknow\tthat\t(1)\tour\tmicroservice\tscales\twith unique\tvisitors\tto\tthe\toverall\tproduct,\t(2)\teach\tunique\tvisitor\tcorresponds\tto\ta certain\tnumber\tof\trequests\tper\tsecond\tmade\tto\tour\tmicroservice,\tand\t(3)\tthat\tthe company\tpredicts\tthat\tthe\tproduct\twill\treceive\t20,000\tnew\tunique\tvisitors\tin\tthe next\tquarter,\tthen\twe’ll\tknow\texactly\twhat\tour\tcapacity\tneeds\twill\tbe\tfor\tthe next\tquarter.\n\nThis\tneeds\tto\tbe\tbuilt\tinto\tthe\tbudget\tof\teach\tdevelopment\tteam,\teach engineering\torganization,\tand\teach\tcompany.\tRunning\tthis\texercise\ton\ta scheduled\tbasis\tbefore\tbudgeting\tis\tdetermined\tcan\thelp\tengineering organizations\tmake\tsure\tthat\thardware\tresources\tare\tnever\tunavailable\tsimply because\tresource\tbudgeting\twasn’t\tcompleted\tor\tprepared\tfor.\tThe\timportant\n\nthing\there\t(from\tboth\tthe\tengineering\tand\tbusiness\tperspectives)\tis\tto\trecognize the\tcost\tof\tinadequate\tcapacity\tplanning:\tmicroservices\tthat\tcan’t\tscale\tproperly because\tof\thardware\tshortages\tlead\tto\tdecreased\tavailability\twithin\tthe\tentire ecosystem,\twhich\tleads\tto\toutages,\twhich\tcosts\tthe\tcompany\tmoney.\n\nLEAD\tTIME\tFOR\tNEW\tHARDWARE\tREQUESTS\n\nOne\tpotential\tproblem\tthat’s\tcommonly\toverlooked\tby\tdevelopment\tteams\tduring\tthe\tcapacity planning\tphase\tis\tthat\tthe\thardware\tthat\tis\tneeded\tfor\tthe\tmicroservice\tmight\tnot\texist\tat\tthe time\tof\tplanning\tand\tmay\tneed\tto\tbe\tacquired,\tinstalled,\tand\tconfigured\tbefore\tany microservices\tcan\trun\ton\tit.\tBefore\tscheduling\tcapacity\tplanning,\ttake\tcare\tto\tfind\tout\tthe exact\tlead\ttime\tneeded\tfor\tacquiring\tnew\thardware\tin\torder\tto\tavoid\tlong\tshortages\tin\tcritical times,\tand\tallow\tsome\troom\tfor\tdelays\tin\tthe\tprocess.\n\nOnce\tthe\thardware\tresources\thave\tbeen\tsecured\tand\tdedicated\tto\teach microservice,\tcapacity\tplanning\tis\tcomplete.\tDetermining\twhen\tand\thow\tto allocate\tthe\thardware\tafter\tthe\tplanning\tphase\tis,\tof\tcourse,\tup\tto\teach engineering\torganization\tand\ttheir\tdevelopment,\tinfrastructure,\tand\toperations teams.\n\nCapacity\tplanning\tcan\tbe\ta\treally\tdifficult\tand\tmanual\ttask.\tLike\tmost\tmanual tasks\twithin\tengineering,\tit\tintroduces\tnew\tmodes\tof\tfailure:\tmanual\tcalculations can\tbe\toff,\tand\teven\ta\tsmall\tshortage\tcan\tprove\tdisastrous\tto\tbusiness-critical services.\tAutomating\tthe\tmajority\tof\tthe\tcapacity\tplanning\tprocess\taway\tfrom development\tand\toperations\tteams\tcuts\tdown\ton\tpotential\terrors\tand\tfailures, and\ta\tgreat\tway\tto\taccomplish\tthis\tis\tto\tbuild\tand\trun\ta\tcapacity\tplanning\tself- service\ttool\twithin\tthe\tapplication\tplatform\tlayer\tof\tthe\tmicroservice\tecosystem.\n\nDependency\tScaling The\tscalability\tof\ta\tmicroservice’s\tdependencies\tcan\tpresent\ta\tscalability problem\tof\tits\town.\tA\tmicroservice\tthat\tis\tarchitected,\tbuilt,\tand\trun\tto\tbe perfectly\tscalable\tin\tevery\tway\tstill\tfaces\tscalability\tchallenges\tif\tit’s dependencies\tcannot\tscale\twith\tit.\tIf\teven\tone\tcritical\tdependency\tis\tunable\tto scale\twith\tits\tclients,\tthen\tthe\tentire\tdependency\tchain\tsuffers.\tEnsuring\tthat\tall dependencies\twill\tscale\twith\ta\tmicroservice’s\texpected\tgrowth\tis\tessential\tfor building\tproduction-ready\tservices.\n\nThis\tchallenge\tis\trelevant\tto\tevery\tindividual\tmicroservice\tand\tevery\tpart\tof\tthe microservice\tecosystem\tstack,\twhich\tmeans\tthat\tmicroservice\tteams\talso\tneed\tto make\tsure\tthat\ttheir\tservice\tisn’t\ta\tscalability\tbottleneck\tfor\tits\tclients.\tIn\tother words,\tadditional\tcomplexity\tis\tintroduced\tby\tthe\trest\tof\tthe\tmicroservice ecosystem.\tThe\tinevitable\tadditional\ttraffic\tand\tgrowth\tfrom\ta\tmicroservice’s clients\tneed\tto\tbe\tprepared\tfor.\n\nQUALITATIVE\tGROWTH\tSCALES\tAND\tDEPENDENCY SCALABILITY\n\nWhen\tdealing\twith\tincredibly\tcomplex\tdependency\tchains,\tmaking\tsure\tthat\tall\tmicroservice teams\ttie\tthe\tscalability\tof\ttheir\tservices\tto\thigh-level\tbusiness\tmetrics\t(using\tthe\tqualitative growth\tscale)\tcan\tmake\tsure\tthat\tall\tservices\tare\tproperly\tprepared\tfor\texpected\tgrowth,\teven when\tcross-team\tcommunication\tbecomes\tdifficult.\n\nThe\tproblem\tof\tdependency\tscaling\tis\tan\tespecially\tstrong\targument\tfor\tthe implementation\tof\tscalability\tand\tperformance\tstandards\tacross\tevery\tpart\tof\tthe microservice\tecosystem.\tMost\tmicroservices\tdo\tnot\tlive\tin\tisolation.\tNearly every\tsingle\tmicroservice\tis\ta\tsmall\tpart\tof\tlarge,\tintertwined,\tintricate dependency\tchains.\tIn\tmost\tcases,\tscaling\tthe\tentire\toverall\tproduct,\tthe organization,\tand\tthe\tecosystem\teffectively\trequires\tthat\teach\tpiece\tof\tthe system\tscales\ttogether\twith\tthe\trest.\tHaving\ta\tsmall\tnumber\tof\tsuper\tefficient, performant,\tand\tscalable\tmicroservices\tin\ta\tsystem\twhere\tthe\trest\tof\tthe\tservices aren’t\theld\tto\t(and\tdon’t\tmeet)\tthe\tsame\tstandards\trenders\tthe\tefficiency\tof\tthe standardized\tservices\tcompletely\tmoot.\n\nAside\tfrom\tstandardization\tacross\tthe\tecosystem,\tand\tholding\teach\tmicroservice development\tteam\tto\thigh\tscalability\tstandards,\tit’s\timportant\tthat\tdevelopment teams\twork\ttogether\tacross\tmicroservice\tboundaries\tto\tensure\tthat\teach dependency\tchain\twill\tscale\ttogether.\tThe\tdevelopment\tteams\tresponsible\tfor any\tdependencies\tof\ta\tmicroservice\tneed\tto\tbe\talerted\twhen\tincreases\tin\ttraffic are\texpected.\tCross-team\tcommunication\tand\tcollaboration\tare\tessential\there: regularly\tcommunicating\twith\tclients\tand\tdependencies\tabout\ta\tservice’s scalability\trequirements,\tstatus,\tand\tany\tbottlenecks\tcan\thelp\tto\tguarantee\tthat any\tservices\tthat\trely\ton\teach\tother\tare\tprepared\tfor\tgrowth\tand\taware\tof\tany potential\tscalability\tbottlenecks.\tA\tstrategy\tthat\tI’ve\tused\tto\thelp\tteams accomplish\tthis\tis\tby\tholding\tarchitecture\tand\tscalability\toverview\tmeetings with\tteams\twhose\tservices\trely\ton\tone\tanother.\tIn\tthese\tmeetings,\twe\tcover\tthe architecture\tof\teach\tservice\tand\tits\tscalability\tlimitations,\tthen\tdiscuss\ttogether what\tneeds\tto\tbe\tdone\tto\tscale\tthe\tentire\tset\tof\tservices.\n\nTraffic\tManagement As\tservices\tscale,\tand\tthe\tnumber\tof\trequests\teach\tservice\tmust\thandle\tgrows,\ta scalable,\tperformant\tservice\tmust\talso\thandle\ttraffic\tintelligently.\tThere\tare several\taspects\tto\tmanaging\ttraffic\tin\ta\tscalable,\tperformant\tway:\tfirst\tof\tall,\tthe growth\tscale\t(quantitative\tand\tqualitative)\tneeds\tto\tbe\tused\tto\tpredict\tfuture increases\t(or\tdecreases)\tin\ttraffic;\tsecond,\tthe\ttraffic\tpatterns\tmust\tbe\twell understood\tand\tprepared\tfor;\tand\tthird,\tmicroservices\tneed\tto\tbe\table\tto intelligently\thandle\tincreases\tin\ttraffic,\tas\twell\tas\tsurges\tor\tbursts\tof\ttraffic.\n\nWe’ve\talready\tcovered\tthe\tfirst\taspect\tearlier\tin\tthis\tchapter:\tunderstanding\tthe growth\tscales\t(both\tquantitative\tand\tqualitative)\tof\ta\tmicroservice\tallows\tus\tto understand\tcurrent\ttraffic\tloads\ton\tthe\tservice\tas\twell\tas\tprepare\tfor\tfuture\ttraffic growth.\n\nUnderstanding\tcurrent\ttraffic\tpatterns\thelps\twhen\tinteracting\twith\tthe\tservice\ton the\tground\tfloor\tin\ta\tlot\tof\treally\tinteresting\tways.\tWhen\ttraffic\tpatterns\tare clearly\tidentified,\tboth\tin\tterms\tof\tthe\trequests\tper\tsecond\tsent\tto\tthe\tservice over\ttime\tand\tall\tkey\tmetrics\t(see\tChapter\t6,\tMonitoring,\tfor\tmore\tabout\tkey metrics),\tchanges\tto\tthe\tservice,\toperational\tdowntimes,\tand\tdeployments\tcan\tbe scheduled\tto\tavoid\tpeak\ttraffic\ttimes,\tcutting\tdown\ton\tpossible\tfuture\toutages\tif a\tbug\tis\tdeployed\tand\ton\tpotential\tdowntime\tif\tthe\tmicroservice\tis\trestarted while\texperiencing\tpeak\ttraffic\tload.\tClosely\tmonitoring\tthe\ttraffic\tin\tlight\tof the\ttraffic\tpatterns\tand\ttuning\tthe\tmonitoring\tthresholds\tcarefully\twith\tthe\ttraffic patterns\tof\tthe\tmicroservice\tin\tmind\tcan\thelp\tcatch\tany\tissues\tand\tincidents quickly\tbefore\tthey\tcause\tan\toutage\tor\tlead\tto\tdecreased\tavailability\t(the principles\tof\tproduction-ready\tmonitoring\tare\tcovered\tin\tgreater\tdetail\tin Chapter\t6,\tMonitoring).\n\nWhen\twe\tcan\tpredict\tfuture\ttraffic\tgrowth\tand\tunderstand\tthe\tcurrent\tand\tpast traffic\tpatterns\twell\tenough\tto\tknow\thow\tthe\tpatterns\twill\tchange\twith\texpected growth,\twe\tcan\tperform\tload\ttesting\ton\tour\tservices\tto\tmake\tsure\tthat\tthey behave\tas\twe\texpect\tunder\theavier\ttraffic\tloads.\tThe\tdetails\tof\tload\ttesting\tare covered\tin\t“Resiliency\tTesting”.\n\nThe\tthird\taspect\tof\ttraffic\tmanagement\tis\twhere\tthings\tget\tespecially\ttricky.\tThe way\ta\tmicroservice\thandles\ttraffic\tshould\tbe\tscalable,\twhich\tmeans\tit\tshould\tbe prepared\tfor\tdrastic\tchanges\tin\ttraffic,\tespecially\tbursts\tof\ttraffic,\thandle\tthem carefully,\tand\tprevent\tthem\tfrom\ttaking\tdown\tthe\tservice\tentirely.\tIt’s\teasier said\tthan\tdone,\tbecause\teven\tthe\tmost\twell-monitored,\tscalable,\tand\tperformant microservices\tcan\texperience\tmonitoring,\tlogging,\tand\tother\tgeneral\tissues\tif\n\nmicroservices\tcan\texperience\tmonitoring,\tlogging,\tand\tother\tgeneral\tissues\tif traffic\tsuddenly\tspikes.\tThese\tsorts\tof\tspikes\tshould\tbe\tprepared\tfor\tat\tthe infrastructure\tlevel,\twithin\tall\tmonitoring\tand\tlogging\tsystems,\tand\tby\tthe development\tteam\tas\tpart\tof\tthe\tservice’s\tresiliency\ttesting\tsuite.\n\nThere’s\tone\tadditional\taspect\tI\twant\tto\tmention\tthat’s\trelated\tto\tmanagement\tof traffic\tbetween\tand\tacross\tvarious\tlocations.\tMany\tmicroservice\tecosystems won’t\tbe\tdeployed\tonly\tin\tone\tlocation,\tone\tdatacenter,\tor\tone\tcity,\tbut\trather across\tmultiple\tdatacenters\tacross\tthe\tcountry\t(or\teven\tthe\tworld).\tIt’s\tnot uncommon\tfor\tdatacenters\tthemselves\tto\texperience\tlarge-scale\toutages,\tand when\tthis\thappens,\tthe\tentire\tmicroservice\tecosystem\tcan\t(and\tusually\twill)\tgo down\twith\tthe\tdatacenter.\tDistributing\tand\trouting\ttraffic\tappropriately\tbetween datacenters\tis\tthe\tresponsibility\tof\tthe\tinfrastructure\tlevel\t(in\tparticular,\tthe communication\tlayer)\tof\tthe\tmicroservice\tecosystem,\tbut\teach\tmicroservice needs\tto\tbe\tprepared\tto\tre-route\ttraffic\tfrom\tone\tdatacenter\tto\tanother\twithout the\tservice\texperiencing\tany\tdecreased\tavailability.\n\nTask\tHandling\tand\tProcessing Every\tmicroservice\tin\tthe\tmicroservice\tecosystem\twill\tneed\tto\tprocess\ttasks\tof some\tsort.\tThat\tis,\tevery\tmicroservice\twill\tbe\treceiving\trequests\tfrom\tupstream client\tservices\twho\teither\tneed\tsome\tsort\tof\tinformation\tfrom\tthe\tmicroservice or\tneed\tthe\tmicroservice\tto\tcompute\tor\tprocess\tsomething\tand\tthen\treturn information\tabout\tthat\tcomputation\tor\tprocess,\tand\tthen\tthe\tmicroservice\twill need\tto\tfulfill\tthat\trequest\t(usually\tby\tcommunicating\twith\tdownstream\tservices in\taddition\tto\tdoing\tsome\twork\tof\tits\town)\tand\treturn\tany\trequested\tinformation or\tresponse\tto\tthe\tclient\tthat\tsent\tthe\trequest.\n\nProgramming\tLanguage\tLimitations Microservices\tcan\taccomplish\tthis\tand\tplay\ttheir\trequired\trole\tin\ta\tmyriad\tof ways,\tand\tthe\tways\tin\twhich\tthey\twill\tperform\tcomputations,\tinteract\twith downstream\tservices,\tand\tprocess\tvarious\ttasks\twill\tdepend\ton\tthe\tlanguage\tthat the\tservice\tis\twritten\tin,\tand\tconsequently,\ton\tthe\tarchitecture\tof\tthe\tservice (which\tis,\tin\tmany\tways,\tdetermined\tby\tthe\tlanguage).\tFor\texample,\ta microservice\twritten\tin\tPython\thas\ta\tnumber\tof\tways\tthat\tit\tcan\tprocess\tvarious tasks,\tsome\tof\twhich\trequire\tthe\tuse\tof\tasynchronous\tframeworks\t(like\tTornado) and\tothers\twhich\tcan\tutilize\tmessaging\ttechnologies\tlike\tRabbitMQ\tand\tCelery to\tefficiently\tprocess\ttasks.\tFor\tthese\treasons,\ta\tmicroservice’s\tability\tto\thandle and\tprocess\ttasks\tin\ta\tscalable\tand\tperformant\tmanner\tis\tdictated\tin\tpart\tby choice\tof\tlanguage.\n\nBEWARE\tOF\tSCALABILITY\tAND\tPERFORMANCE LIMITATIONS\tOF\tPROGRAMMING\tLANGUAGES\n\nMany\tprogramming\tlanguages\tare\tnot\toptimized\tfor\tthe\tperformance\tand\tscalability requirements\tof\tmicroservice\tarchitecture,\tor\tdo\tnot\thave\tscalable\tor\tperformant\tframeworks that\tallow\tmicroservices\tto\tprocess\ttasks\tefficiently.\n\nBecause\tof\tthe\tlimitations\tintroduced\tby\tlanguage\tchoice\twhen\tit\tcomes\tto\ta microservice’s\tability\tto\tprocess\ttasks\tefficiently,\tlanguage\tchoice\tbecomes extremely\timportant\tin\tmicroservice\tarchitecture.\tTo\tmany\tdevelopers,\tone\tof the\tselling\tpoints\tof\tthe\tadoption\tof\tmicroservice\tarchitecture\tis\tthe\tability\tto write\ta\tmicroservice\tin\tany\tlanguage,\tand\tthis\tis\tusually\ttrue,\tbut\twith\ta\tcaveat: programming\tlanguage\tconstraints\tneed\tto\tbe\ttaken\tinto\taccount,\tand\tlanguage choice\tshould\tbe\tdetermined\tnot\tby\twhether\ta\tlanguage\tis\tfashionable\tor\tfun\t(or even\twhether\tit\tis\tthe\tmost\tcommon\tlanguage\tthat\tthe\tdevelopment\tteam\tis familiar\twith),\tbut\twith\tthe\tperformance\tand\tscalability\tlimitations\tof\teach potential\tlanguage\theld\tas\tthe\tdeciding\tfactors.\tThere\tis\tno\tone\t“best”\tlanguage to\twrite\ta\tmicroservice\tin,\tbut\tthere\tare\tlanguages\tthat\tare\tbetter\tsuited\tthan others\tto\tcertain\ttypes\tof\tmicroservices.\n\nHandling\tRequests\tand\tProcessing\tTasks\tEfficiently Language\tchoice\taside,\tproduction-readiness\tstandardization\trequires\teach microservice\tto\tbe\tboth\tscalable\tand\tperformant,\twhich\tmeans\tthat microservices\tneed\tto\tbe\table\tto\thandle\tand\tprocess\ta\tlarge\tnumber\tof\ttasks\tat the\tsame\ttime,\thandle\tand\tprocess\tthose\ttasks\tefficiently,\tand\tbe\tprepared\tfor tasks\tand\trequests\tto\tincrease\tin\tthe\tfuture.\tWith\tthis\tin\tmind,\tdevelopment teams\tshould\tbe\table\tto\tanswer\tthree\tbasic\tquestions\tabout\ttheir\tmicroservices: how\ttheir\tmicroservice\tprocesses\ttasks,\thow\tefficiently\ttheir\tmicroservice processes\tthose\ttasks,\tand\thow\ttheir\tmicroservice\twill\tperform\tas\tthe\tnumber\tof requests\tscales.\n\nTo\tensure\tscalability\tand\tperformance,\tmicroservices\tneed\tto\tprocess\ttasks efficiently.\tIn\torder\tto\tdo\tthis,\tthey\tneed\tto\thave\tboth\tconcurrency\tand partitioning.\tConcurrency\trequires\tthat\tthe\tservice\tcan’t\thave\tone\tsingle\tprocess that\tdoes\tall\tof\tthe\twork:\tthat\tprocess\twill\tpick\tup\tone\ttask\tat\ta\ttime,\tcomplete the\tsteps\tin\ta\tspecific\torder,\tand\tthen\tmove\ton\tto\tthe\tnext,\twhich\tis\ta\trelatively inefficient\tway\tto\tprocess\ttasks.\tInstead\tof\tarchitecting\tour\tservice\tto\tuse\ta single\tprocess,\twe\tcan\tintroduce\tconcurrency\tso\tthat\teach\ttask\tis\tbroken\tup\tinto smaller\tpieces.\n\nWRITE\tMICROSERVICES\tIN\tPROGRAMMING LANGUAGES\tTHAT\tARE\tOPTIMIZED\tFOR\tCONCURRENCY AND\tPARTITIONING\n\nSome\tlanguages\tare\tbetter\tsuited\tfor\tefficient\t(concurrent\tand\tpartitioned)\ttask\thandling\tand processing\tthan\tothers.\tWhen\twriting\ta\tnew\tmicroservice,\tmake\tsure\tthat\tthe\tlanguage\tthe service\tis\tbeing\twritten\tin\twon’t\tintroduce\tscalability\tand\tperformance\tconstraints\ton\tthe microservices.\tMicroservices\tthat\tare\talready\twritten\tin\tlanguages\twith\tefficiency\tlimitations can\t(and\tshould)\tbe\trewritten\tin\tmore\tappropriate\tlanguages,\ta\ttime\tconsuming\tbut\tincredibly rewarding\ttask\tthat\tcan\tdrastically\timprove\tscalability\tand\tperformance.\tFor\texample,\tif\tyou are\toptimizing\tfor\tconcurrency\tand\tpartitioning,\tand\twant\tto\tuse\tan\tasynchronous\tframework to\thelp\tyou\taccomplish\tthat,\twriting\tyour\tservice\tin\tPython\t(rather\tthan\tC++,\tJava,\tor\tGo\t— three\tlanguages\tbuilt\tfor\tconcurrency\tand\tpartitioning)\tis\tgoing\tto\tintroduce\ta\tlot\tof\tscalability and\tperformance\tbottlenecks\tthat\twill\tbe\tdifficult\tto\tmitigate.\n\nTaking\tthe\tsmaller\tpieces\tof\tthese\ttasks,\twe\tcan\tprocess\tthem\tmore\tefficiently using\tpartitioning,\twhere\teach\ttask\tis\tnot\tonly\tbroken\tup\tinto\tsmall\tpieces\tbut can\tbe\tprocessed\tin\tparallel.\tIf\twe\thave\ta\tlarge\tnumber\tof\tsmall\ttasks,\twe\tcan process\tthen\tall\tat\tthe\tsame\ttime\tby\tsending\tthem\tto\ta\tset\tof\tworkers\tthat\tcan process\tthem\tin\tparallel.\tIf\twe\tneed\tto\tprocess\tmore\ttasks,\twe\tcan\teasily\tscale with\tthe\tincreased\tdemand\tby\tadding\tadditional\tworkers\tto\tprocess\tthe\tnew tasks\twithout\taffecting\tthe\tefficiency\tof\tour\tsystem.\tTogether,\tconcurrency\tand partitioning\thelp\tensure\tthat\tour\tmicroservice\tis\toptimized\tfor\tboth\tscalability and\tpartitioning.\n\nScalable\tData\tStorage Microservices\tneed\tto\thandle\tdata\tin\ta\tscalable\tand\tperformant\tway.\tThe\tway in\twhich\ta\tmicroservice\tstores\tand\thandles\tdata\tcan\teasily\tbecome\tthe\tmost significant\tlimitation\tor\tconstraint\tthat\tkeeps\tit\tfrom\tbecoming\tscalable\tand performant:\tchoosing\tthe\twrong\tdatabase,\tthe\twrong\tschema,\tor\ta\tdatabase\tthat doesn’t\tsupport\ttest\ttenancy\tcan\tend\tup\tcompromising\tthe\toverall\tavailability\tof a\tmicroservice.\tChoosing\tthe\tright\tdatabase\tfor\ta\tmicroservice\tis\ta\ttopic\tthat, like\tall\tthe\tother\ttopics\tcovered\tin\tthis\tbook,\tis\tincredibly\tcomplex,\tand\twe\twill only\tscratch\tthe\tsurface\tin\tthis\tchapter.\tIn\tthe\tfollowing\tsections,\twe’ll\ttake\ta look\tat\tseveral\tthings\tto\tconsider\twhen\tchoosing\tdatabases\tin\tmicroservice ecosystems,\tand\tthen\tat\tsome\tdatabase\tchallenges\tthat\tare\tspecific\tto microservice\tarchitecture.\n\nDatabase\tChoice\tin\tMicroservice\tEcosystems Building,\trunning,\tand\tmaintaining\tdatabases\tin\tlarge\tmicroservice\tecosystems is\tnot\tan\teasy\ttask.\tSome\tcompanies\tadopting\tmicroservice\tarchitecture\topt\tto allow\tdevelopment\tteams\tto\tchoose,\tbuild,\tand\tmaintain\ttheir\town\tdatabases, while\tothers\twill\tdecide\ton\tat\tleast\tone\tdatabase\toption\tthat\tworks\tfor\tthe majority\tof\tthe\tmicroservices\tat\tthe\tcompany,\tand\tbuild\ta\tseparate\tteam\tto\trun and\tmaintain\tthe\tdatabase(s)\tso\tthat\tdevelopers\tcan\tfocus\tsolely\ton\ttheir\town microservices.\n\nIf\twe\tthink\tabout\tmicroservice\tarchitecture\tas\tbeing\tcomposed\tof\tfour\tseparate layers\t(see\t“Microservice\tArchitecture”\tfor\tmore\tdetails)\tand\trecognize\tthat, thanks\tto\tthe\tInverse\tConway’s\tLaw,\tthe\tengineering\torganizations\tof companies\tthat\tadopt\tmicroservice\tarchitecture\twill\tmirror\tthe\tarchitecture\tof\tits product,\tthen\twe\tcan\tsee\twhere\tthe\tresponsibility\tfor\tchoosing\tthe\tappropriate databases,\tbuilding\tthem,\trunning\tthem,\tand\tmaintaining\tthem\tlies:\teither\tin\tthe application\tplatform\tlayer,\twhich\twould\tallow\tdatabases\tto\tbe\tprovided\tas\ta service\tto\tmicroservice\tteams,\tor\tthe\tmicroservice\tlayer,\twhere\tthe\tdatabase used\tby\ta\tmicroservice\tis\tconsidered\tpart\tof\tthe\tservice.\tI’ve\tseen\tboth\tof\tthese setups\tin\tpractice\tat\tvarious\tcompanies,\tand\tsome\twork\tbetter\tthan\tothers.\tI’ve also\tnoticed\tthat\tone\tapproach\tto\tthis\tworks\tparticularly\twell:\toffering\tdatabases as\ta\tservice\twithin\tthe\tapplication\tplatform\tlayer,\tand\tthen\tallowing\tindividual microservice\tdevelopment\tteams\tto\trun\ttheir\town\tdatabase\tif\tthe\tdatabases offered\tas\tpart\tof\tthe\tapplication\tplatform\tdo\tnot\tfit\ttheir\tspecific\tneeds.\n\nThe\tmost\tcommon\ttypes\tof\tdatabases\tare\trelational\tdatabases\t(SQL,\tMySQL) and\tNoSQL\tdatabases\t(Cassandra,\tVertica,\tMongoDB,\tand\tkey-value\tstores\tlike Dynamo,\tRedis,\tand\tRiak).\tChoosing\tbetween\ta\trelational\tdatabase\tand\ta NoSQL\tdatabase,\tand\tthen\tchoosing\tthe\tspecific\tappropriate\tdatabase\tfor\ta microservice’s\tneeds\tdepends\ton\tthe\tanswers\tto\tseveral\tquestions:\n\nWhat\tare\tthe\tneeded\ttransactions\tper\tsecond\tof\teach\tmicroservice?\n\nWhat\ttype\tof\tdata\tdoes\teach\tmicroservice\tneed\tto\tstore?\n\nWhat\tis\tthe\tschema\tneeded\tby\teach\tmicroservice?\tAnd\thow\toften\twill\tit need\tto\tbe\tchanged?\n\nDo\tthe\tmicroservices\tneed\tstrong\tconsistency\tor\teventual\tconsistency?\n\nAre\tthe\tmicroservices\tread-heavy,\twrite-heavy,\tor\tboth?\n\nDoes\tthe\tdatabase\tneed\tto\tbe\tscaled\thorizontally\tor\tvertically?\n\nRegardless\tof\twhether\tthe\tdatabase\tis\tmaintained\tas\tpart\tof\tthe\tapplication platform\tor\tby\teach\tindividual\tmicroservice\tdevelopment\tteam,\tdatabase\tchoice should\tbe\tdriven\tby\tthe\tanswers\tto\tthose\tquestions.\tFor\texample,\tif\tthe\tdatabase in\tquestion\tneeds\tto\tbe\tscaled\thorizontally,\tor\tif\treads\tand\twrites\tneed\tto\tbe made\tin\tparallel,\tthen\ta\tNoSQL\tdatabase\tshould\tbe\tchosen,\tsince\trelational databases\tstruggle\twith\thorizontal\tscaling\tand\tparallel\treads\tand\twrites.\n\nDatabase\tChallenges\tin\tMicroservice\tArchitecture There\tare\tseveral\tchallenges\twith\tdatabases\tthat\tare\tspecific\tto\tmicroservice architecture.\tWhen\tdatabases\tare\tshared\tamong\tmicroservices,\tcompetition\tfor resources\tkicks\tin,\tand\tsome\tmicroservices\tmay\tutilize\tmore\tthan\ttheir\tfair\tshare of\tthe\tavailable\tstorage.\tEngineers\tbuilding\tand\tmaintaining\tshared\tdatabases need\tto\tdesign\ttheir\tdata\tstorage\tsolutions\tso\tthat\tthe\tdatabase\tcan\tbe\teasily scaled\tif\tany\tof\tthe\ttenant\tmicroservices\teither\trequire\tadditional\tspace\tor\tare running\tthe\trisk\tof\tusing\tup\tall\tavailable\tspace.\n\nWATCH\tOUT\tFOR\tDATABASE\tCONNECTIONS\n\nSome\tdatabases\thave\tstrict\tlimitations\ton\tthe\tnumber\tof\tdatabase\tconnections\tthat\tcan\tbe\topen simultaneously.\tMake\tsure\tthat\tall\tconnections\tare\tclosed\tappropriately\tto\tavoid compromising\tboth\ta\tservice’s\tavailability\tand\tthe\tavailability\tof\tthe\tdatabase\tto\tall microservices\tthat\tuse\tit.\n\nAnother\tchallenge\tmicroservices\toften\tface,\tespecially\tonce\tthey’ve\tbuilt\tand standardized\tstable\tand\treliable\tdevelopment\tcycles\tand\tdeployment\tpipelines,\tis the\thandling\tof\ttest\tdata\tfrom\tend-to-end\ttesting,\tload\ttesting,\tand\tany\ttest\twrites done\tin\tstaging.\tAs\tmentioned\tin\t“The\tDeployment\tPipeline”,\tthe\tstaging\tphase of\tthe\tdeployment\tpipeline\trequires\treading\tand/or\twriting\tto\tdatabases.\tIf\tfull staging\thas\tbeen\timplemented,\tthen\tthe\tstaging\tphase\twill\thave\tits\town\tseparate test\tand\tstaging\tdatabase,\tbut\tpartial\tstaging\trequires\tread\tand\twrite\taccess\tto production\tservers,\tso\tgreat\tcare\tneeds\tto\tbe\ttaken\tto\tensure\tthat\ttest\tdata\tis handled\tappropriately:\tit\tneeds\tto\tbe\tclearly\tmarked\tas\ttest\tdata\t(a\tprocess known\tas\ttest\ttenancy),\tand\tthen\tall\ttest\tdata\tmust\tbe\tdeleted\tat\tregular\tintervals.\n\nEvaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tscalability\tand\tperformance,\tuse\tthe following\tlist\tof\tquestions\tto\tassess\tthe\tproduction-readiness\tof\tyour microservice(s)\tand\tmicroservice\tecosystem.\tThe\tquestions\tare\torganized\tby topic,\tand\tcorrespond\tto\tthe\tsections\twithin\tthis\tchapter.\n\nKnowing\tthe\tGrowth\tScale\n\nWhat\tis\tthis\tmicroservice’s\tqualitative\tgrowth\tscale?\n\nWhat\tis\tthis\tmicroservice’s\tquantitative\tgrowth\tscale?\n\nEfficient\tUse\tof\tResources\n\nIs\tthe\tmicroservice\trunning\ton\tdedicated\tor\tshared\thardware?\n\nAre\tany\tresource\tabstraction\tand\tallocation\ttechnologies\tbeing\tused?\n\nResource\tAwareness\n\nWhat\tare\tthe\tmicroservice’s\tresource\trequirements\t(CPU,\tRAM,\tetc.)?\n\nHow\tmuch\ttraffic\tcan\tone\tinstance\tof\tthe\tmicroservice\thandle?\n\nHow\tmuch\tCPU\tdoes\tone\tinstance\tof\tthe\tmicroservice\trequire?\n\nHow\tmuch\tmemory\tdoes\tone\tinstance\tof\tthe\tmicroservice\trequire?\n\nAre\tthere\tany\tother\tresource\trequirements\tthat\tare\tspecific\tto\tthis microservice?\n\nWhat\tare\tthe\tresource\tbottlenecks\tof\tthis\tmicroservice?\n\nDoes\tthis\tmicroservice\tneed\tto\tbe\tscaled\tvertically,\thorizontally,\tor\tboth?\n\nCapacity\tPlanning\n\nIs\tcapacity\tplanning\tperformed\ton\ta\tscheduled\tbasis?\n\nWhat\tis\tthe\tlead\ttime\tfor\tnew\thardware?\n\nHow\toften\tare\thardware\trequests\tmade?\n\nAre\tany\tmicroservices\tgiven\tpriority\twhen\thardware\trequests\tare\tmade?\n\nIs\tcapacity\tplanning\tautomated,\tor\tis\tit\tmanual?\n\nDependency\tScaling\n\nWhat\tare\tthis\tmicroservice’s\tdependencies?\n\nAre\tthe\tdependencies\tscalable\tand\tperformant?\n\nWill\tthe\tdependencies\tscale\twith\tthis\tmicroservice’s\texpected\tgrowth?\n\nAre\tdependency\towners\tprepared\tfor\tthis\tmicroservice’s\texpected\tgrowth?\n\nTraffic\tManagement\n\nAre\tthe\tmicroservice’s\ttraffic\tpatterns\twell\tunderstood?\n\nAre\tchanges\tto\tthe\tservice\tscheduled\taround\ttraffic\tpatterns?\n\nAre\tdrastic\tchanges\tin\ttraffic\tpatterns\t(especially\tbursts\tof\ttraffic)\thandled carefully\tand\tappropriately?\n\nCan\ttraffic\tbe\tautomatically\trouted\tto\tother\tdatacenters\tin\tcase\tof\tfailure?\n\nTask\tHandling\tand\tProcessing\n\nIs\tthe\tmicroservice\twritten\tin\ta\tprogramming\tlanguage\tthat\twill\tallow\tthe service\tto\tbe\tscalable\tand\tperformant?\n\nAre\tthere\tany\tscalability\tor\tperformance\tlimitations\tin\tthe\tway\tthe microservice\thandles\trequests?\n\nAre\tthere\tany\tscalability\tor\tperformance\tlimitations\tin\tthe\tway\tthe microservice\tprocesses\ttasks?\n\nDo\tdevelopers\ton\tthe\tmicroservice\tteam\tunderstand\thow\ttheir\tservice processes\ttasks,\thow\tefficiently\tit\tprocesses\tthose\ttasks,\tand\thow\tthe service\twill\tperform\tas\tthe\tnumber\tof\ttasks\tand\trequests\tincreases?\n\nScalable\tData\tStorage\n\nDoes\tthis\tmicroservice\thandle\tdata\tin\ta\tscalable\tand\tperformant\tway?\n\nWhat\ttype\tof\tdata\tdoes\tthis\tmicroservice\tneed\tto\tstore?\n\nWhat\tis\tthe\tschema\tneeded\tfor\tits\tdata?\n\nHow\tmany\ttransactions\tare\tneeded\tand/or\tmade\tper\tsecond?\n\nDoes\tthis\tmicroservice\tneed\thigher\tread\tor\twrite\tperformance?\n\nIs\tit\tread-heavy,\twrite-heavy,\tor\tboth?\n\nIs\tthis\tservice’s\tdatabase\tscaled\thorizontally\tor\tvertically?\tIs\tit\treplicated\tor partitioned?\n\nIs\tthis\tmicroservice\tusing\ta\tdedicated\tor\tshared\tdatabase?\n\nHow\tdoes\tthe\tservice\thandle\tand/or\tstore\ttest\tdata?\n\nChapter\t5.\tFault\tTolerance\tand Catastrophe-Preparedness\n\nA\tproduction-ready\tmicroservice\tis\tfault\ttolerant\tand\tprepared\tfor\tany catastrophe.\tMicroservices\twill\tfail,\tthey\twill\tfail\toften,\tand\tany\tpotential\tfailure scenario\tcan\tand\twill\thappen\tat\tsome\tpoint\twithin\tthe\tmicroservice’s\tlifetime. Ensuring\tavailability\tacross\tthe\tmicroservice\tecosystem\trequires\tcareful\tfailure planning,\tpreparation\tfor\tcatastrophes,\tand\tactively\tpushing\tthe\tmicroservice\tto fail\tin\treal\ttime\tto\tensure\tthat\tit\tcan\trecover\tfrom\tfailures\tgracefully.\n\nThis\tchapter\tcovers\tavoiding\tsingle\tpoints\tof\tfailure,\tcommon\tcatastrophes\tand failure\tscenarios,\thandling\tfailure\tdetection\tand\tremediation,\timplementing different\ttypes\tof\tresiliency\ttesting,\tand\tways\tto\thandle\tincidents\tand\toutages\tat the\torganizational\tlevel\twhen\tfailures\tdo\toccur.\n\nPrinciples\tof\tBuilding\tFault-Tolerant\tMicroservices The\treality\tof\tbuilding\tlarge-scale\tdistributed\tsystems\tis\tthat\tindividual components\tcan\tfail,\tthey\twill\tfail,\tand\tthey\twill\tfail\toften.\tNo\tmicroservice ecosystem\tis\tan\texception\tto\tthis\trule.\tAny\tpossible\tfailure\tscenario\tcan\tand\twill happen\tat\tsome\tpoint\tin\ta\tmicroservice’s\tlifetime,\tand\tthese\tfailures\tare\tmade worse\tby\tthe\tcomplex\tdependency\tchains\twithin\tmicroservice\tecosystems:\tif\tone service\tin\tthe\tdependency\tchain\tfails,\tall\tof\tthe\tupstream\tclients\twill\tsuffer,\tand the\tend-to-end\tavailability\tof\tthe\tentire\tsystem\twill\tbe\tcompromised.\n\nThe\tonly\tway\tto\tmitigate\tcatastrophic\tfailures\tand\tavoid\tcompromising\tthe availability\tof\tthe\tentire\tsystem\tis\tto\trequire\teach\tmicroservice\twithin\tthe ecosystem\tto\tbe\tfault\ttolerant\tand\tprepared\tfor\tany\tcatastrophe.\n\nThe\tfirst\tstep\tinvolved\tin\tbuilding\ta\tfault-tolerant,\tcatastrophe-prepared microservice\tis\tto\tarchitect\taway\tsingle\tpoints\tof\tfailure.\tThere\tshould\tnever\tbe one\tpiece\tof\tthe\tecosystem\twhose\tfailure\tcan\tbring\tthe\tentire\tsystem\tto\ta\thalt, nor\tshould\tthere\tbe\tany\tindividual\tpiece\twithin\tthe\tarchitecture\tof\ta\tmicroservice that\twill\tbring\tthe\tmicroservice\tdown\twhenever\tit\tfails.\tIdentifying\tthese\tsingle points\tof\tfailure,\tboth\twithin\tthe\tmicroservice\tand\tat\ta\tlayer\tof\tabstraction\tabove it,\tcan\tprevent\tthe\tmost\tglaring\tfailures\tfrom\toccurring.\n\nIdentifying\tfailure\tscenarios\tis\tthe\tnext\tstep.\tNot\tevery\tfailure\tor\tcatastrophe that\tbefalls\ta\tmicroservice\tis\ta\tglaringly\tobvious\tsingle\tpoint\tof\tfailure\tthat\tcan be\tarchitected\taway.\tFault\ttolerance\tand\tcatastrophe-preparedness\trequire\tthat\ta microservice\twithstand\tboth\tinternal\tfailures\t(failures\twithin\tthe\tmicroservice itself)\tand\texternal\tfailures\t(failures\twithin\tother\tlayers\tof\tthe\tecosystem).\tFrom a\thost\tfailure\tto\tthe\tfailure\tof\tan\tentire\tdatacenter,\tfrom\ta\tdatabase\tto\ta\tservice’s distributed\ttask\tqueue,\tthe\tnumber\tof\tways\tin\twhich\ta\tmicroservice\tcan\tbe brought\tdown\tby\tthe\tfailure\tof\tone\tor\tmore\tof\tits\tparts\tis\toverwhelming,\tscaling with\tthe\tcomplexity\tof\tboth\tthe\tmicroservice\titself\tand\tthe\tmicroservice ecosystem\tas\ta\twhole.\n\nOnce\tsingle\tpoints\tof\tfailure\thave\tbeen\tarchitected\taway\tand\tmost\t(if\tnot\tall) failure\tscenarios\thave\tbeen\tidentified,\tthe\tnext\tstep\tis\tto\ttest\tfor\tthese\tfailures\tto see\twhether\tor\tnot\tthe\tmicroservice\tcan\trecover\tgracefully\twhen\tthese\tfailures occur,\tand\tdetermine\twhether\tor\tnot\tit\tis\tresilient.\tThe\tresiliency\tof\ta\tservice\tcan be\ttested\tvery\tthoroughly\tthrough\tcode\ttesting,\tload\ttesting,\tand\tchaos\ttesting.\n\nThis\tstep\tis\tcrucial:\tin\ta\tcomplex\tmicroservice\tecosystem,\tmerely\tarchitecting away\tfailure\tis\tnot\tenough\t—\teven\tthe\tbest\tmitigation\tstrategy\tcan\tturn\tout\tto\tbe",
      "page_number": 110
    },
    {
      "number": 5,
      "title": "Fault\tTolerance\tand Catastrophe-Preparedness",
      "start_page": 150,
      "end_page": 192,
      "detection_method": "regex_chapter_title",
      "content": "away\tfailure\tis\tnot\tenough\t—\teven\tthe\tbest\tmitigation\tstrategy\tcan\tturn\tout\tto\tbe completely\tuseless\twhen\tcomponents\tbegin\tto\tfail.\tThe\tonly\tway\tto\tbuild\ta\ttruly fault-tolerant\tmicroservice\tis\tto\tpush\tit\tto\tfail\tin\tproduction\tby\tactively, repeatedly,\tand\trandomly\tfailing\teach\tcomponent\tthat\tcould\tcause\tthe\tsystem\tto break.\n\nNot\tall\tfailures\tcan\tbe\tpredicted,\tso\tthe\tlast\tsteps\tin\tbuilding\tfault-tolerant, catastrophe-prepared\tmicroservices\tare\torganizational\tin\tnature.\tFailure detection\tand\tmitigation\tstrategies\tneed\tto\tbe\tin\tplace\tand\tshould\tbe standardized\tacross\teach\tmicroservice\tteam,\tand\tevery\tnew\tfailure\tthat\ta\tservice experiences\tshould\tbe\tadded\tto\tthe\tresiliency\ttesting\tsuite\tto\tensure\tit\tnever happens\tagain.\tMicroservice\tteams\talso\tneed\tto\tbe\ttrained\tto\thandle\tfailures appropriately:\tdealing\twith\toutages\tand\tincidents\t(regardless\tof\tseverity)\tshould be\tstandardized\tacross\tthe\tengineering\torganization.\n\nA\tPRODUCTION-READY\tSERVICE\tIS\tFAULT\tTOLERANT\tAND\tPREPARED\tFOR\tANY CATASTROPHE\n\nIt\thas\tno\tsingle\tpoint\tof\tfailure.\n\nAll\tfailure\tscenarios\tand\tpossible\tcatastrophes\thave\tbeen\tidentified.\n\nIt\tis\ttested\tfor\tresiliency\tthrough\tcode\ttesting,\tload\ttesting,\tand\tchaos\ttesting.\n\nFailure\tdetection\tand\tremediation\thas\tbeen\tautomated.\n\nThere\tare\tstandardized\tincident\tand\toutage\tprocedures\tin\tplace\twithin\tthe\tmicroservice\tdevelopment\n\nteam\tand\tacross\tthe\torganization.\n\nAvoiding\tSingle\tPoints\tof\tFailure The\tfirst\tplace\tto\tlook\tfor\tpossible\tfailure\tscenarios\tis\twithin\tthe\tarchitecture\tof each\tmicroservice.\tIf\tthere\tis\tone\tpiece\tof\tthe\tservice’s\tarchitecture\tthat\twould bring\tdown\tthe\tentire\tmicroservice\tif\tit\twere\tto\tfail,\twe\trefer\tto\tit\tas\ta\tsingle point\tof\tfailure\tfor\tthe\tmicroservice.\tNo\tone\tpiece\tof\ta\tmicroservice’s architecture\tshould\tbe\table\tto\tbring\tdown\tthe\tservice,\tbut\tthey\tfrequently\tdo.\tIn fact,\tmost\tmicroservices\tin\tthe\treal\tworld\tdon’t\thave\tjust\tone\tsingle\tpoint\tof failure\tbut\thave\tmultiple\tpoints\tof\tfailure.\n\nEXAMPLE:\tMESSAGE\tBROKER\tAS\tA\tSINGLE\tPOINT\tOF\tFAILURE\n\nTo\tunderstand\twhat\ta\tsingle\tpoint\tof\tfailure\twould\tlook\tlike\tin\tthe\treal\tproduction\tworld,\tlet’s consider\ta\tmicroservice\twritten\tin\tPython\tthat\tuses\ta\tcombination\tof\tRedis\t(as\tmessage\tbroker)\tand Celery\t(as\ttask\tprocessor)\tfor\tdistributed\ttask\tprocessing.\n\nLet’s\tsay\tthat\tthe\tCelery\tworkers\t(which\tare\tprocessing\tthe\ttasks)\tbreak\tdown\tfor\tsome\treason\tand are\tunable\tto\tcomplete\tany\tof\ttheir\twork.\tThis\tisn’t\tnecessarily\ta\tpoint\tof\tfailure,\tbecause\tRedis (acting\tas\tthe\tmessage\tbroker)\tcan\tretry\tthe\ttasks\twhen\tthe\tworkers\tare\trepaired.\tWhile\tthe\tworkers are\tdown,\tRedis\tstays\tup,\tand\tthe\ttasks\tbuild\tup\tin\tthe\tqueue\ton\tRedis,\twaiting\tto\tbe\tdistributed\tto the\tCelery\tworkers\tonce\tthey\tare\tback\tup\tand\trunning.\tThis\tmicroservice,\thowever,\thosts\ta\tlot\tof traffic\t(receiving\tthousands\tof\trequests\tper\tsecond),\tand\tthe\tqueues\tbegin\tto\tback\tup,\tfilling\tup\tthe entire\tcapacity\tof\tthe\tRedis\tmachine.\tBefore\tyou\tknow\tit,\tthe\tRedis\tbox\tis\tout\tof\tmemory,\tand\tyou start\tlosing\ttasks.\tThis\tsounds\tbad\tenough,\tbut\tthe\tsituation\tcan\tbecome\teven\tworse\tthan\tit\tmight\tat first\tappear,\tbecause\tyour\thardware\tmight\tbe\tshared\tbetween\tmany\tdifferent\tmicroservices,\tand\tnow every\tother\tmicroservice\tthat\tis\tusing\tthis\tRedis\tbox\tas\ta\tmessage\tbroker\tis\tlosing\tall\tof\ttheir\ttasks.\n\nThis\t(the\tRedis\tmachine\tin\tthis\texample)\tis\ta\tsingle\tpoint\tof\tfailure,\tand\tit’s\ta\treal-world\texample I’ve\tseen\tmany,\tmany\ttime\tin\tmy\texperience\tof\tworking\twith\tdevelopers\tto\tidentify\tsingle\tpoints\tof failure\tin\ttheir\tmicroservices.\n\nIt’s\teasy\tto\tidentify\tpoints\tof\tfailure\twithin\tmicroservices\twhen\tthey\tactually fail,\tand\twe\tneed\tto\tfix\tthem\tin\torder\tto\tbring\tthe\tmicroservice\tback\tup.\tWaiting for\tthe\tfailure,\thowever,\tisn’t\tthe\tbest\tapproach\tif\twe\twant\tour\tmicroservices\tto be\tfault\ttolerant\tand\tpreserve\ttheir\tavailability.\tA\tgreat\tway\tto\tdiscover\tpoints\tof failure\tbefore\tthey\tare\tresponsible\tfor\tan\toutage\tis\tto\trun\tarchitecture\treviews with\tmicroservice\tdevelopment\tteams,\task\tthe\tdevelopers\ton\teach\tteam\tto\tdraw the\tarchitecture\tof\ttheir\tmicroservice\ton\ta\twhiteboard,\tand\tthen\twalk\tthem through\tthe\tarchitecture,\tasking,\t“What\thappens\tif\tthis\tpiece\tof\tthe\tmicroservice architecture\tfails?”\t(see\t“Microservice\tUnderstanding”\tfor\tmore\tdetails\ton\n\narchitecture\treviews\tand\tdiscovering\tsingle\tpoints\tof\tfailure).\n\nNO\tISOLATED\tPOINTS\tOF\tFAILURE\n\nDue\tto\tthe\tcomplex\tdependency\tchains\tthat\texist\tbetween\tdifferent\tmicroservices\twithin\ta microservice\tecosystem,\ta\tpoint\tof\tfailure\tin\tthe\tarchitecture\tof\tone\tindividual\tmicroservice\tis often\ta\tpoint\tof\tfailure\tfor\tthe\tentire\tdependency\tchain,\tand\tin\textreme\tcases,\tfor\tthe\tentire ecosystem.\tThere\tare\tno\tisolated\tpoints\tof\tfailure\twithin\tmicroservice\tecosystems,\twhich makes\tidentifying,\tmitigating,\tand\tarchitecting\taway\tpoints\tof\tfailure\tessential\tfor\tachieving fault-tolerance.\n\nOnce\tany\tsingle\t(or\tmultiple)\tpoints\tof\tfailure\thave\tbeen\tidentified,\tthey\tneed\tto be\tmitigated,\tand\t(if\tpossible)\tarchitected\taway.\tIf\tthe\tpoint\tof\tfailure\tcan\tbe completely\tarchitected\taway\tand\treplaced\tby\tsomething\tmore\tfault\ttolerant,\tthen the\tproblem\tis\tsolved.\tSadly,\twe\tcan’t\talways\tavoid\tevery\tsingle\tway\tin\twhich\ta service\tcan\tfail,\tand\tthere\tare\tsome\tsituations\tin\twhich\twe\tcan’t\tarchitect\taway even\tthe\tmost\tglaringly\tobvious\tpoints\tof\tfailure.\tFor\texample,\tif\tour engineering\torganization\tmandates\tthe\tuse\tof\ta\tcertain\ttechnology\tthat\tworks well\tfor\tthe\trest\tof\tthe\tdevelopment\tteams\tbut\trepresents\ta\tsingle\tpoint\tof\tfailure for\tour\tservice,\tthen\tthere\tmay\tnot\tbe\ta\tway\tto\tarchitect\tit\taway,\tand\tour\tonly option\tfor\tbringing\tour\tservice\ttoward\ta\tfault-tolerant\tstate\tis\tto\tfind\tways\tof mitigating\tany\tnegative\tconsequences\tof\tits\tfailure.\n\nCatastrophes\tand\tFailure\tScenarios If\twe\tknow\tanything\tabout\tcomplex\tsystems\tand\tlarge-scale\tdistributed\tsystem architecture,\tit’s\tthis:\tthat\tthe\tsystem\twill\tbreak\tin\tany\tway\tthat\tit\tcan\tbe\tbroken, and\tany\tfailure\tthat\tcould\tpossibly\thappen\twill\talmost\tassuredly\thappen\tat\tsome point\tduring\tthe\tsystem’s\tlifetime.\n\nMicroservices\tare\tcomplex\tsystems.\tThey\tare\tpart\tof\tlarge-scale\tdistributed systems\t(microservice\tecosystems)\tand\tare\ttherefore\tno\texception\tto\tthis\trule. Any\tpossible\tfailure\tand\tany\tpossible\tcatastrophe\twill\talmost\tassuredly\thappen at\tsome\tpoint\tin\tbetween\tthe\ttime\ta\tmicroservice’s\trequest\tfor\tcomments\t(RFC) is\twritten\tup\tand\tthe\ttime\tthe\tmicroservice\tis\tbeing\tdeprecated\tand decommissioned.\tCatastrophes\thappen\tall\tof\tthe\ttime:\tracks\tfail\tin\tdatacenters, HVAC\tsystems\tbreak,\tproduction\tdatabases\tare\tdeleted\tby\taccident\t(yes,\tthis happens\tmore\tthan\tmost\tdevelopers\twould\tlike\tto\tadmit),\tnatural\tdisasters\twipe out\tentire\tdatacenters.\tAny\tfailure\tthat\tcan\thappen\twill\thappen:\tdependencies will\tfail,\tindividual\tservers\twill\tfail,\tlibraries\twill\tbecome\tcorrupted\tor\tlost entirely,\tmonitoring\twill\tfail,\tlogs\tcan\tand\twill\tbe\tlost\t(seemingly\tvanishing\tinto thin\tair).\n\nOnce\twe’ve\tidentified,\tmitigated,\tand\t(if\tpossible)\tarchitected\taway\tany glaringly\tobvious\tpoints\tof\tfailures\tin\tour\tmicroservice’s\tarchitecture,\tthe\tnext step\tis\tto\tidentify\tany\tother\tfailure\tscenarios\tand\tpotential\tcatastrophes\tthat could\tbefall\tour\tmicroservice.\tWe\tcan\tseparate\tthese\ttypes\tof\tfailures\tand catastrophes\tinto\tfour\tmain\tcategories,\torganizing\tthem\tusing\ttheir\tplace\tin\tthe microservice\tecosystem\tstack.\tThe\tmost\tcommon\tcatastrophes\tand\tfailure scenarios\tare\thardware\tfailures,\tinfrastructure\t(communication-layer\tand application-platform-layer)\tfailures,\tdependency\tfailures,\tand\tinternal\tfailures. We’ll\tlook\tclosely\tat\tsome\tof\tthe\tmost\tcommon\tpossible\tfailure\tscenarios\twithin each\tof\tthese\tcategories\tin\tthe\tfollowing\tsections,\tbut\tfirst\twe’ll\tcover\ta\tfew common\tcauses\tof\tfailures\tthat\taffect\tevery\tlevel\tof\tthe\tmicroservice\tecosystem.\n\nI\tshould\tnote\tthat\tthe\tlists\tof\tpossible\tfailure\tscenarios\tpresented\there\tare\tnot exhaustive.\tThe\tobjective\there\tis\tto\tpresent\tthe\tmost\tcommon\tscenarios\tand encourage\tthe\treader\tto\tdetermine\twhat\tsorts\tof\tfailures\tand\tcatastrophes\ttheir microservice(s)\tand\tmicroservice\tecosystem(s)\tmay\tbe\tsusceptible\tto,\tand\tthen (where\tnecessary)\trefer\tthe\treader\tto\tother\tchapters\twithin\tthis\tbook\twhere\tsome of\tthe\trelevant\ttopics\tare\tcovered.\tMost\tof\tthe\tfailures\there\tcan\tbe\tavoided\tby adopting\tthe\tproduction-readiness\tstandards\t(and\timplementing\ttheir corresponding\trequirements)\tfound\tthroughout\tthis\tbook,\tso\tI’ve\tonly\tmentioned\n\ncorresponding\trequirements)\tfound\tthroughout\tthis\tbook,\tso\tI’ve\tonly\tmentioned a\tfew\tof\tthe\tfailures,\tand\thaven’t\tincluded\tevery\tfailure\tthat’s\tcovered\tin\tthe other\tchapters.\n\nCommon\tFailures\tAcross\tan\tEcosystem There\tare\tsome\tfailures\tthat\thappen\tat\tevery\tlevel\tof\tthe\tmicroservice ecosystem.\tThese\tsorts\tof\tfailures\tare\tusually\tcaused\t(in\tsome\tway\tor\tother)\tby the\tlack\tof\tstandardization\tacross\tan\tengineering\torganization,\tbecause\tthey\ttend to\tbe\toperational\t(and\tnot\tnecessarily\ttechnical)\tin\tnature.\tReferring\tto\tthem\tas “operational”\tdoesn’t\tmean\tthat\tthey\tare\tless\timportant\tor\tless\tdangerous\tthan technical\tfailures,\tnor\tdoes\tit\tmean\tthat\tresolving\tthese\tfailures\tisn’t\twithin\tthe technical\trealm\tand\tisn’t\tthe\tresponsibility\tof\tmicroservice\tdevelopment\tteams. These\ttypes\tof\tfailures\ttend\tto\tbe\tthe\tmost\tserious,\thave\tsome\tof\tthe\tmost debilitating\ttechnical\tconsequences,\tand\treflect\ta\tlack\tof\talignment\tacross\tthe various\tengineering\tteams\twithin\tan\torganization.\tOf\tthese\ttypes\tof\tfailures,\tthe most\tcommon\tare\tinsufficient\tdesign\treviews\tof\tsystem\tand\tservice\tarchitecture, incomplete\tcode\treviews,\tpoor\tdevelopment\tprocesses,\tand\tunstable\tdeployment procedures.\n\nInsufficient\tdesign\treviews\tof\tsystem\tand\tmicroservice\tarchitecture\tlead\tto poorly\tdesigned\tservices,\tespecially\twithin\tlarge\tand\tcomplex\tmicroservice ecosystems.\tThe\treason\tfor\tthis\tis\tsimple:\tno\tone\tengineer\tand\tno\tone microservice\tdevelopment\tteam\twill\tknow\tthe\tdetails\tof\tthe\tinfrastructure\tand the\tcomplexity\tof\tall\tfour\tlevels\tof\tthe\tecosystem.\tWhen\tnew\tsystems\tare\tbeing designed,\tand\tnew\tmicroservices\tare\tbeing\tarchitected,\tit’s\tvital\tto\tthe\tfuture fault\ttolerance\tof\tthe\tsystem\tor\tservice\tthat\tengineers\tfrom\teach\tlevel\tof\tthe microservice\tecosystem\tare\tbrought\tinto\tthe\tdesign\tprocess\tto\tdetermine\thow the\tsystem\tor\tservice\tshould\tbe\tbuilt\tand\trun\tgiven\tthe\tintricacies\tof\tthe\tentire ecosystem.\tHowever,\teven\tif\tthis\tis\tdone\tproperly\twhen\tthe\tsystem\tor\tservice\tis first\tbeing\tdesigned,\tmicroservice\tecosystems\tevolve\tso\tquickly\tthat\tthe infrastructure\tis\toften\tpractically\tunrecognizable\tafter\ta\tyear\tor\ttwo,\tand\tso scheduled\treviews\tof\tthe\tarchitecture\twith\texperts\tfrom\teach\tpart\tof\tthe organization\tcan\thelp\tto\tensure\tthat\tthe\tsystem\tor\tmicroservice\tis\tup-to-date\tand fits\tinto\tthe\toverall\tecosystem\tappropriately.\tFor\tmore\tdetails\ton\tarchitecture reviews,\tsee\tChapter\t7,\tDocumentation\tand\tUnderstanding.\n\nIncomplete\tcode\treviews\tare\tanother\tcommon\tsource\tof\tfailure.\tEven\tthough this\tproblem\tis\tnot\tspecific\tto\tmicroservice\tarchitecture,\tthe\tadoption\tof microservice\tarchitecture\ttends\tto\texacerbate\tthe\tproblem.\tGiven\tthe\thigher developer\tvelocity\tthat\tcomes\talong\twith\tmicroservices,\tdevelopers\tare\toften required\tto\treview\tany\tnew\tcode\twritten\tby\ttheir\tteammates\tseveral\ttimes\teach day\tin\taddition\tto\twriting\ttheir\town\tcode,\tattending\tmeetings,\tand\tdoing\n\neverything\telse\tthat\tthey\tneed\tto\taccomplish\tto\trun\ttheir\tservice(s).\tThis\trequires constant\tcontext-switching,\tand\tit’s\teasy\tto\tlose\tattention\tto\tdetails\twithin someone\telse’s\tcode\twhen\tyou\tbarely\thave\tenough\ttime\tto\treview\tyour\town before\tdeploying\tit.\tThis\tleads\tto\tcountless\tbugs\tbeing\tintroduced\tinto production,\tbugs\tthat\tcause\tservices\tand\tsystems\tto\tfail,\tbugs\tthat\tcould\thave been\tcaught\twith\tbetter\tcode\treview.\tThere\tare\tseveral\tways\tto\tmitigate\tthis,\tbut it\tcan’t\tever\tbe\tcompletely\tresolved\tin\tan\tenvironment\twith\thigh\tdeveloper velocity.\tCare\tneeds\tto\tbe\ttaken\tto\twrite\textensive\ttests\tfor\teach\tsystem\tand service,\tto\ttest\teach\tnew\tchange\textensively\tbefore\tit\thits\tproduction,\tand\tto ensure\tthat,\tif\tbugs\taren’t\tcaught\tbefore\tthey\tare\tdeployed,\tthey’re\tcaught elsewhere\tin\tthe\tdevelopment\tprocess\tor\tin\tthe\tdeployment\tpipeline,\twhich\tleads us\tto\tour\tnext\ttwo\tcommon\tcauses\tof\tfailure.\n\nOne\tof\tthe\tleading\tcauses\tof\toutages\tin\tmicroservice\tecosystems\tare\tbad deployments.\t“Bad”\tdeployments\tare\tthose\tthat\tcontain\tbugs\tin\tthe\tcode,\tbroken builds,\tetc.\tPoor\tdevelopment\tprocesses\tand\tunstable\tdeployment\tprocedures allow\tfailures\tto\tbe\tintroduced\tinto\tproduction,\tbringing\tdown\tany\tsystem\tor service\tthat\tthe\tfailure-inducing\tproblem\tis\tdeployed\tto\talong\twith\tany\t(and sometimes\tall)\tof\tits\tdependencies.\tPutting\tgood\tcode\treview\tprocedures\tinto place,\tand\tcreating\tan\tengineering\tculture\twhere\tboth\tcode\treview\tis\ttaken seriously\tand\tdevelopers\tare\tgiven\tadequate\ttime\tto\tfocus\ton\treviewing\ttheir teammates’\tcode\tis\tthe\tfirst\tstep\ttoward\tavoiding\tthese\tkinds\tof\tfailures,\tbut many\tof\tthem\twill\tstill\tgo\tuncaught:\teven\tthe\tbest\tcode\treviewers\tcan’t\tpredict exactly\thow\ta\tcode\tchange\tor\tnew\tfeature\twill\tbehave\tin\tproduction\twithout further\ttesting.\tThe\tonly\tway\tto\tcatch\tthese\tfailures\tbefore\tthey\tbring\tthe\tsystem or\tservice\tdown\tis\tto\tbuild\tstable\tand\treliable\tdevelopment\tprocesses\tand deployment\tpipelines.\tThe\tdetails\tof\tbuilding\tstable\tand\treliable\tdevelopment processes\tand\tdeployment\tpipelines\tare\tcovered\tin\tChapter\t3,\tStability\tand Reliability.\n\nSUMMARY:\tCOMMON\tFAILURES\tACROSS\tAN\tECOSYSTEM\n\nThe\tmost\tcommon\tfailures\tthat\thappen\tacross\tall\tlevels\tof\tmicroservice\tecosystems\tare:\n\nInsufficient\tdesign\treviews\tof\tsystem\tand\tservice\tarchitecture\n\nIncomplete\tcode\treviews\n\nPoor\tdevelopment\tprocesses\n\nUnstable\tdeployment\tprocedures\n\nHardware\tFailures The\tlowest\tlayer\tof\tthe\tstack\tis\twhere\tthe\thardware\tlies.\tThe\thardware\tlayer\tis comprised\tof\tthe\tactual,\tphysical\tcomputers\tthat\tall\tof\tthe\tinfrastructure\tand application\tcode\trun\ton,\tin\taddition\tto\tthe\tracks\tthe\tservers\tare\tstored\tin,\tthe datacenters\twhere\tthe\tservers\tare\trunning,\tand\tin\tthe\tcase\tof\tcloud\tproviders, regions\tand\tavailability\tzones.\tThe\thardware\tlayer\talso\tcontains\tthe\toperating system,\tresource\tisolation\tand\tabstraction,\tconfiguration\tmanagement,\thost-level monitoring,\tand\thost-level\tlogging.\t(For\tmore\tdetails\tabout\tthe\thardware\tlayer of\tthe\tmicroservice\tecosystems,\tturn\tto\tChapter\t1,\tMicroservices.)\tMuch\tcan\tgo wrong\twithin\tthis\tlayer\tof\tthe\tecosystem,\tand\tit\tis\tthe\tlayer\tthat\tgenuine catastrophes\t(and\tnot\tjust\tfailures)\taffect\tthe\tmost.\tIt’s\talso\tthe\tmost\tdelicate layer\tof\tthe\tecosystem:\tif\tthe\thardware\tfails\tand\tthere\taren’t\talternatives,\tthe entire\tengineering\torganization\tgoes\tdown\twith\tit.\tThe\tcatastrophes\tthat\thappen here\tare\tpure\thardware\tfailures:\ta\tmachine\tdies\tor\tfails\tin\tsome\tway,\ta\track\tgoes down,\tor\tan\tentire\tdatacenter\tfails.\tThese\tcatastrophes\thappen\tmore\toften\tthan we\twould\tlike\tto\tadmit,\tand\tin\torder\tfor\ta\tmicroservice\tecosystem\tto\tbe\tfault tolerant,\tin\torder\tfor\tany\tindividual\tmicroservice\tto\tbe\tfault\ttolerant\tand prepared\tfor\tthese\tcatastrophes,\tthese\tfailures\tneed\tto\tbe\tplanned\tfor,\tmitigated, and\tprotected\tagainst.\n\nEverything\telse\twithin\tthis\tlayer\tthat\tlies\ton\ttop\tof\tthe\tbare\tmachines\tcan\tfail, too.\tMachines\tneed\tto\tbe\tprovisioned\tbefore\tanything\tcan\trun\ton\tthem,\tand\tif provisioning\tfails,\tthen\tutilizing\tany\tnew\tmachines\t(or,\tin\tsome\tcases,\teven\told machines)\twon’t\tbe\table\tto\thappen.\tMany\tmicroservice\tecosystems\tthat\tutilize technologies\tthat\tsupport\tresource\tisolation\t(like\tDocker)\tor\tresource\tabstraction and\tallocation\t(like\tMesos\tand\tAurora)\tcan\talso\tbreak\tor\tfail,\tand\ttheir\tfailures can\tbring\tthe\tentire\tecosystem\tto\ta\thalt.\tFailures\tcaused\tby\tbroken\tconfiguration management\tor\tconfiguration\tchanges\tare\textraordinarily\tcommon\tas\twell,\tand are\toften\tdifficult\tto\tdetect.\tMonitoring\tand\tlogging\tcan\tfail\tmiserably\there\tas well,\tand\tif\thost-level\tmonitoring\tand\tlogging\tfails\tin\tsome\tway,\ttriaging\tany outages\tbecomes\timpossible\tbecause\tthe\tdata\tneeded\tto\tmitigate\tany\tproblems won’t\tbe\tavailable.\tNetwork\tfailures\t(both\tinternal\tand\texternal)\tcan\talso happen.\tFinally,\toperational\tdowntimes\tof\tcritical\thardware\tcomponents\t—\teven if\tcommunicated\tproperly\tthroughout\tthe\torganization\t—\tcan\tlead\tto\toutages across\tthe\tecosystem.\n\nSUMMARY:\tCOMMON\tHARDWARE\tFAILURE\tSCENARIOS\n\nSome\tof\tthe\tmost\tcommon\thardware\tfailure\tscenarios\tare:\n\nHost\tfailure\n\nRack\tfailure\n\nDatacenter\tfailure\n\nCloud\tprovider\tfailure\n\nServer\tprovisioning\tfailure\n\nResource\tisolation\tand/or\tabstraction\ttechnology\tfailure\n\nBroken\tconfiguration\tmanagement\n\nFailures\tcaused\tby\tconfiguration\tchanges\n\nFailures\tand\tgaps\tin\thost-level\tmonitoring\n\nFailures\tand\tgaps\tin\thost-level\tlogging\n\nNetwork\tfailure\n\nOperational\tdowntimes\n\nLack\tof\tinfrastructure\tredundancy\n\nCommunication-Level\tand\tApplication\tPlatform–Level\tFailures The\tsecond\tand\tthird\tlayers\tof\tthe\tmicroservice\tecosystem\tstack\tare\tcomprised of\tthe\tcommunication\tand\tapplication\tplatform\tlayers.\tThese\tlayers\tlive\tbetween the\thardware\tand\tthe\tmicroservices,\tbridging\tthe\ttwo\tas\tthe\tglue\tthat\tholds\tthe ecosystem\ttogether.\tThe\tcommunication\tlayer\tcontains\tthe\tnetwork,\tDNS,\tthe RPC\tframework,\tendpoints,\tmessaging,\tservice\tdiscovery,\tservice\tregistry,\tand load\tbalancing.\tThe\tapplication\tplatform\tlayer\tis\tcomprised\tof\tthe\tself-service development\ttools,\tdevelopment\tenvironment,\ttest\tand\tpackage\tand\trelease\tand build\ttools,\tthe\tdeployment\tpipeline,\tmicroservice-level\tlogging,\tand microservice-level\tmonitoring\t—\tall\tcritical\tto\tthe\tday-to-day\trunning\tand building\tof\tthe\tmicroservice\tecosystem.\tLike\thardware\tfailures,\tfailures\tthat happen\tat\tthese\tlevels\tcompromise\tthe\tentire\tcompany,\tbecause\tevery\taspect\tof development\tand\tmaintenance\twithin\tthe\tmicroservice\tecosystem\tdepends critically\ton\tthese\tsystems\trunning\tsmoothly\tand\twithout\tfailure.\tLet’s\ttake\ta look\tat\tsome\tof\tthe\tmost\tcommon\tfailures\tthat\tcan\thappen\twithin\tthese\tlayers.\n\nWithin\tthe\tcommunication\tlayer,\tnetwork\tfailures\tare\tespecially\tcommon.\tThese can\tbe\tfailures\tof\tthe\tinternal\tnetwork(s)\tthat\tall\tremote\tprocedure\tcalls\tare\tmade over,\tor\tfailures\tof\texternal\tnetworks.\tAnother\ttype\tof\tnetwork-related\tfailure arises\tfrom\tproblems\twith\tfirewalls\tand\timproper\tiptables\tentries.\tDNS\terrors are\talso\tquite\tcommon:\twhen\tDNS\terrors\thappen,\tcommunication\tcan\tgrind\tto\ta halt,\tand\tDNS\tbugs\tcan\tbe\trather\tdifficult\tto\ttrack\tdown\tand\tdiagnose.\tThe\tRPC layer\tof\tcommunication\t—\tthe\tglue\tthat\tholds\tthe\tentire\tdelicate\tmicroservice ecosystem\ttogether\t—\tis\tanother\t(rather\tinfamous)\tsource\tof\tfailure,\tespecially when\tthere\tis\tonly\tone\tchannel\tconnecting\tall\tmicroservices\tand\tinternal systems;\tsetting\tup\tseparate\tchannels\tfor\tRPC\tand\thealth\tchecks\tcan\tmitigate this\tproblem\ta\tbit\tif\thealth\tchecks\tand\tother\trelated\tmonitoring\tis\tkept\tseparate from\tchannels\tthat\thandle\tdata\tbeing\tpassed\tbetween\tservices.\tIt’s\tpossible\tfor messaging\tsystems\tto\tbreak\t(as\tI\tmentioned\tbriefly\tin\tthe\tRedis-Celery\texample earlier\tin\tthis\tchapter),\tand\tmessaging\tqueues,\tmessage\tbrokers,\tand\ttask processors\toften\tlive\tin\tmicroservice\tecosystems\twithout\tany\tbackups\tor alternatives,\tacting\tas\tfrightening\tpoints\tof\tfailure\tfor\tevery\tservice\tthat\trelies\ton them.\tFailures\tof\tservice\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\tcan\t(and do)\thappen\tas\twell:\tif\tany\tpart\tof\tthese\tsystems\tbreaks\tor\texperiences\tdowntime without\tany\talternatives,\tthen\ttraffic\twon’t\tbe\trouted,\tallocated,\tand\tdistributed properly.\n\nFailures\twithin\tthe\tapplication\tplatform\tare\tmore\tspecific\tto\tthe\tway\tthat\n\nFailures\twithin\tthe\tapplication\tplatform\tare\tmore\tspecific\tto\tthe\tway\tthat engineering\torganizations\thave\tset\tup\ttheir\tdevelopment\tprocess\tand deployment\tpipeline,\tbut\tas\ta\trule,\tthese\tsystems\tcan\tfail\tjust\tas\toften\tand\tas catastrophically\tas\tevery\tother\tservice\twithin\tthe\tecosystem\tstack.\tIf development\ttools\tand/or\tenvironments\tare\tworking\tincorrectly\twhen\tdevelopers are\ttrying\tto\tbuild\tnew\tfeatures\tor\trepair\texisting\tbugs,\tbugs\tand\tnew\tfailure modes\tcan\tbe\tintroduced\tinto\tproduction.\tThe\tsame\tgoes\tfor\tany\tfailures\tor shortcomings\tof\tthe\ttest,\tpackage,\tbuild,\tand\trelease\tpipelines:\tif\tpackages\tand builds\tcontain\tbugs\tor\taren’t\tproperly\tput\ttogether,\tthen\tdeployments\twill\tfail.\tIf the\tdeployment\tpipeline\tis\tunavailable,\tbuggy,\tor\tfails\toutright,\tthen\tdeployment will\tgrind\tto\ta\thalt,\tpreventing\tnot\tonly\tdeployment\tof\tnew\tfeatures\tbut\tof critical\tbug-fixes\tthat\tmay\tbe\tin\tthe\tworks.\tFinally,\tmonitoring\tand\tlogging\tof individual\tmicroservices\tcan\tcontain\tgaps\tor\tfail\tas\twell,\tmaking\ttriaging\tor logging\tany\tissues\timpossible.\n\nSUMMARY:\tCOMMON\tCOMMUNICATION\tAND\tAPPLICATION\tPLATFORM FAILURES\n\nSome\tof\tthe\tmost\tcommon\tcommunication\tand\tapplication\tplatform\tfailures\tare:\n\nNetwork\tfailures\n\nDNS\terrors\n\nRPC\tfailures\n\nImproper\thandling\tof\trequests\tand/or\tresponses\n\nMessaging\tsystem\tfailures\n\nFailures\tin\tservice\tdiscovery\tand\tservice\tregistry\n\nImproper\tload\tbalancing\n\nFailure\tof\tdevelopment\ttools\tand\tdevelopment\tenvironment\n\nFailures\tin\tthe\ttest,\tpackage,\tbuild,\tand\trelease\tpipelines\n\nDeployment\tpipeline\tfailures\n\nFailures\tand\tgaps\tin\tmicroservice-level\tlogging\n\nFailures\tand\tgaps\tin\tmicroservice-level\tmonitoring\n\nDependency\tFailures Failures\twithin\tthe\ttop\tlevel\tof\tthe\tmicroservice\tecosystem\t(the\tmicroservice layer)\tcan\tbe\tdivided\tinto\ttwo\tseparate\tcategories:\t(1)\tthose\tthat\tare\tinternal\tto\ta specific\tmicroservice\tand\tcaused\tby\tproblems\twithin\tit,\tand\t(2)\tthose\tthat\tare external\tto\ta\tmicroservice\tand\tcaused\tby\tthe\tmicroservice’s\tdependencies.\tWe’ll cover\tcommon\tfailure\tscenarios\twithin\tthis\tsecond\tcategory\tfirst.\n\nFailures\tand\toutages\tof\ta\tdownstream\tmicroservice\t(that\tis,\tone\tof\ta microservice’s\tdependencies)\tare\textraordinarily\tcommon\tand\tcan\tdramatically affect\ta\tmicroservice’s\tavailability.\tIf\teven\tone\tmicroservice\tin\tthe\tdependency chain\tgoes\tdown,\tit\tcan\ttake\tall\tof\tits\tupstream\tclients\tdown\twith\tit\tif\tthere\tare no\tprotections\tin\tplace.\tHowever,\ta\tmicroservice\tdoesn’t\talways\tnecessarily need\tto\texperience\ta\tfull-blown\toutage\tin\torder\tto\tnegatively\taffect\tthe availability\tof\tits\tupstream\tclients\t—\tif\tit\tfails\tto\tmeet\tits\tSLA\tby\tjust\tone\tor\ttwo nines,\tthe\tavailability\tof\tall\tupstream\tclient\tmicroservices\twill\tdrop.\n\nTHE\tTRUE\tEXPENSE\tOF\tUNMET\tSLAS\n\nMicroservices\tcan\tcause\ttheir\tupstream\tclients\tto\tfail\tto\tmeet\ttheir\tSLAs.\tIf\ta\tservice’s availability\tdrops\tby\tone\tor\ttwo\tnines,\tall\tupstream\tclients\tsuffer,\tall\tthanks\tto\thow\tthe\tmath works:\tthe\tavailability\tof\ta\tmicroservice\tis\tcalculated\tas\tits\town\tavailability\tmultiplied\tby\tthe availability\tof\tits\tdownstream\tdependencies.\tFailing\tto\tmeet\tan\tSLA\tis\tan\timportant\t(and\toften overlooked)\tmicroservice\tfailure,\tand\tit’s\ta\tfailure\tthat\tbrings\tdown\tthe\tavailability\tof\tevery other\tservice\tthat\tdepends\ton\tit\t(along\twith\tthe\tservices\tthat\tdepend\ton\tthose\tservices).\n\nOther\tcommon\tdependency\tfailures\tare\tthose\tcaused\tby\ttimeouts\tto\tanother service,\tthe\tdeprecation\tor\tdecommissioning\tof\ta\tdependency’s\tAPI\tendpoints (without\tproper\tcommunication\tregarding\tthe\tdeprecation\tor\tdecommissioning to\tall\tupstream\tclients),\tand\tthe\tdeprecation\tor\tdecommissioning\tof\tan\tentire microservice.\tIn\taddition,\tversioning\tof\tinternal\tlibraries\tand/or\tmicroservices and\tpinning\tto\tspecific\tversions\tof\tinternal\tlibraries\tand/or\tservices\tis\tvery\tmuch discouraged\tin\tmicroservice\tarchitecture\tbecause\tit\ttends\tto\tlead\tto\tbugs\tand\t(in extreme\tcases)\tserious\tfailures,\tbecause\tof\tthe\tfast-paced\tnature\tof\tmicroservice development:\tthese\tlibraries\tand\tservices\tare\tconstantly\tchanging,\tand\tpinning\tto specific\tversions\t(along\twith\tversioning\tof\tthese\tservices\tand\tlibraries\tin general)\tcan\tlead\tto\tdevelopers\tusing\tunstable,\tunreliable,\tand\tsometimes\tunsafe versions\tof\tthem.\n\nFailures\tof\texternal\tdependencies\t(third-party\tservices\tand/or\tlibraries)\tcan\tand do\thappen\tas\twell.\tThese\tcan\tbe\tmore\tdifficult\tto\tdetect\tand\tfix\tthan\tfailures\tof internal\tdependencies,\tbecause\tdevelopers\twill\thave\tlittle\tto\tno\tcontrol\tover them.\tThe\tcomplexity\tassociated\twith\tdepending\ton\tthird-party\tservices\tand/or libraries\tcan\tbe\thandled\tproperly\tif\tthese\tscenarios\tare\tanticipated\tfrom\tthe beginning\tof\tthe\tmicroservice’s\tlifecycle:\tchoose\testablished\tand\tstable\texternal dependencies,\tand\ttry\tto\tavoid\tusing\tthem\tunless\tcompletely\tnecessary,\tlest\tthey become\ta\tsingle\tpoint\tof\tfailure\tfor\tyour\tservice.\n\nSUMMARY:\tCOMMON\tDEPENDENCY\tFAILURE\tSCENARIOS\n\nSome\tof\tthe\tmost\tcommon\tdependency\tfailure\tscenarios\tare:\n\nFailures\tor\toutages\tof\ta\tdownstream\t(dependency)\tmicroservice\n\nInternal\tservice\toutages\n\nExternal\t(third-party)\tservice\toutages\n\nInternal\tlibrary\tfailures\n\nExternal\t(third-party)\tlibrary\tfailures\n\nA\tdependency\tfailing\tto\tmeet\tits\tSLA\n\nAPI\tendpoint\tdeprecation\n\nAPI\tendpoint\tdecommissioning\n\nMicroservice\tdeprecation\n\nMicroservice\tdecommissioning\n\nInterface\tor\tendpoint\tdeprecation\n\nTimeouts\tto\ta\tdownstream\tservice\n\nTimeouts\tto\tan\texternal\tdependency\n\nInternal\t(Microservice)\tFailures At\tthe\tvery\ttop\tof\tthe\tmicroservice\tecosystem\tstack\tlie\tthe\tindividual microservices.\tTo\tthe\tdevelopment\tteams,\tthese\tare\tthe\tfailures\tthat\tmatter\tthe most,\tbecause\tthey\tare\tcompletely\tdependent\ton\tgood\tdevelopment\tpractices, good\tdeployment\tpractices,\tand\tthe\tways\tin\twhich\tdevelopment\tteams\tarchitect, run,\tand\tmaintain\ttheir\tindividual\tmicroservices.\n\nAssuming\tthat\tthe\tinfrastructure\tbelow\tthe\tmicroservice\tlayer\tis\trelatively stable,\tthe\tmajority\tof\tincidents\tand\toutages\texperienced\tby\ta\tmicroservice\twill be\talmost\tsolely\tself-inflicted.\tDevelopers\ton\tcall\tfor\ttheir\tservices\twill\tfind themselves\tpaged\talmost\tsolely\tfor\tissues\tand\tfailures\twhose\troot\tcauses\tare found\twithin\ttheir\tmicroservice\t—\tthat\tis,\tthe\talerts\tthey\twill\treceive\twill\thave been\ttriggered\tby\tchanges\tin\ttheir\tmicroservice’s\tkey\tmetrics\t(see\tChapter\t6, Monitoring,\tfor\tmore\tinformation\tabout\tmonitoring,\tlogging,\talerting,\tand microservice\tkey\tmetrics).\n\nIncomplete\tcode\treviews,\tlack\tof\tproper\ttest\tcoverage,\tand\tpoor\tdevelopment processes\tin\tgeneral\t(specifically,\tthe\tlack\tof\ta\tstandardized\tdevelopment\tcycle) lead\tto\tbuggy\tcode\tbeing\tdeployed\tto\tproduction\t—\tfailures\tthat\tcan\tbe\tavoided by\tstandardizing\tthe\tdevelopment\tprocess\tacross\tmicroservice\tteams\t(see\t“The Development\tCycle”).\tWithout\ta\tstable\tand\treliable\tdeployment\tpipeline containing\tstaging,\tcanary,\tand\tproduction\tphases\tin\tplace\tto\tcatch\tany\terrors before\tthey\tare\tfully\trolled\tout\tto\tproduction\tservers,\tany\tproblems\tnot\tcaught by\ttesting\tin\tthe\tdevelopment\tphases\tcan\tcause\tserious\tincidents\tand\toutages\tfor the\tmicroservice\titself,\tits\tdependencies,\tand\tany\tother\tparts\tof\tthe\tmicroservice ecosystem\tthat\tdepend\ton\tit.\n\nAnything\tspecific\tto\tthe\tmicroservice’s\tarchitecture\tcan\talso\tfail\there,\tincluding any\tdatabases,\tmessage\tbrokers,\ttask-processing\tsystems,\tand\tthe\tlike.\tThis\tis also\twhere\tgeneral\tand\tspecific\tcode\tbugs\twithin\tthe\tmicroservice\twill\tcause failures,\tas\twell\tas\timproper\terror\tand\texception\thandling:\tunhandled\texceptions and\tthe\tpractice\tof\tcatching\texceptions\tare\tan\toften-overlooked\tculprit\twhen microservices\tfail.\tFinally,\tincreases\tin\ttraffic\tcan\tcause\ta\tservice\tto\tfail\tif\tthe service\tisn’t\tprepared\tfor\tunexpected\tgrowth\t(for\tmore\ton\tscalability\tlimitations, turn\tto\tChapter\t4,\tScalability\tand\tPerformance,\tand\tthen\tread\t“Load\tTesting”\tof the\tcurrent\tchapter).\n\nSUMMARY:\tCOMMON\tMICROSERVICE\tFAILURE\tSCENARIOS\n\nSome\tof\tthe\tmost\tcommon\tmicroservice\tfailures\tare:\n\nIncomplete\tcode\treviews\n\nPoor\tarchitecture\tand\tdesign\n\nLack\tof\tproper\tunit\tand\tintegration\ttests\n\nBad\tdeployments\n\nLack\tof\tproper\tmonitoring\n\nImproper\terror\tand\texception\thandling\n\nDatabase\tfailure\n\nScalability\tlimitations\n\nResiliency\tTesting Architecting\taway\tsingle\tpoints\tof\tfailure\tand\tidentifying\tpossible\tfailure scenarios\tand\tcatastrophes\tisn’t\tenough\tto\tensure\tthat\tmicroservices\tare\tfault tolerant\tand\tprepared\tfor\tany\tcatastrophe.\tIn\torder\tto\tbe\ttruly\tfault\ttolerant,\ta microservice\tmust\tbe\table\tto\texperience\tfailures\tand\trecover\tfrom\tthem gracefully\twithout\taffecting\ttheir\town\tavailability,\tthe\tavailability\tof\ttheir clients,\tand\tthe\tavailability\tof\tthe\toverall\tmicroservice\tecosystem.\tThe\tsingle best\tway\tto\tensure\tthat\ta\tmicroservice\tis\tfault\ttolerant\tis\tto\ttake\tall\tof\tthe possible\tfailure\tscenarios\tthat\tit\tcould\tbe\taffected\tby,\tand\tthen\tactively, repeatedly,\tand\trandomly\tpush\tit\tto\tfail\tin\tproduction\t—\ta\tpractice\tknown\tas resiliency\ttesting.\n\nA\tresilient\tmicroservice\tis\tone\tthat\tcan\texperience\tand\trecover\tfrom\tfailures\tat every\tlevel\tof\tthe\tmicroservice\tecosystem:\tthe\thardware\tlayer\t(e.g.,\ta\thost\tor datacenter\tfailure),\tthe\tcommunication\tlayer\t(e.g.,\tRPC\tfailures),\tthe\tapplication layer\t(e.g.,\ta\tfailure\tin\tthe\tdeployment\tpipeline),\tand\tin\tthe\tmicroservice\tlayer (e.g.,\tfailure\tof\ta\tdependency,\ta\tbad\tdeployment,\tor\ta\tsudden\tincrease\tin\ttraffic). There\tare\tseveral\ttypes\tof\tresiliency\ttesting\tthat,\twhen\tused\tto\tevaluate\tthe\tfault tolerance\tof\ta\tmicroservice,\tcan\tensure\tthat\tthe\tservice\tis\tprepared\tfor\tany known\tfailures\twithin\tany\tlayer\tof\tthe\tstack.\n\nThe\tfirst\ttype\tof\tresiliency\ttesting\twe\twill\tlook\tat\tis\tcode\ttesting,\twhich\tis comprised\tof\tfour\ttypes\tof\ttests\tthat\tcheck\tsyntax,\tstyle,\tindividual\tcomponents of\tthe\tmicroservice,\thow\tthe\tcomponents\twork\ttogether,\tand\thow\tthe microservice\tperforms\twithin\tits\tcomplex\tdependency\tchains.\t(Code\ttesting usually\tisn’t\tconsidered\tpart\tof\tthe\tresiliency\ttesting\tsuite,\tbut\tI\twanted\tto include\tit\there\tfor\ttwo\treasons:\tfirst,\tsince\tit\tis\tcrucial\tfor\tfault\ttolerance\tand catastrophe-preparedness,\tit\tmakes\tsense\tto\tkeep\tit\tin\tthis\tsection;\tsecond,\tI’ve noticed\tthat\tdevelopment\tteams\thave\tpreferred\tto\tkeep\tall\ttesting\tinformation\tin one\tplace.)\tThe\tsecond\tis\tload\ttesting,\tin\twhich\tmicroservices\tare\texposed\tto higher\ttraffic\tloads\tto\tsee\thow\tthey\tbehave\tunder\tincreased\ttraffic.\tThe\tthird type\tof\tresiliency\ttesting\tis\tchaos\ttesting,\twhich\tis\tthe\tmost\timportant\ttype\tof resiliency\ttesting,\tin\twhich\tmicroservices\tare\tactively\tpushed\tto\tfail\tin production.\n\nCode\tTesting The\tfirst\ttype\tof\tresiliency\ttesting\tis\tcode\ttesting,\ta\tpractice\talmost\tall developers\tand\toperational\tengineers\tare\tfamiliar\twith.\tIn\tmicroservice architecture,\tcode\ttesting\tneeds\tto\tbe\trun\tat\tevery\tlayer\tof\tthe\tecosystem,\tboth within\tthe\tmicroservices\tand\ton\tany\tsystem\tor\tservice\tthat\tlives\tin\tthe\tlayers below:\tin\taddition\tto\tmicroservices,\tservice\tdiscovery,\tconfiguration management,\tand\trelated\tsystems\talso\tneed\tto\thave\tproper\tcode\ttesting\tin\tplace. There\tare\tseveral\ttypes\tof\tgood\tcode\ttesting\tpractices,\tincluding\tlint\ttesting,\tunit testing,\tintegration\ttesting,\tand\tend-to-end\ttesting.\n\nLint\ttests\tSyntax\tand\tstyle\terrors\tare\tcaught\tusing\tlint\ttesting.\tLint\ttests\trun over\tthe\tcode,\tcatching\tany\tlanguage-specific\tproblems,\tand\talso\tcan\tbe\twritten to\tensure\tthat\tcode\tmatches\tlanguage-specific\t(and\tsometimes\tteam-specific\tor organization-specific)\tstyle\tguidelines.\n\nUnit\ttests\tThe\tmajority\tof\tcode\ttesting\tis\tdone\tthrough\tunit\ttests,\twhich\tare small\tand\tindependent\ttests\tthat\tare\trun\tover\tvarious\tsmall\tpieces\t(or\tunits)\tof the\tmicroservice’s\tcode.\tThe\tgoal\tof\tunit\ttests\tis\tto\tmake\tsure\tthat\tthe\tsoftware components\tof\tthe\tservice\titself\t(e.g.,\tfunctions,\tclasses,\tand\tmethods)\tare resilient\tand\tdon’t\tcontain\tany\tbugs.\tUnfortunately,\tmany\tdevelopers\tonly consider\tunit\ttests\twhen\twriting\ttests\tfor\ttheir\tapplications\tor\tmicroservices. While\tunit\ttesting\tis\tgood,\tit’s\tnot\tgood\tenough\tto\tevaluate\tthe\tactual\tways\tin which\tthe\tmicroservice\twill\tbehave\tin\tproduction.\n\nIntegration\ttests\tWhile\tunit\ttests\tevaluate\tsmall\tpieces\tof\tthe\tmicroservice\tto ensure\tthat\tthe\tcomponents\tare\tresilient,\tthe\tnext\ttype\tof\tcode\ttests\tare integration\ttests,\twhich\ttest\thow\tthe\tentire\tservice\tworks.\tIn\tintegration\ttesting, all\tof\tthe\tsmaller\tcomponents\tof\tthe\tmicroservice\t(which\twere\ttesting individually\tusing\tunit\ttests)\tare\tcombined\tand\ttested\ttogether\tto\tmake\tsure\tthat they\twork\tas\texpected\twhen\tthey\tneed\tto\twork\ttogether.\n\nEnd-to-end\ttests\tFor\ta\tmonolithic\tor\tstandalone\tapplication,\toften\tunit\ttests\tand integration\ttests\tare\tgood\tenough\ttogether\tto\tcomprise\tthe\tcode\ttesting\taspect\tof resiliency\ttesting,\tbut\tmicroservice\tarchitecture\tintroduces\ta\tnew\tlevel\tof complexity\twithin\tcode\ttesting\tdue\tto\tthe\tcomplex\tdependency\tchains\tthat\texist between\ta\tmicroservice,\tits\tclients,\tand\tits\tdependencies.\tAnother\tadditional\tset of\ttests\tneed\tto\tbe\tadded\tto\tthe\tcode\ttesting\tsuite\tthat\tevaluate\tthe\tbehavior\tof\n\nthe\tmicroservice\twith\trespect\tto\tits\tclients\tand\tdependencies.\tThis\tmeans\tthat microservice\tdevelopers\tneed\tto\tbuild\tend-to-end\ttests\tthat\trun\tjust\tlike\treal production\ttraffic,\ttests\tthat\thit\tthe\tendpoints\tof\ttheir\tmicroservice’s\tclients,\thit their\town\tmicroservice’s\tendpoints,\thit\tthe\tendpoints\tof\tthe\tmicroservice’s dependencies,\tsend\tread\trequests\tto\tany\tdatabases,\tand\tcatch\tany\tproblems\tin\tthe request\tflow\tthat\tmight\thave\tbeen\tintroduced\twith\ta\tcode\tchange.\n\nAutomating\tcode\ttests\tAll\tfour\ttypes\tof\tcode\ttests\t(lint,\tunit,\tintegration,\tand end-to-end)\tshould\tbe\twritten\tby\tthe\tdevelopment\tteam,\tbut\trunning\tthem\tshould be\tautomated\tas\tpart\tof\tthe\tdevelopment\tcycle\tand\tthe\tdeployment\tpipeline.\tUnit and\tintegration\ttests\tshould\trun\tduring\tthe\tdevelopment\tcycle\ton\tan\texternal build\tsystem,\tright\tafter\tchanges\thave\tmade\tit\tthrough\tthe\tcode\treview\tprocess. If\tthe\tnew\tcode\tchanges\tfail\tany\tunit\tor\tintegration\ttests,\tthen\tthey\tshould\tnot\tbe introduced\tinto\tthe\tdeployment\tpipeline\tas\ta\tcandidate\tfor\tproduction,\tbut should\tbe\trejected\tand\tbrought\tto\tthe\tattention\tof\tthe\tdevelopment\tteam\tfor repair.\tIf\tthe\tnew\tcode\tchanges\tpass\tall\tunit\tand\tintegration\ttests,\tthen\tthe\tnew build\tshould\tbe\tsent\tto\tthe\tdeployment\tpipeline\tas\ta\tcandidate\tfor\tproduction.\n\nSUMMARY\tOF\tCODE\tTESTING\n\nThe\tfour\ttypes\tof\tproduction-ready\tcode\ttesting\tare:\n\nLint\ttests\n\nUnit\ttests\n\nIntegration\ttests\n\nEnd-to-end\ttests\n\nLoad\tTesting As\twe\tsaw\tin\tChapter\t4,\tScalability\tand\tPerformance,\ta\tproduction-ready microservice\tneeds\tto\tbe\tboth\tscalable\tand\tperformant.\tIt\tneeds\tto\thandle\ta\tlarge number\tof\ttasks\tor\trequests\tat\tthe\tsame\ttime\tand\thandle\tthem\tefficiently,\tand\tit also\tmust\tbe\tprepared\tfor\ttasks\tor\trequests\tto\tincrease\tin\tthe\tfuture. Microservices\tthat\tare\tunprepared\tfor\tincreases\tin\ttraffic,\ttasks,\tor\trequests\tcan experience\tsevere\toutages\twhen\tany\tof\tthese\tgradually\tor\tsuddenly\tincrease.\n\nFrom\tthe\tpoint\tof\tview\tof\ta\tmicroservice\tdevelopment\tteam,\twe\tknow\tthat traffic\tto\tour\tmicroservice\twill\tmostly\tlikely\tincrease\tat\tsome\ttime\tin\tthe\tfuture, and\twe\tmight\teven\tknow\tby\texactly\thow\tmuch\tthe\ttraffic\twill\tincrease.\tWe\twant to\tbe\tfully\tprepared\tfor\tthese\tincreases\tin\ttraffic\tso\tthat\twe\tcan\tavoid\tany potential\tproblems\tand/or\tfailures.\tIn\taddition,\twe\twant\tto\tilluminate\tany possible\tscalability\tchallenges\tand\tbottlenecks\tthat\twe\tmight\tnot\tbe\taware\tof until\tour\tmicroservice\tis\tpushed\tto\tthe\tvery\tlimits\tof\tits\tscalability.\tTo\tprotect against\tany\tscalability-related\tincidents\tand\toutages,\tand\tto\tbe\tfully\tprepared\tfor future\tincreases\tin\ttraffic,\twe\tcan\ttest\tthe\tscalability\tof\tour\tservices\tusing\tload testing.\n\nFundamentals\tof\tload\ttesting\tLoad\ttesting\tis\texactly\twhat\tits\tname\timplies:\tit is\ta\tway\tto\ttest\thow\ta\tmicroservice\tbehaves\tunder\ta\tspecific\ttraffic\tload.\tDuring load\ttesting,\ta\ttarget\ttraffic\tload\tis\tchosen,\tthe\ttarget\tload\tof\ttest\ttraffic\tis\trun\ton the\tmicroservice,\tand\tthen\tthe\tmicroservice\tis\tmonitored\tclosely\tto\tsee\thow\tit behaves.\tIf\tthe\tmicroservice\tfails\tor\texperiences\tany\tissues\tduring\tload\ttesting, its\tdevelopers\twill\tbe\table\tto\tresolve\tany\tscalability\tissues\tthat\tappear\tin\tload tests\tthat\twould\thave\totherwise\tharmed\tthe\tavailability\tof\ttheir\tmicroservice\tin the\tfuture.\n\nLoad\ttesting\tis\twhere\tthe\tgrowth\tscales\tand\tresource\tbottlenecks\tand requirements\tthat\twere\tcovered\tin\tChapter\t4,\tScalability\tand\tPerformance,\tcome in\thandy.\tFrom\ta\tmicroservice’s\tqualitative\tgrowth\tscale\tand\tthe\tassociated high-level\tbusiness\tmetrics,\tdevelopment\tteams\tcan\tlearn\thow\tmuch\ttraffic\ttheir microservice\tshould\tbe\tprepared\tto\thandle\tin\tthe\tfuture.\tFrom\tthe\tquantitative growth\tscale,\tdevelopers\twill\tknow\texactly\thow\tmany\trequests\tor\tqueries\tper second\ttheir\tservice\twill\tbe\texpected\tto\thandle.\tIf\tthe\tmajority\tof\tthe\tservice’s resource\tbottlenecks\tand\tresource\trequirements\thave\tbeen\tidentified,\tand\tthe bottlenecks\tarchitected\taway,\tdevelopers\twill\tknow\thow\tto\ttranslate\tthe\n\nquantitative\tgrowth\tscale\t(and,\tconsequently,\tthe\tquantitative\taspects\tof\tfuture increases\tin\ttraffic)\tinto\tterms\tof\tthe\thardware\tresources\ttheir\tmicroservice\twill require\tin\torder\tto\thandle\thigher\ttraffic\tloads.\tLoad\ttesting\tafter\tall\tof\tthis,\tafter applying\tthe\tscalability\trequirements\tand\tworking\tthrough\tthem,\tcan\tvalidate and\tensure\tthat\tthe\tmicroservice\tis\tready\tfor\tthe\texpected\tincrease\tin\ttraffic.\n\nLoad\ttesting\tcan\tbe\tused\tthe\tother\tway\taround,\tto\tdiscover\tthe\tquantitative\tand qualitative\tgrowth\tscales,\tto\tidentify\tresource\tbottlenecks\tand\trequirements,\tto ensure\tdependency\tscaling,\tto\tdetermine\tand\tplan\tfor\tfuture\tcapacity\tneeds,\tand the\tlike.\tWhen\tdone\twell,\tload\ttesting\tcan\tgive\tdevelopers\tdeep\tinsight\tinto\tthe scalability\t(and\tscalability\tlimitations)\tof\ttheir\tmicroservice:\tit\tmeasures\thow\tthe service,\tits\tdependencies,\tand\tthe\tecosystem\tbehave\tin\ta\tcontrolled\tenvironment under\ta\tspecified\ttraffic\tload.\n\nRunning\tload\ttests\tin\tstaging\tand\tproduction\tLoad\ttesting\tis\tmost\teffective when\tit\tis\trun\ton\teach\tstage\tof\tthe\tdeployment\tpipeline.\tTo\ttest\tthe\tload\ttesting framework\titself,\tto\tmake\tsure\tthat\tthe\ttest\ttraffic\tproduces\tthe\tdesired\tresults, and\tto\tcatch\tany\tpotential\tproblems\tthat\tload\ttesting\tmight\tcause\tin\tproduction, load\ttesting\tcan\tbe\trun\tin\tthe\tstaging\tphase\tof\tthe\tdeployment\tpipeline.\tIf\tthe deployment\tpipeline\tis\tutilizing\tpartial\tstaging,\twhere\tthe\tstaging\tenvironment communicates\twith\tproduction\tservices,\tcare\tneeds\tto\tbe\ttaken\tto\tmake\tsure\tthat any\tload\ttests\trun\tin\tstaging\tdo\tnot\tharm\tor\tcompromise\tthe\tavailability\tof\tany production\tservices\tthat\tit\tcommunicates\twith.\tIf\tthe\tdeployment\tpipeline contains\tfull\tstaging,\twhich\tis\ta\tcomplete\tmirror\tcopy\tof\tproduction\tand\twhere no\tstaging\tservices\tcommunicate\twith\tany\tservices\tin\tproduction,\tthen\tcare needs\tto\tbe\ttaken\tto\tmake\tsure\tthat\tload\ttesting\tin\tfull\tstaging\tproduces\taccurate results,\tespecially\tif\tthere\tisn’t\thost\tparity\tbetween\tstaging\tand\tproduction.\n\nIt’s\tnot\tenough\tto\tload\ttest\tonly\tin\tstaging.\tEven\tthe\tbest\tstaging\tenvironments —\tthose\tthat\tare\tcomplete\tmirror\tcopies\tof\tproduction\tand\thave\tfull\thost\tparity —\tstill\tare\tnot\tproduction.\tThey’re\tnot\tthe\treal\tworld,\tand\tvery\trarely\tare\tstaging environments\tperfectly\tindicative\tof\tthe\tconsequences\tof\tload\ttesting\tin production.\tOnce\tyou\tknow\tthe\ttraffic\tload\tyou\tneed\tto\thit,\tyou’ve\talerted\tall\tof the\ton-call\trotations\tof\tthe\tdependency\tteams,\tand\tyou’ve\ttested\tyour\tload\ttests in\tstaging,\tyou\tabsolutely\tneed\tto\trun\tload\ttests\tin\tproduction.\n\nALERT\tDEPENDENCIES\tWHEN\tLOAD\tTESTING\n\nIf\tyour\tload\ttests\tsend\trequests\tto\tother\tproduction\tservices,\tbe\tsure\tto\talert\tall\tdependencies in\torder\tto\tavoid\tcompromising\ttheir\tavailability\twhile\trunning\tload\ttests.\tNever\tassume\tthat downstream\tdependencies\tcan\thandle\tthe\ttraffic\tload\tyou\tare\tabout\tto\tsend\ttheir\tway!\n\nLoad\ttesting\tin\tproduction\tcan\tbe\tdangerous\tand\tcan\teasily\tcause\ta\tmicroservice and\tits\tdependencies\tto\tfail.\tThe\treason\twhy\tload\ttesting\tis\tdangerous\tis\tthe same\treason\tit\tis\tessential:\tmost\tof\tthe\ttime,\tyou\twon’t\tknow\texactly\thow\tthe service\tbeing\ttested\tbehaves\tunder\tthe\ttarget\ttraffic\tload,\tand\tyou\twon’t\tknow how\tits\tdependencies\thandle\tincreased\trequests.\tLoad\ttesting\tis\tthe\tway\tto explore\tthe\tunknowns\tabout\ta\tservice\tand\tmake\tsure\tthat\tit\tis\tprepared\tfor expected\ttraffic\tgrowth.\tWhen\ta\tservice\tis\tpushed\tto\tits\tlimits\tin\tproduction,\tand things\tbegin\tto\tbreak,\tthere\tneed\tto\tbe\tautomated\tpieces\tin\tplace\tto\tmake\tsure that\tany\tload\ttests\tcan\tbe\tquickly\tshut\tdown.\tAfter\tthe\tlimitations\tof\tthe\tservice have\tbeen\tdiscovered\tand\tmitigated\tand\tthe\tfixes\thave\tbeen\ttested\tand\tdeployed, load\ttesting\tcan\tresume.\n\nAutomating\tload\ttesting\tIf\tload\ttesting\tis\tgoing\tto\tbe\trequired\tfor\tall microservices\twithin\tthe\torganization\t(or\teven\tjust\ta\tsmall\tnumber\tof\tbusiness- critical\tmicroservices),\tleaving\tthe\timplementation\tand\tmethodology\tof\tthe\tload testing\tin\tthe\thands\tof\tdevelopment\tteams\tto\tdesign\tand\trun\tfor\tthemselves introduces\tanother\tpoint\tof\tfailure\tinto\tthe\tsystem.\tIdeally,\ta\tself-service\tload- testing\ttool\tand/or\tsystem\tshould\tbe\tpart\tof\tthe\tapplication\tplatform\tlayer\tof\tthe microservice\tecosystem,\tallowing\tdevelopers\tto\tuse\ta\ttrusted,\tshared,\tautomated, and\tcentralized\tservice.\n\nLoad\ttesting\tshould\tbe\tscheduled\tregularly,\tand\tviewed\tas\tan\tintegral component\tof\tthe\tday-to-day\tfunction\tof\tthe\tengineering\torganization.\tThe scheduling\tshould\tbe\tlinked\tto\ttraffic\tpatterns:\ttest\tdesired\ttraffic\tloads\tin production\twhen\ttraffic\tis\tlow,\tand\tnever\tduring\tpeak\thours,\tto\tavoid compromising\tthe\tavailability\tof\tany\tservices.\tIf\ta\tcentralized\tself-service\tload testing\tsystem\tis\tbeing\tused,\tit\tis\tincredibly\tuseful\tto\thave\tan\tautomated\tprocess for\tvalidating\tnew\ttests,\talong\twith\ta\tsuite\tof\ttrusted\t(and\trequired)\ttests\tthat every\tservice\tcan\trun.\tIn\textreme\tcases,\tand\twhen\ta\tself-service\tload\ttesting\ttool is\treliable,\tdeployments\tcan\tbe\tblocked\t(or\tgated)\tif\ta\tmicroservice\tfails\tto perform\tadequately\tunder\tload\ttests.\tMost\timportantly,\tevery\tload\ttest performed\tneeds\tto\tbe\tsufficiently\tlogged\tand\tpublicized\tinternally\tso\tthat\tany\n\nperformed\tneeds\tto\tbe\tsufficiently\tlogged\tand\tpublicized\tinternally\tso\tthat\tany problems\tcaused\tby\tload\ttesting\tcan\tquickly\tbe\tdetected,\tmitigated,\tand resolved.\n\nSUMMARY\tOF\tLOAD\tTESTING\n\nProduction-ready\tload\ttesting\thas\tthe\tfollowing\tcomponents:\n\nIt\tuses\ta\ttarget\ttraffic\tload\tthat\tis\tcalculated\tusing\tthe\tqualitative\tand\tquantitative\tgrowth\tscales\tand\n\nexpressed\tin\tterms\tof\tRPS,\tQPS,\tor\tTPS.\n\nIt\tis\trun\tin\teach\tstage\tof\tthe\tdeployment\tpipeline.\n\nIts\truns\tare\tcommunicated\tto\tall\tdependencies.\n\nIt\tis\tfully\tautomated,\tis\tlogged,\tand\tis\tscheduled.\n\nChaos\tTesting In\tthis\tchapter,\twe’ve\tseen\tvarious\tpotential\tfailure\tscenarios\tand\tcatastrophes that\tcan\thappen\tat\teach\tlayer\tof\tthe\tstack.\tWe’ve\tseen\thow\tcode\ttesting\tcatches small\tpotential\tfailures\tat\tthe\tindividual\tmicroservice\tlevel,\tand\thow\tload\ttesting catches\tfailures\tthat\tarise\tfrom\tscalability\tlimitations\tat\tthe\tmicroservice\tlevel. However,\tthe\tmajority\tof\tthe\tfailure\tscenarios\tand\tpotential\tcatastrophes\tlie elsewhere\tin\tthe\tecosystem\tand\tcannot\tbe\tcaught\tby\tany\tof\tthese\tkinds\tof\ttests. To\ttest\tfor\tall\tfailure\tscenarios,\tto\tmake\tsure\tthat\tmicroservices\tcan\tgracefully recover\tfrom\tany\tpotential\tcatastrophe,\tthere’s\tone\tadditional\ttype\tof\tresiliency testing\tthat\tneeds\tto\tbe\tin\tplace,\tand\tit’s\tknown\t(quite\tappropriately)\tas\tchaos testing.\n\nIn\tchaos\ttesting,\tmicroservices\tare\tactively\tpushed\tto\tfail\tin\tproduction,\tbecause the\tonly\tway\tto\tmake\tsure\tthat\ta\tmicroservice\tcan\tsurvive\ta\tfailure\tis\tto\tmake\tit fail\tall\tof\tthe\ttime,\tand\tin\tevery\tway\tpossible.\tThat\tmeans\tthat\tevery\tfailure scenario\tand\tpotential\tcatastrophe\tneeds\tto\tbe\tidentified,\tand\tthen\tis\tneeds\tto\tbe forced\tto\thappen\tin\tproduction.\tRunning\tscheduled\tand\trandom\ttests\tof\teach failure\tscenario\tand\tpotential\tcatastrophe\tcan\thelp\tmimic\tthe\treal\tworld\tof complex\tsystem\tfailures:\tdevelopers\twill\tknow\tthat\tpart\tof\tthe\tsystem\twill\tbe pushed\tto\tfail\ton\ta\tscheduled\tbasis\tand\twill\tprepare\tfor\tthose\tscheduled\tchaos runs,\tand\tthey’ll\talso\tbe\tcaught\toff\tguard\tby\trandomly\tscheduled\ttests.\n\nRESPONSIBLE\tCHAOS\tTESTING\n\nChaos\ttesting\tmust\tbe\twell\tcontrolled\tin\torder\tto\tavoid\tchaos\ttests\tfrom\tbringing\tdown\tthe ecosystem.\tMake\tsure\tyour\tchaos\ttesting\tsoftware\thas\tappropriate\tpermissions,\tand\tthat\tevery single\tevent\tis\tlogged,\tso\tthat\tif\tmicroservices\tare\tunable\tto\tgracefully\trecover\t(or\tif\tthe\tchaos testing\tgoes\trogue),\tpinpointing\tand\tresolving\tthe\tproblems\twon’t\trequire\tany\tserious sleuthing.\n\nLike\tload\ttesting\t(and\tmany\tof\tthe\tother\tsystems\tcovered\tin\tthis\tbook),\tchaos testing\tis\tbest\tprovided\tas\ta\tservice,\tand\tnot\timplemented\tin\tvarious\tad\thoc manners\tacross\tdevelopment\tteams.\tAutomate\tthe\ttesting,\trequire\tevery microservice\tto\trun\ta\tsuite\tof\tboth\tgeneral\tand\tservice-specific\ttests,\tencourage development\tteams\tto\tdiscover\tadditional\tways\ttheir\tservice\tcan\tfail,\tand\tthen give\tthem\tthe\tresources\tto\tdesign\tnew\tchaos\ttests\tthat\tpush\ttheir\tmicroservices to\tfail\tin\tthese\tnew\tways.\tMake\tsure\tthat\tevery\tpart\tof\tthe\tecosystem\t(including the\tchaos\ttesting\tservice)\tcan\tsurvive\ta\tstandard\tset\tof\tchaos\ttests,\tand\tbreak each\tmicroservice\tand\tpiece\tof\tthe\tinfrastructure\tmultiple\ttimes,\tagain\tand\tagain and\tagain,\tuntil\tevery\tdevelopment\tand\tinfrastructure\tteam\tis\tconfident\tthat\ttheir services\tand\tsystems\tcan\twithstand\tinevitable\tfailures.\n\nFinally,\tchaos\ttesting\tis\tnot\tjust\tfor\tcompanies\thosted\ton\tcloud\tproviders,\teven though\tthey\tare\tthe\tmost\tvocal\t(and\tcommon)\tusers.\tThere\tare\tvery\tfew differences\tin\tfailure\tmodes\tof\tbare-metal\tversus\tcloud\tprovider\thardware,\tand anything\tthat\tis\tbuilt\tto\trun\tin\tthe\tcloud\tcan\twork\tjust\tas\twell\ton\tbare\tmetal\t(and vice\tversa).\tAn\topen\tsource\tsolution\tlike\tSimian\tArmy\t(which\tcomes\twith\ta standard\tsuite\tof\tchaos\ttests\tthat\tcan\tbe\tcustomized)\twill\twork\tfor\tthe\tmajority of\tcompanies,\tbut\torganizations\twith\tspecific\tneeds\tcan\teasily\tbuild\ttheir\town.\n\nEXAMPLES\tOF\tCHAOS\tTESTS\n\nSome\tcommon\ttypes\tof\tchaos\ttests:\n\nDisable\tthe\tAPI\tendpoint\tof\tone\tof\ta\tmicroservice’s\tdependencies.\n\nStop\tall\ttraffic\trequests\tto\ta\tdependency.\n\nIntroduce\tlatency\tbetween\tvarious\tparts\tof\tthe\tecosystem\tto\tmimic\tnetwork\tproblems:\tbetween\n\nclients\tand\tdependencies,\tbetween\tmicroservices\tand\tshared\tdatabases,\tbetween\tmicroservices\tand\n\ndistributed\ttask-processing\tsystems,\tetc.\n\nStop\tall\ttraffic\tto\ta\tdatacenter\tor\ta\tregion.\n\nTake\tout\ta\thost\tat\trandom\tby\tshutting\tdown\tone\tmachine.\n\nFailure\tDetection\tand\tRemediation In\taddition\tto\tthe\tresiliency\ttesting\tsuite,\tin\twhich\tmicroservices\tare\ttested\tfor every\tknown\tfailure\tand\tcatastrophe,\ta\tproduction-ready\tmicroservice\tneeds\tto have\tfailure\tdetection\tand\tremediation\tstrategies\tfor\twhen\tfailures\tdo\thappen. We’ll\ttake\ta\tlook\tat\torganizational\tprocesses\tthat\tcan\tbe\tused\tacross\tthe ecosystem\tto\ttriage,\tmitigate,\tand\tresolve\tincidents\tand\toutages,\tbut\tfirst\twe’ll focus\ton\tseveral\ttechnical\tmitigation\tstrategies\tin\tthis\tsection.\n\nWhen\ta\tfailure\tdoes\thappen,\tthe\tgoal\tof\tfailure\tdetection\tand\tremediation\talways needs\tto\tbe\tthe\tfollowing:\treduce\tthe\timpact\tto\tusers.\tIn\ta\tmicroservice ecosystem,\tthe\t“users”\tare\twhoever\tmay\tbe\tusing\tthe\tservice\t—\tthis\tcould\tbe another\tmicroservice\t(who\tis\ta\tclient\tof\tthe\tservice)\tor\tan\tactual\tcustomer\tof\tthe product\t(if\tthe\tservice\tin\tquestion\tis\tcustomer-facing).\tIf\tthe\tfailure\tin\tquestion was\t(or\tmay\thave\tbeen)\tintroduced\tinto\tproduction\tby\ta\tnew\tdeployment,\tthe single\tmost\teffective\tway\tto\treduce\tthe\timpact\tto\tusers\twhen\tsomething\tis\tgoing wrong\tis\tto\timmediately\troll\tback\tto\tthe\tlast\tstable\tbuild\tof\tthe\tservice.\tRolling back\tto\tthe\tlast\tstable\tbuild\tensures\tthat\tthe\tmicroservice\thas\tbeen\treturned\tto\ta known\tstate,\ta\tstate\tthat\twasn’t\tsusceptible\tto\tthe\tfailures\tor\tcatastrophes\tthat were\tintroduced\twith\tthe\tnewest\tbuild.\tThe\tsame\tholds\tfor\tchanges\tto\tlow-level configurations:\ttreat\tconfigs\tlike\tcode,\tdeploy\tthem\tin\tvarious\tsuccessive releases,\tand\tmake\tsure\tthat\tif\ta\tconfig\tchange\tcauses\tan\toutage,\tthe\tsystem\tcan quickly\tand\teffortlessly\troll\tback\tto\tthe\tlast\tstable\tset\tof\tconfigurations.\n\nA\tsecond\tstrategy\tin\tcase\tof\tfailure\tis\tfailing\tover\tto\ta\tstable\talternative.\tIf\tone of\ta\tmicroservice’s\tdependencies\tis\tdown,\tthis\twould\tmean\tsending\trequests\tto\ta different\tendpoint\t(if\tthe\tendpoint\tis\tbroken)\tor\ta\tdifferent\tservice\t(if\tthe\tentire service\tis\tdown).\tIf\tit’s\tnot\tpossible\tto\troute\tto\tanother\tservice\tor\tendpoint,\tthen there\tneeds\tto\tbe\ta\tway\tto\tqueue\tor\tsave\tthe\trequests\tand\thold\tthem\tuntil problems\twith\tthe\tdependency\thave\tbeen\tmitigated.\tIf\tthe\tproblem\tis\trelegated to\tone\tdatacenter,\tor\tif\ta\tdatacenter\tis\texperiencing\tfailures,\tthe\tway\tto\tfail\tover to\ta\tstable\talternative\twould\tbe\tto\tre-route\ttraffic\tto\tanother\tdatacenter. Whenever\tyou\tare\tfaced\twith\tvarious\tways\tto\thandle\tfailure,\tand\tone\tof\tthose choices\tis\tto\tre-route\ttraffic\tto\tanother\tservice\tor\tdatacenter,\tre-routing\tthe\ttraffic is\talmost\talways\tthe\tsmartest\tchoice:\trouting\ttraffic\tis\teasy\tand\timmediately reduces\tthe\timpact\tto\tusers.\n\nImportantly,\tthe\tdetection\taspect\tof\t“failure\tdetection\tand\tremediation”\tcan\tonly really\tbe\taccomplished\tby\tproduction-ready\tmonitoring\t(see\tChapter\t6, Monitoring,\tfor\tall\tthe\tnitty-gritty\tmonitoring\tdetails).\tHuman\tbeings\tare horrible\tat\tdetecting\tand\tdiagnosing\tsystem\tfailures,\tand\tintroducing\tengineers into\tthe\tfailure\tdetection\tprocess\tbecomes\ta\tsingle\tpoint\tof\tfailure\tfor\tthe\toverall system.\tThis\tholds\tfor\tfailure\tremediation\tas\twell:\tmost\tof\tthe\tremediation within\tlarge\tmicroservice\tecosystems\tis\tdone\tby\tengineers,\tall\tby\thand,\tall\tin\tan almost\tpainfully\tmanual\tway,\tintroducing\ta\tnew\tpoint\tof\tfailure\tfor\tthe\tsystem —\tbut\tit\tdoesn’t\thave\tto\tbe\tthat\tway.\tTo\tcut\tout\tthe\tpotential\tand\tpossibility\tfor human\terror\tin\tfailure\tremediation,\tall\tmitigation\tstrategies\tneed\tto\tbe automated.\tFor\texample,\tif\ta\tservice\tfails\tcertain\thealthchecks\tor\tits\tkey\tmetrics hit\tthe\twarning\tand/or\tcritical\tthresholds\tafter\ta\tdeploy,\tthen\tthe\tsystem\tcan\tbe designed\tto\tautomatically\troll\tback\tto\tthe\tlast\tstable\tbuild.\tThe\tsame\tgoes\tfor traffic\trouting\tto\tanother\tendpoint,\tmicroservice,\tor\tdatacenter:\tif\tcertain\tkey metrics\thit\tspecific\tthresholds,\tset\tup\ta\tsystem\tthat\tautomatically\troutes\tthe traffic\tfor\tyou.\tFault\ttolerance\tabsolutely\trequires\tthat\tthe\tpotential\tand possibility\tfor\thuman\terror\tbe\tautomated\tand\tarchitected\taway\twhenever possible.\n\nIncidents\tand\tOutages Throughout\tthis\tbook,\tI’ve\temphasized\tthe\tavailability\tof\tthe\tmicroservices\tand the\toverall\tecosystem\tas\tthe\tgoal\tof\tstandardization.\tArchitecting,\tbuilding,\tand running\tmicroservice\tarchitecture\tthat\tis\tgeared\ttoward\thigh\tavailability\tcan\tbe accomplished\tthrough\tadopting\tthe\tproduction-readiness\tstandards\tand\ttheir related\trequirements,\tand\tit’s\tthe\treason\tI’ve\tintroduced\tand\tchosen\teach production-readiness\tstandard.\tIt’s\tnot\tenough,\thowever,\tfor\tthe\tindividual microservices\tand\teach\tlayer\tof\tthe\tmicroservice\tecosystem\tstack\tto\tbe\tfault tolerant\tand\tprepared\tfor\tany\tcatastrophe.\tThe\tdevelopment\tteams\tand\tthe engineering\torganization(s)\tresponsible\tfor\tthe\tmicroservices\tand\tthe\tecosystem they\tlive\tin\tneed\tto\thave\tthe\tappropriate\torganizational\tresponse\tprocedures\tin place\tfor\thandling\tincidents\tand\toutages\twhen\tthey\thappen.\n\nEvery\tminute\tthat\ta\tmicroservice\tis\tdown\tbrings\tdown\tits\tavailability.\tWhen part\tof\tthe\tmicroservice\tor\tits\tecosystem\tfails,\tcausing\tan\tincident\tor\toutage\tto happen,\tevery\tminute\tthat\tit\tis\tdown\tcounts\tagainst\tits\tavailability\tand\tcauses\tit to\tfail\tto\tmeet\tits\tSLA.\tFailing\tto\tmeet\tan\tSLA,\tand\tfailing\tto\tmeet\tavailability goals,\tincurs\ta\tserious\tcost:\tat\tmost\tcompanies,\toutages\tmean\ta\thuge\tfinancial cost\tto\tthe\tbusiness,\ta\tcost\tthat\tis\tusually\teasy\tto\tquantify\tand\tshare\twith development\tteams\twithin\tthe\torganization.\tWith\tthis\tin\tmind,\tit’s\teasy\tto\tsee how\tthe\tlength\tof\tthe\ttime\tto\tdetection,\tthe\ttime\tto\tmitigation,\tand\tthe\ttime\tto resolution\tof\toutages\tcan\tadd\tup\tvery\tquickly\tand\tcost\tthe\tcompany\tmoney, because\tthey\tcount\tagainst\ta\tmicroservice’s\tuptime\t(and,\tconsequently,\tits availability).\n\nAppropriate\tCategorization Not\tall\tmicroservices\tare\tcreated\tequal,\tand\tcategorizing\tthe\timportance\tand impact\tthat\ttheir\tfailures\twill\thave\ton\tthe\tbusiness\tmakes\tit\teasier\tto\tproperly triage,\tmitigate,\tand\tresolve\tincidents\tand\toutages.\tWhen\tan\tecosystem\tcontains hundreds\tor\teven\tthousands\tof\tmicroservices,\tthere\twill\tbe\tdozens\tor\teven hundreds\tof\tfailures\tper\tweek,\teven\tif\tonly\t10\tpercent\tof\tthe\tmicroservices experience\tfailures,\tthat’s\tstill\tover\t100\tfailures\tin\tan\tecosystem\tof\t1,000 services.\tWhile\tevery\tfailure\tneeds\tto\tbe\tproperly\thandled\tby\tits\ton-call\trotation, not\tevery\tfailure\twill\tneed\tto\tbe\ttreated\tas\tan\tall-hands-on-deck\temergency.\n\nIn\torder\tto\thave\ta\tconsistent,\tappropriate,\teffective,\tand\tefficient\tincident\tand outage\tresponse\tprocess\tacross\tthe\torganization,\tit\tis\timportant\tto\tdo\ttwo\tthings. First,\tit\tis\tincredibly\thelpful\tto\tcategorize\tthe\tmicroservices\tthemselves\twith regard\tto\thow\ttheir\tfailures\twill\taffect\tthe\tecosystem\tso\tthat\tit\twill\tbe\teasy\tto prioritize\tvarious\tincidents\tand\tfailures\t(this\talso\thelps\twith\tproblems\trelated\tto competition\tfor\tresources\t—\tboth\tengineering\tresources\tand\thardware\tresources —\twithin\tthe\torganization).\tSecond,\tincidents\tand\toutages\tneed\tto\tbe categorized\tso\tthat\tthe\tscope\tand\tseverity\tof\tevery\tsingle\tfailure\twill\tbe understood\tacross\tthe\torganization.\n\nCategorizing\tmicroservices\tTo\tmitigate\tthe\tchallenges\tof\tcompetition\tfor resources,\tand\tto\tensure\tproper\tincident\tresponse\tmeasures\tare\ttaken,\teach microservice\twithin\tthe\tecosystem\tcan\t(and\tshould)\tbe\tcategorized\tand\tranked according\tto\tits\tcriticality\tto\tthe\tbusiness.\tCategorization\tdoesn’t\tneed\tto\tbe perfect\tat\tfirst,\tas\ta\trough\tcategorization\trubric\twill\tdo\tthe\tjob\tjust\tfine.\tThe\tkey here\tis\tto\tmark\tmicroservices\tthat\tare\tcritical\tto\tthe\tbusiness\tas\thaving\tthe highest\tpriority\tand\timpact,\tand\tthen\tevery\tother\tmicroservice\twill\thave\ta\tlower rank\tand\tpriority\tdepending\ton\thow\tclose\tor\tfar\tit\tis\tto\tthe\tmost\tcritical\tservices. Infrastructure\tlayers\tare\talways\tof\tthe\thighest\tpriority:\tanything\twithin\tthe hardware,\tcommunication,\tand\tapplication\tplatform\tlayers\tthat\tis\tused\tby\tany\tof the\tbusiness-critical\tmicroservices\tshould\tbe\tthe\thighest\tpriority\twithin\tthe ecosystem.\n\nCategorizing\tincidents\tand\toutages\tThere\tare\ttwo\taxes\tthat\tevery\tincident, outage,\tand\tfailure\tcan\tbe\tplotted\tagainst:\tthe\tfirst\tis\tthe\tseverity\tof\tthe\tincident, outage,\tor\tfailure,\tand\tthe\tsecond\tis\tits\tscope.\tSeverity\tis\tlinked\tto\tthe categorization\tof\tthe\tapplication,\tmicroservice,\tor\tsystem\tin\tquestion.\tIf\tthe\n\nmicroservice\tis\tbusiness-critical\t(i.e.,\tif\teither\tthe\tbusiness\tor\tan\tessential customer-facing\tpart\tof\tthe\tproduct\tcannot\tfunction\twithout\tit),\tthen\tthe\tseverity of\tany\tfailure\tit\texperiences\tshould\tmatch\tthe\tservice’s\tcategorization.\tScope,\ton the\tother\thand,\tis\trelated\tto\thow\tmuch\tof\tthe\tecosystem\tis\taffected\tby\tthe failure,\tand\tis\tusually\tsplit\tinto\tthree\tcategories:\thigh,\tmedium,\tand\tlow.\tAn incident\twhose\tscope\tis\thigh\tis\tan\tincident\tthat\taffects\tthe\tentire\tbusiness\tand/or an\texternal\t(e.g.,\tuser-facing)\tfeature;\ta\tmedium-scope\tincident\twould\tbe\tone that\taffected\tonly\tthe\tservice\titself,\tor\tthe\tservice\tand\ta\tfew\tof\tits\tclients;\ta\tlow- scope\tincident\twould\tbe\tone\twhose\tnegative\teffects\tare\tnot\tnoticed\tby\tclients, the\tbusiness,\tor\texternal\tcustomers\tusing\tthe\tproduct.\tIn\tother\twords,\tseverity should\tbe\tcategorized\tbased\ton\tthe\timpact\tto\tthe\tbusiness,\tand\tscope\tshould\tbe categorized\tbased\ton\twhether\tthe\tincident\tis\tlocal\tor\tglobal.\n\nLet’s\tgo\tthrough\ta\tfew\texamples\tto\tclarify\twhat\tthis\tlooks\tlike\tin\tpractice.\tWe’ll assign\tfour\tlevels\tof\tseverity\tto\teach\tfailure\t(0–4,\twhere\t0\tis\tthe\tmost\tsevere incident\tlevel\tand\t4\tis\tthe\tleast\tsevere),\tand\twe’ll\tstick\twith\tthe\thigh-medium- low\tlevels\twhen\tdetermining\tscope.\tFirst,\tlet’s\tlook\tat\tan\texample\twhose severity\tand\tscope\tare\tvery\teasy\tto\tcategorize:\ta\tcomplete\tdatacenter\tfailure.\tIf\ta datacenter\tgoes\tcompletely\tdown\t(for\twhatever\treason),\tthe\tseverity\tis\tclearly\t0 (it\taffects\tthe\tentire\tbusiness),\tand\tthe\tscope\tis\thigh\t(again,\tit\taffects\tthe\tentire business).\tNow\tlet’s\tlook\tat\tanother\tscenario:\timagine\twe\thave\ta\tmicroservice that\tis\tresponsible\tfor\ta\tbusiness-critical\tfunction\tin\tthe\tproduct,\tand\tit\tgoes down\tfor\t30\tminutes;\tas\ta\tresult\tof\tits\tfailure,\tlet’s\timagine\tthat\tone\tof\tits\tclients suffers,\tbut\tthe\trest\tof\tthe\tecosystem\tremains\tunaffected.\tWe’d\tcategorize\tthis\tas severity\t0\t(because\tit\timpacts\ta\tbusiness-critical\tfeature)\tand\tscope\tmedium\t(it doesn’t\taffect\tthe\twhole\tbusiness,\tonly\titself\tand\tone\tclient\tservice).\tFinally, let’s\tconsider\tan\tinternal\ttool\tresponsible\tfor\tgenerating\ttemplates\tfor\tnew microservices,\tand\timagine\tthat\tit\tgoes\tdown\tfor\tseveral\thours\t—\thow\twould this\tbe\tcategorized?\tGenerating\ttemplates\tfor\tnew\tmicroservices\t(and\tspinning up\tnew\tmicroservices)\tisn’t\tbusiness-critical\tand\tdoesn’t\taffect\tany\tuser-facing features,\tso\tthis\twouldn’t\tbe\ta\t0\tseverity\tproblem\t(it\tprobably\twouldn’t\tbe\ta\t1\tor a\t2\teither);\thowever,\tsince\tthe\tservice\titself\tis\tdown,\twe’d\tprobably\tcategorize its\tseverity\tas\ta\t3,\tand\tthen\tits\tscope\tas\tlow\t(since\tit\tis\tthe\tonly\tservice\taffected by\tits\tfailure).\n\nThe\tFive\tStages\tof\tIncident\tResponse When\tfailures\thappen,\tit’s\tcritical\tto\tthe\tavailability\tof\tthe\tentire\tsystem\tthat there\tare\tstandardized\tincident\tresponse\tprocedures\tin\tplace.\tHaving\ta\tclear\tset of\tsteps\tthat\tneed\tto\tbe\ttaken\twhen\tan\tincident\tor\toutage\toccurs\tcuts\tdown\ton the\ttime\tto\tmitigation\tand\tthe\ttime\tto\tresolution,\twhich\tin\tturn\tdecreases\tthe downtime\texperienced\tby\teach\tmicroservice.\tWithin\tthe\tindustry\ttoday,\tthere are\ttypically\tthree\tstandard\tsteps\tin\tthe\tprocess\tof\tresponding\tto\tand\tresolving an\tincident:\ttriage,\tmitigate,\tand\tresolve.\tAdopting\tmicroservice\tarchitecture, however,\tand\tachieving\thigh\tavailability\tand\tfault\ttolerance\trequires\tadopting two\tadditional\tsteps\tin\tthe\tincident\tresponse\tprocess:\tone\tfor\tcoordination,\tand another\tfor\tfollow-up.\tTogether,\tthese\tsteps\tgive\tus\tthe\tfive\tstages\tof\tincident response\t(Figure\t5-1):\tassessment,\tcoordination,\tmitigation,\tresolution,\tand follow-up.\n\nFigure\t5-1.\tThe\tfive\tstages\tof\tincident\tresponse\n\nAssessment\tWhenever\tan\talert\tis\ttriggered\tby\ta\tchange\tin\ta\tservice’s\tkey\tmetric (see\tChapter\t6,\tMonitoring,\tfor\tmore\tdetails\ton\talerting,\tkey\tmetrics,\tand\ton-call rotations),\tand\tthe\tdeveloper\ton\tcall\tfor\tthe\tservice\tneeds\tto\trespond\tto\tthe\talert, the\tvery\tfirst\tstep\tthat\tneeds\tto\tbe\ttaken\tis\tto\tassess\tthe\tincident.\tThe\ton-call engineer\tis\tthe\tfirst\tresponder,\ttriaging\tevery\tproblem\tas\tsoon\tas\tit\ttriggers\tan alert,\tand\this\tjob\tis\tto\tdetermine\tthe\tseverity\tand\tscope\tof\tthe\tissue.\n\nCoordination\tOnce\tthe\tincident\thas\tbeen\tassessed\tand\ttriaged,\tthe\tnext\tstep\tis to\tfirst\tcoordinate\twith\tother\tdevelopers\tand\tteams\tand\tthen\tbegin communicating\tabout\tthe\tincident.\tVery\tfew\tdevelopers\ton\tcall\tfor\tany\tgiven service\twill\tbe\table\tto\tresolve\tevery\tsingle\tproblem\twith\tthe\tservice,\tand\tso coordination\twith\tother\tteams\twho\tcan\tresolve\tthe\tissue\twill\tensure\tthat\tthe problem\tis\tmitigated\tand\tresolved\tquickly.\tThis\tmeans\tthat\tthere\tneed\tto\tbe\tclear channels\tof\tcommunication\tfor\tincidents\tand\toutages\tso\tthat\tany\thigh-severity, high-scope\tproblem\tcan\treceive\tthe\timmediate\tattention\tthat\tit\trequires.\n\nDuring\tthe\tincident\tor\toutage,\tit’s\timportant\tto\thave\ta\tclear\trecord\tof communication\tregarding\tthe\tincident\tfor\tseveral\treasons.\tFirst,\trecording communication\tduring\tthe\tincident\t(in\tchat\tlogs,\tover\temail,\tetc.)\thelps\tin diagnosing,\troot-causing,\tand\tmitigating\tthe\tincident:\teveryone\tknows\twho\tis working\ton\twhich\tfix,\teveryone\tknows\twhat\tpossible\tfailures\thave\tbeen eliminated\tas\tpossible\tcauses,\tand\tonce\tthe\troot\thas\tbeen\tidentified,\teveryone knows\texactly\twhat\tcaused\tthe\tproblem.\tSecond,\tother\tservices\tthat\tdepend\ton the\tservice\texperiencing\tthe\tincident\tor\toutage\tneed\tto\tbe\tapprised\tof\tany problems\tso\tthat\tthey\tcan\tmitigate\tits\tnegative\teffects\tand\tensure\tthat\ttheir\town service\tis\tprotected\tfrom\tthe\tfailure.\tThis\tkeeps\toverall\tavailability\thigh,\tand prevents\tone\tservice\tfrom\tbringing\tdown\tentire\tdependency\tchains.\tThird,\tit helps\twhen\tpostmortems\tare\twritten\tfor\tsevere,\tglobal\tincidents\tby\tgiving\ta clear,\tdetailed\trecord\tof\texactly\twhat\thappened\tand\thow\tthe\tproblem\twas triaged,\tmitigated,\tand\tresolved.\n\nMitigation\tThe\tthird\tstep\tis\tmitigation.\tAfter\tthe\tproblem\thas\tbeen\tassessed\tand organizational\tcommunication\thas\tbegun\t(ensuring\tthat\tthe\tright\tpeople\tare working\tto\tfix\tthe\tproblem),\tdevelopers\tneed\tto\twork\tto\treduce\tthe\timpact\tof\tthe incident\ton\tclients,\tthe\tbusiness,\tand\tanything\telse\tthat\tmay\tbe\taffected\tby\tthe incident.\tMitigation\tis\tnot\tthe\tsame\tas\tresolution:\tit\tis\tnot\tfixing\tthe\troot\tcause\tof\n\nthe\tproblem\tcompletely,\tonly\treducing\tits\timpact.\tAn\tissue\tis\tnot\tmitigated\tuntil both\tits\tavailability\tand\tthe\tavailability\tof\tits\tclients\tare\tno\tlonger\tcompromised or\tsuffering.\n\nResolution\tAfter\tthe\teffects\tof\tthe\tincident\tor\toutage\thave\tbeen\tmitigated, engineers\tcan\twork\tto\tresolve\tthe\troot\tcause\tof\tthe\tproblem.\tThis\tis\tthe\tfourth step\tof\tthe\tincident\tresponse\tprocess.\tThis\tentails\tactually\tfixing\tthe\troot\tcause of\tthe\tproblem,\twhich\tmay\tnot\thave\tbeen\tdone\twhen\tthe\tproblem\twas\tmitigated. Most\timportantly,\tthis\tis\twhen\tthe\tclock\tstops\tticking.\tThe\ttwo\tmost\timportant quantities\tthat\tcount\tagainst\ta\tmicroservice’s\tSLA\tare\ttime\tto\tdetection\t(TTD) and\ttime\tto\tmitigation\t(TTM).\tOnce\ta\tproblem\thas\tbeen\tmitigated,\tit\tshould\tno longer\tbe\taffecting\tend\tusers\tor\tcompromising\tthe\tservice’s\tSLA,\tand\tso\ttime\tto resolution\t(TTR)\trarely\t(if\tever)\tcounts\tagainst\ta\tservice’s\tavailability.\n\nFollow-up\tThree\tthings\tneed\tto\thappen\tin\tthe\tfifth\tand\tfinal\tfollow-up\tstage\tof incident\tresponse:\tpostmortems\tneed\tto\tbe\twritten\tto\tanalyze\tand\tunderstand\tthe incident\tor\toutage,\tsevere\tincidents\tand\toutages\tneed\tto\tbe\tshared\tand\treviewed, and\ta\tlist\tof\taction\titems\tneeds\tto\tbe\tput\ttogether\tso\tthat\tthe\tdevelopment team(s)\tcan\tcomplete\tthem\tin\torder\tfor\tthe\taffected\tmicroservice(s)\tto\treturn\tto\ta production-ready\tstate\t(action\titems\tcan\toften\tbe\tfit\tinto\tpostmortems).\n\nThe\tmost\timportant\taspect\tof\tincident\tfollow-up\tis\tthe\tpostmortem.\tIn\tgeneral,\ta postmortem\tis\ta\tdetailed\tdocument\tthat\tfollows\tevery\tsingle\tincident\tand/or outage\tand\tcontains\tcritical\tinformation\tabout\twhat\thappened,\twhy\tit\thappened, and\twhat\tcould\thave\tbeen\tdone\tto\tprevent\tit.\tEvery\tpostmortem\tshould,\tat\tthe very\tminimum,\tcontain\ta\tsummary\tof\twhat\thappened,\tdata\tabout\twhat\thappened (time\tto\tdetection,\ttime\tto\tmitigation,\ttime\tto\tresolution,\ttotal\tdowntime,\tnumber of\taffected\tusers,\tany\trelevant\tgraphs\tand\tcharts,\tetc.),\ta\tdetailed\ttimeline,\ta comprehensive\troot-cause\tanalysis,\ta\tsummary\tof\thow\tthe\tincident\tcould\thave been\tprevented,\tways\tthat\tsimilar\toutages\tcan\tbe\tprevented\tin\tthe\tfuture,\tand\ta list\tof\taction\titems\tthat\tneed\tto\tbe\tcompleted\tin\torder\tto\tbring\tthe\tservice\tback\tto a\tproduction-ready\tstate.\tPostmortems\tare\tmost\teffective\twhen\tthey’re blameless,\twhen\tthey\tdon’t\tname\tnames\tbut\tonly\tpoint\tout\tobjective\tfacts\tabout the\tservice.\tPointing\tfingers,\tnaming\tnames,\tand\tblaming\tdevelopers\tand engineers\tfor\toutages\tstifles\tthe\torganizational\tlearning\tand\tsharing\tthat\tis essential\tfor\tmaintaining\ta\treliable,\tsustainable\tecosystem.\n\nWithin\tlarge\tand\tcomplex\tmicroservice\tecosystems,\tany\tfailure\tor\tproblem\tthat brings\tone\tmicroservice\tdown\t—\twhether\tbig\tor\tsmall\t—\talmost\tcertainly\tcan (and\twill)\taffect\tat\tleast\tone\tother\tmicroservice\twithin\tthe\tecosystem.\n\nCommunicating\tsevere\tincidents\tand\toutages\tacross\tvarious\tteams\t(and\tacross the\twhole\torganization)\tcan\thelp\tcatch\tthese\tfailures\tin\tother\tservices\tbefore they\toccur.\tI’ve\tseen\thow\teffective\tincidents\tand\toutage\treviews\tcan\tbe\twhen done\tproperly,\tand\thave\twatched\tdevelopers\tattend\tthese\tmeetings\tand\tthen\trush off\tto\ttheir\tmicroservice\tafterward\tto\tfix\tany\tbugs\tin\ttheir\town\tservice\tthat\tled\tto the\tincidents\tand/or\toutages\tthat\twere\treviewed.\n\nEvaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tfault\ttolerance\tand\tcatastrophe- preparedness,\tuse\tthe\tfollowing\tlist\tof\tquestions\tto\tassess\tthe\tproduction- readiness\tof\tyour\tmicroservice(s)\tand\tmicroservice\tecosystem.\tThe\tquestions\tare organized\tby\ttopic,\tand\tcorrespond\tto\tthe\tsections\twithin\tthis\tchapter.\n\nAvoiding\tSingle\tPoints\tof\tFailure\n\nDoes\tthe\tmicroservice\thave\ta\tsingle\tpoint\tof\tfailure?\n\nDoes\tit\thave\tmore\tthan\tone\tpoint\tof\tfailure?\n\nCan\tany\tpoints\tof\tfailure\tbe\tarchitected\taway,\tor\tdo\tthey\tneed\tto\tbe mitigated?\n\nCatastrophes\tand\tFailure\tScenarios\n\nHave\tall\tof\tthe\tmicroservice’s\tfailure\tscenarios\tand\tpossible\tcatastrophes been\tidentified?\n\nWhat\tare\tcommon\tfailures\tacross\tthe\tmicroservice\tecosystem?\n\nWhat\tare\tthe\thardware-layer\tfailure\tscenarios\tthat\tcan\taffect\tthis microservice?\n\nWhat\tcommunication-layer\tand\tapplication-layer\tfailures\tcan\taffect\tthis microservice?\n\nWhat\tsorts\tof\tdependency\tfailures\tcan\taffect\tthis\tmicroservice?\n\nWhat\tare\tthe\tinternal\tfailures\tthat\tcould\tbring\tdown\tthis\tmicroservice?\n\nResiliency\tTesting\n\nDoes\tthis\tmicroservice\thave\tappropriate\tlint,\tunit,\tintegration,\tand\tend-to- end\ttests?\n\nDoes\tthis\tmicroservice\tundergo\tregular,\tscheduled\tload\ttesting?\n\nAre\tall\tpossible\tfailure\tscenarios\timplemented\tand\ttested\tusing\tchaos testing?\n\nFailure\tDetection\tand\tRemediation\n\nAre\tthere\tstandardized\tprocesses\tacross\tthe\tengineering\torganization(s)\tfor handling\tincidents\tand\toutages?\n\nHow\tdo\tfailures\tand\toutages\tof\tthis\tmicroservice\timpact\tthe\tbusiness?\n\nAre\tthere\tclearly\tdefined\tlevels\tof\tfailure?\n\nAre\tthere\tclearly\tdefined\tmitigation\tstrategies?\n\nDoes\tthe\tteam\tfollow\tthe\tfive\tstages\tof\tincident\tresponse\twhen\tincidents and\toutages\toccur?\n\nChapter\t6.\tMonitoring\n\nA\tproduction-ready\tmicroservice\tis\tone\tthat\tis\tproperly\tmonitored.\tProper monitoring\tis\tone\tof\tthe\tmost\timportant\tparts\tof\tbuilding\ta\tproduction-ready microservice\tand\tguarantees\thigher\tmicroservice\tavailability.\tIn\tthis\tchapter,\tthe essential\tcomponents\tof\tmicroservice\tmonitoring\tare\tcovered,\tincluding\twhich key\tmetrics\tto\tmonitor,\thow\tto\tlog\tkey\tmetrics,\tbuilding\tdashboards\tthat\tdisplay key\tmetrics,\thow\tto\tapproach\talerting,\tand\ton-call\tbest\tpractices.\n\nPrinciples\tof\tMicroservice\tMonitoring The\tmajority\tof\toutages\tin\ta\tmicroservice\tecosystem\tare\tcaused\tby\tbad deployments.\tThe\tsecond\tmost\tcommon\tcause\tof\toutages\tis\tthe\tlack\tof\tproper monitoring.\tIt’s\teasy\tto\tsee\twhy\tthis\tis\tthe\tcase.\tIf\tthe\tstate\tof\ta\tmicroservice\tis unknown,\tif\tkey\tmetrics\taren’t\ttracked,\tthen\tany\tprecipitating\tfailures\twill remain\tunknown\tuntil\tan\tactual\toutage\toccurs.\tBy\tthe\ttime\ta\tmicroservice experiences\tan\toutage\tdue\tto\tlack\tof\tmonitoring,\tits\tavailability\thas\talready\tbeen compromised.\tDuring\tthese\toutages,\tthe\ttime\tto\tmitigation\tand\ttime\tto\trepair\tare prolonged,\tpulling\tthe\tavailability\tof\tthe\tmicroservice\tdown\teven\tfurther: without\teasily\taccessible\tinformation\tabout\tthe\tmicroservice’s\tkey\tmetrics, developers\tare\toften\tfaced\twith\ta\tblank\tslate,\tunprepared\tto\tquickly\tresolve\tthe issue.\tThis\tis\twhy\tproper\tmonitoring\tis\tessential:\tit\tprovides\tthe\tdevelopment team\twith\tall\tof\tthe\trelevant\tinformation\tabout\tthe\tmicroservice.\tWhen\ta microservice\tis\tproperly\tmonitored,\tits\tstate\tis\tnever\tunknown.\n\nMonitoring\ta\tproduction-ready\tmicroservice\thas\tfour\tcomponents.\tThe\tfirst\tis proper\tlogging\tof\tall\trelevant\tand\timportant\tinformation,\twhich\tallows developers\tto\tunderstand\tthe\tstate\tof\tthe\tmicroservice\tat\tany\ttime\tin\tthe\tpresent or\tin\tthe\tpast.\tThe\tsecond\tis\tthe\tuse\tof\twell-designed\tdashboards\tthat\taccurately reflect\tthe\thealth\tof\tthe\tmicroservice,\tand\tare\torganized\tin\tsuch\ta\tway\tthat anyone\tat\tthe\tcompany\tcould\tview\tthe\tdashboard\tand\tunderstand\tthe\thealth\tand status\tof\tthe\tmicroservice\twithout\tdifficulty.\tThe\tthird\tcomponent\tis\tactionable and\teffective\talerting\ton\tall\tkey\tmetrics,\ta\tpractice\tthat\tmakes\tit\teasy\tfor developers\tto\tmitigate\tand\tresolve\tproblems\twith\tthe\tmicroservice\tbefore\tthey cause\toutages.\tThe\tfinal\tcomponent\tis\tthe\timplementation\tand\tpractice\tof running\ta\tsustainable\ton-call\trotation\tresponsible\tfor\tthe\tmonitoring\tof\tthe microservice.\tWith\teffective\tlogging,\tdashboards,\talerting,\tand\ton-call\trotation, the\tmicroservice’s\tavailability\tcan\tbe\tprotected:\tfailures\tand\terrors\twill\tbe detected,\tmitigated,\tand\tresolved\tbefore\tthey\tbring\tdown\tany\tpart\tof\tthe microservice\tecosystem.\n\nA\tPRODUCTION-READY\tSERVICE\tIS\tPROPERLY\tMONITORED\n\nIts\tkey\tmetrics\tare\tidentified\tand\tmonitored\tat\tthe\thost,\tinfrastructure,\tand\tmicroservice\tlevels.\n\nIt\thas\tappropriate\tlogging\tthat\taccurately\treflects\tthe\tpast\tstates\tof\tthe\tmicroservice.",
      "page_number": 150
    },
    {
      "number": 6,
      "title": "Monitoring",
      "start_page": 193,
      "end_page": 216,
      "detection_method": "regex_chapter_title",
      "content": "Its\tdashboards\tare\teasy\tto\tinterpret,\tand\tcontain\tall\tkey\tmetrics.\n\nIts\talerts\tare\tactionable\tand\tare\tdefined\tby\tsignal-providing\tthresholds.\n\nThere\tis\ta\tdedicated\ton-call\trotation\tresponsible\tfor\tmonitoring\tand\tresponding\tto\tany\tincidents\tand\n\noutages.\n\nThere\tis\ta\tclear,\twell-defined,\tand\tstandardized\ton-call\tprocedure\tin\tplace\tfor\thandling\tincidents\tand\n\noutages.\n\nKey\tMetrics Before\twe\tjump\tinto\tthe\tcomponents\tof\tproper\tmonitoring,\tit’s\timportant\tto identify\tprecisely\twhat\twe\twant\tand\tneed\tto\tmonitor:\twe\twant\tto\tmonitor\ta microservice,\tbut\twhat\tdoes\tthat\tactually\tmean?\tA\tmicroservice\tisn’t\tan individual\tobject\tthat\twe\tcan\tfollow\tor\ttrack,\tit\tcannot\tbe\tisolated\tand quarantined\t—\tit’s\tfar\tmore\tcomplicated\tthan\tthat.\tDeployed\tacross\tdozens,\tif not\thundreds,\tof\tservers,\tthe\tbehavior\tof\ta\tmicroservice\tis\tthe\tsum\tof\tits behavior\tacross\tall\tof\tits\tinstantiations,\twhich\tisn’t\tthe\teasiest\tthing\tto\tquantify. The\tkey\tis\tidentifying\twhich\tproperties\tof\ta\tmicroservice\tare\tnecessary\tand sufficient\tfor\tdescribing\tits\tbehavior,\tand\tthen\tdetermining\twhat\tchanges\tin those\tproperties\ttell\tus\tabout\tthe\toverall\tstatus\tand\thealth\tof\tthe\tmicroservice. We’ll\tcall\tthese\tproperties\tkey\tmetrics.\n\nThere\tare\ttwo\ttypes\tof\tkey\tmetrics:\thost\tand\tinfrastructure\tmetrics,\tand microservice\tmetrics.\tHost\tand\tinfrastructure\tmetrics\tare\tthose\tthat\tpertain\tto\tthe status\tof\tthe\tinfrastructure\tand\tthe\tservers\ton\twhich\tthe\tmicroservice\tis\trunning, while\tmicroservice\tmetrics\tare\tmetrics\tthat\tare\tunique\tto\tthe\tindividual microservice.\tIn\tterms\tof\tthe\tfour-layer\tmodel\tof\tthe\tmicroservice\tecosystem\tas described\tin\tChapter\t1,\tMicroservices,\thost\tand\tinfrastructure\tmetrics\tare metrics\tbelonging\tto\tlayers\t1–3,\twhile\tmicroservice\tmetrics\tare\tthose\tbelonging to\tlayer\t4.\n\nSeparating\tkey\tmetrics\tinto\tthese\ttwo\tdifferent\ttypes\tis\timportant\tboth organizationally\tand\ttechnically.\tHost\tand\tinfrastructure\tmetrics\toften\taffect more\tthan\tone\tmicroservice:\tfor\texample,\tif\tthere\tis\ta\tproblem\twith\ta\tparticular server,\tand\tthe\tmicroservice\tecosystem\tshares\tthe\thardware\tresources\tamong multiple\tmicroservices,\thost-level\tkey\tmetrics\twill\tbe\trelevant\tto\tevery microservice\tteam\tthat\thas\ta\tmicroservice\tdeployed\tto\tthat\thost.\tLikewise, microservice-specific\tmetrics\twill\trarely\tbe\tapplicable\tor\tuseful\tto\tanyone\tbut the\tteam\tof\tdevelopers\tworking\ton\tthat\tparticular\tmicroservice.\tTeams\tshould monitor\tboth\ttypes\tof\tkey\tmetrics\t(that\tis,\tall\tmetrics\trelevant\tto\ttheir microservice),\tand\tany\tmetrics\trelevant\tto\tmultiple\tmicroservices\tshould\tbe monitored\tand\tshared\tbetween\tthe\tappropriate\tteams.\n\nThe\thost\tand\tinfrastructure\tmetrics\tthat\tshould\tbe\tmonitored\tfor\teach microservice\tare\tthe\tCPU\tutilized\tby\tthe\tmicroservice\ton\teach\thost,\tthe\tRAM\n\nutilized\tby\tthe\tmicroservice\ton\teach\thost,\tthe\tavailable\tthreads,\tthe microservice’s\topen\tfile\tdescriptors\t(FD),\tand\tthe\tnumber\tof\tdatabase connections\tthat\tthe\tmicroservice\thas\tto\tany\tdatabases\tit\tuses.\tMonitoring\tthese key\tmetrics\tshould\tbe\tdone\tin\tsuch\ta\tway\tthat\tthe\tstatus\tof\teach\tmetric\tis accompanied\tby\tinformation\tabout\tthe\tinfrastructure\tand\tthe\tmicroservice.\tThis means\tthat\tmonitoring\tshould\tbe\tgranular\tenough\tthat\tdevelopers\tcan\tknow\tthe status\tof\tthe\tkeys\tmetrics\tfor\ttheir\tmicroservice\ton\tany\tparticular\thost\tand\tacross all\tof\tthe\thosts\tthat\tit\truns\ton.\tFor\texample,\tdevelopers\tshould\tbe\table\tto\tknow how\tmuch\tCPU\ttheir\tmicroservice\tis\tusing\ton\tone\tparticular\thost\tand\thow\tmuch CPU\ttheir\tmicroservice\tis\tusing\tacross\tall\thosts\tit\truns\ton.\n\nMONITORING\tHOST-LEVEL\tMETRICS\tWHEN\tRESOURCES ARE\tABSTRACTED\n\nSome\tmicroservice\tecosystems\tmay\tuse\tcluster\tmanagement\tapplications\t(like\tMesos)\tin which\tthe\tresources\t(CPU,\tRAM,\tetc.)\tare\tabstracted\taway\tfrom\tthe\thost\tlevel.\tHost-level metrics\twon’t\tbe\tavailable\tin\tthe\tsame\tway\tto\tdevelopers\tin\tthese\tsituations,\tbut\tall\tkey metrics\tfor\tthe\tmicroservice\toverall\tshould\tstill\tbe\tmonitored\tby\tthe\tmicroservice\tteam.\n\nDetermining\tthe\tnecessary\tand\tsufficient\tkey\tmetrics\tat\tthe\tmicroservice\tlevel\tis a\tbit\tmore\tcomplicated\tbecause\tit\tcan\tdepend\ton\tthe\tparticular\tlanguage\tthat\tthe microservice\tis\twritten\tin.\tEach\tlanguage\tcomes\twith\tits\town\tspecial\tway\tof processing\ttasks,\tfor\texample,\tand\tthese\tlanguage-specific\tfeatures\tmust\tbe monitored\tclosely\tin\tthe\tmajority\tof\tcases.\tConsider\ta\tPython\tservice\tthat utilizes\tuwsgi\tworkers:\tthe\tnumber\tof\tuwsgi\tworkers\tis\ta\tnecessary\tkey\tmetric for\tproper\tmonitoring.\n\nIn\taddition\tto\tlanguage-specific\tkey\tmetrics,\twe\talso\tmust\tmonitor\tthe availability\tof\tthe\tservice,\tthe\tservice-level\tagreement\t(SLA)\tof\tthe\tservice, latency\t(of\tboth\tthe\tservice\tas\ta\twhole\tand\tits\tAPI\tendpoints),\tsuccess\tof\tAPI endpoints,\tresponses\tand\taverage\tresponse\ttimes\tof\tAPI\tendpoints,\tthe\tservices (clients)\tfrom\twhich\tAPI\trequests\toriginate\t(along\twith\twhich\tendpoints\tthey send\trequests\tto),\terrors\tand\texceptions\t(both\thandled\tand\tunhandled),\tand\tthe health\tand\tstatus\tof\tdependencies.\n\nImportantly,\tall\tkey\tmetrics\tshould\tbe\tmonitored\teverywhere\tthat\tthe\tapplication is\tdeployed.\tThis\tmeans\tthat\tevery\tstage\tof\tthe\tdeployment\tpipeline\tshould\tbe monitored.\tStaging\tmust\tbe\tclosely\tmonitored\tin\torder\tto\tcatch\tany\tproblems before\ta\tnew\tcandidate\tfor\tproduction\t(a\tnew\tbuild)\tis\tdeployed\tto\tservers running\tproduction\ttraffic.\tIt\talmost\tgoes\twithout\tsaying\tthat\tall\tdeployments\tto production\tservers\tshould\tbe\tmonitored\tcarefully,\tboth\tin\tthe\tcanary\tand production\tdeployment\tphases.\t(For\tmore\tinformation\ton\tdeployment\tpipelines, see\tChapter\t3,\tStability\tand\tReliability.)\tOnce\tthe\tkey\tmetrics\tfor\ta\tmicroservice have\tbeen\tidentified,\tthe\tnext\tstep\tis\tto\tcapture\tthe\tmetrics\temitted\tby\tyour service.\tCapture\tthem,\tand\tthen\tlog\tthem,\tgraph\tthem,\tand\talert\ton\tthem.\tWe’ll cover\teach\tof\tthese\tsteps\tin\tthe\tfollowing\tsections.\n\nSUMMARY\tOF\tKEY\tMETRICS\n\nHost\tand\tinfrastructure\tkey\tmetrics:\n\nCPU\n\nRAM\n\nThreads\n\nFile\tdescriptors\n\nDatabase\tconnections\n\nMicroservice\tkey\tmetrics:\n\nLanguage-specific\tmetrics\n\nAvailability\n\nSLA\n\nLatency\n\nEndpoint\tsuccess\n\nEndpoint\tresponses\n\nEndpoint\tresponse\ttimes\n\nClients\n\nErrors\tand\texceptions\n\nDependencies\n\nLogging Logging\tis\tthe\tfirst\tcomponent\tof\tproduction-ready\tmonitoring.\tIt\tbegins\tand belongs\tin\tthe\tcodebase\tof\teach\tmicroservice,\tnestled\tdeep\twithin\tthe\tcode\tof each\tservice,\tcapturing\tall\tof\tthe\tinformation\tnecessary\tto\tdescribe\tthe\tstate\tof the\tmicroservice.\tIn\tfact,\tdescribing\tthe\tstate\tof\tthe\tmicroservice\tat\tany\tgiven time\tin\tthe\trecent\tpast\tis\tthe\tultimate\tgoal\tof\tlogging.\n\nOne\tof\tthe\tbenefits\tof\tmicroservice\tarchitecture\tis\tthe\tfreedom\tit\tgives developers\tto\tdeploy\tnew\tfeatures\tand\tcode\tchanges\tfrequently,\tand\tone\tof\tthe consequences\tof\tthis\tnewfound\tdeveloper\tfreedom\tand\tincreased\tdevelopment velocity\tis\tthat\tthe\tmicroservice\tis\talways\tchanging.\tIn\tmost\tcases,\tthe\tservice will\tnot\tbe\tthe\tsame\tservice\tit\twas\t12\thours\tago,\tlet\talone\tseveral\tdays\tago,\tand reproducing\tany\tproblems\twill\tbe\timpossible.\tWhen\tfaced\twith\ta\tproblem,\toften the\tonly\tway\tto\tdetermine\tthe\troot\tcause\tof\tan\tincident\tor\toutage\tis\tto\tcomb through\tthe\tlogs,\tdiscover\tthe\tstate\tof\tthe\tmicroservice\tat\tthe\ttime\tof\tthe\toutage, and\tfigure\tout\twhy\tthe\tservice\tfailed\tin\tthat\tstate.\tLogging\tneeds\tto\tbe\tsuch\tthat developers\tcan\tdetermine\tfrom\tthe\tlogs\texactly\twhat\twent\twrong\tand\twhere things\tfell\tapart.\n\nLOGGING\tWITHOUT\tMICROSERVICE\tVERSIONING\n\nMicroservice\tversioning\tis\toften\tdiscouraged\tbecause\tit\tcan\tlead\tto\tother\t(client)\tservices pinning\tto\tspecific\tversions\tof\ta\tmicroservice\tthat\tmay\tnot\tbe\tthe\tbest\tor\tmost\tupdated\tversion of\tthe\tmicroservice.\tWithout\tversioning,\tdetermining\tthe\tstate\tof\ta\tmicroservice\twhen\ta\tfailure or\toutage\toccurred\tcan\tbe\tdifficult,\tbut\tthorough\tlogging\tcan\tprevent\tthis\tfrom\tbecoming\ta problem:\tif\tthe\tlogging\tis\tgood\tenough\tthat\tstate\tof\ta\tmicroservice\tat\tthe\ttime\tof\tan\toutage\tcan be\tsufficiently\tknown\tand\tunderstood,\tthe\tlack\tof\tversioning\tceases\tto\tbe\ta\thindrance\tto\tquick and\teffective\tmitigation\tand\tresolution.\n\nDetermining\tprecisely\twhat\tto\tlog\tis\tspecific\tto\teach\tmicroservice.\tThe\tbest guidance\ton\tdetermining\twhat\tneeds\tto\tbe\tlogged\tis,\tsomewhat\tunfortunately, necessarily\tvague:\tlog\twhatever\tinformation\tis\tessential\tto\tdescribing\tthe\tstate\tof the\tservice\tat\ta\tgiven\ttime.\tLuckily,\twe\tcan\tnarrow\tdown\twhich\tinformation\tis necessary\tby\trestricting\tour\tlogging\tto\twhatever\tcan\tbe\tcontained\tin\tthe\tcode\tof the\tservice.\tHost-level\tand\tinfrastructure-level\tinformation\twon’t\t(and shouldn’t)\tbe\tlogged\tby\tthe\tapplication\titself,\tbut\tby\tservices\tand\ttools\trunning the\tapplication\tplatform.\tSome\tmicroservice-level\tkey\tmetrics\tand\tinformation, like\thashed\tuser\tIDs\tand\trequest\tand\tresponse\tdetails\tcan\tand\tshould\tbe\tlocated in\tthe\tmicroservice’s\tlogs.\n\nThere\tare,\tof\tcourse,\tsome\tthings\tthat\tshould\tnever,\tever\tbe\tlogged.\tLogs\tshould never\tcontain\tidentifying\tinformation,\tsuch\tas\tnames\tof\tcustomers,\tSocial Security\tnumbers,\tand\tother\tprivate\tdata.\tThey\tshould\tnever\tcontain\tinformation that\tcould\tpresent\ta\tsecurity\trisk,\tsuch\tas\tpasswords,\taccess\tkeys,\tor\tsecrets.\tIn most\tcases,\teven\tseemingly\tinnocuous\tthings\tlike\tuser\tIDs\tand\tusernames should\tnot\tbe\tlogged\tunless\tencrypted.\n\nAt\ttimes,\tlogging\tat\tthe\tindividual\tmicroservice\tlevel\twill\tnot\tbe\tenough.\tAs we’ve\tseen\tthroughout\tthis\tbook,\tmicroservices\tdo\tnot\tlive\talone,\tbut\twithin complex\tchains\tof\tclients\tand\tdependencies\twithin\tthe\tmicroservice\tecosystem. While\tdevelopers\tcan\ttry\ttheir\tbest\tto\tlog\tand\tmonitor\teverything\timportant\tand relevant\tto\ttheir\tservice,\ttracking\tand\tlogging\trequests\tand\tresponses\tthroughout the\tentire\tclient\tand\tdependency\tchains\tfrom\tend-to-end\tcan\tilluminate important\tinformation\tabout\tthe\tsystem\tthat\twould\totherwise\tgo\tunknown\t(such as\ttotal\tlatency\tand\tavailability\tof\tthe\tstack).\tTo\tmake\tthis\tinformation accessible\tand\tvisible,\tbuilding\ta\tproduction-ready\tmicroservice\tecosystem requires\ttracing\teach\trequest\tthrough\tthe\tentire\tstack.\n\nThe\treader\tmight\thave\tnoticed\tat\tthis\tpoint\tthat\tit\tappears\tthat\ta\tlot\tof\n\nThe\treader\tmight\thave\tnoticed\tat\tthis\tpoint\tthat\tit\tappears\tthat\ta\tlot\tof information\tneeds\tto\tbe\tlogged.\tLogs\tare\tdata,\tand\tlogging\tis\texpensive:\tthey\tare expensive\tto\tstore,\tthey\tare\texpensive\tto\taccess,\tand\tboth\tstoring\tand\taccessing logs\tcomes\twith\tthe\tadditional\tcost\tassociated\twith\tmaking\texpensive\tcalls\tover the\tnetwork.\tThe\tcost\tof\tstoring\tlogs\tmay\tnot\tseem\tlike\tmuch\tfor\tan\tindividual microservice,\tbut\tif\tthe\tlogging\tneeds\tof\tall\tthe\tmicroservices\twithin\ta microservice\tecosystem\tare\tadded\ttogether,\tthe\tcost\tis\trather\thigh.\n\nLOGS\tAND\tDEBUGGING\n\nAvoid\tadding\tdebugging\tlogs\tin\tcode\tthat\twill\tbe\tdeployed\tto\tproduction\t—\tsuch\tlogs\tare very\tcostly.\tIf\tany\tlogs\tare\tadded\tspecifically\tfor\tthe\tpurpose\tof\tdebugging,\tdevelopers\tshould take\tgreat\tcare\tto\tensure\tthat\tany\tbranch\tor\tbuild\tcontaining\tthese\tadditional\tlogs\tdoes\tnot ever\ttouch\tproduction.\n\nLogging\tneeds\tto\tbe\tscalable,\tit\tneeds\tto\tbe\tavailable,\tand\tit\tneeds\tto\tbe\teasily accessible\tand\tsearchable.\tTo\tkeep\tthe\tcost\tof\tlogs\tdown\tand\tto\tensure scalability\tand\thigh\tavailability,\tit’s\toften\tnecessary\tto\timpose\tper-service logging\tquotas\talong\twith\tlimits\tand\tstandards\ton\twhat\tinformation\tcan\tbe logged,\thow\tmany\tlogs\teach\tmicroservice\tcan\tstore,\tand\thow\tlong\tthe\tlogs\twill be\tstored\tbefore\tbeing\tdeleted.\n\nDashboards Every\tmicroservice\tmust\thave\tat\tleast\tone\tdashboard\twhere\tall\tkey\tmetrics (such\tas\thardware\tutilization,\tdatabase\tconnections,\tavailability,\tlatency, responses,\tand\tthe\tstatus\tof\tAPI\tendpoints)\tare\tcollected\tand\tdisplayed.\tA dashboard\tis\ta\tgraphical\tdisplay\tthat\tis\tupdated\tin\treal\ttime\tto\treflect\tall\tthe\tmost important\tinformation\tabout\ta\tmicroservice.\tDashboards\tshould\tbe\teasily accessible,\tcentralized,\tand\tstandardized\tacross\tthe\tmicroservice\tecosystem.\n\nDashboards\tshould\tbe\teasy\tto\tinterpret\tso\tthat\tan\toutsider\tcan\tquickly\tdetermine the\thealth\tof\tthe\tmicroservice:\tanyone\tshould\tbe\table\tto\tlook\tat\tthe\tdashboard and\tknow\timmediately\twhether\tor\tnot\tthe\tmicroservice\tis\tworking\tcorrectly. This\trequires\tstriking\ta\tbalance\tbetween\toverloading\ta\tviewer\twith\tinformation (which\twould\trender\tthe\tdashboard\teffectively\tuseless)\tand\tnot\tdisplaying enough\tinformation\t(which\twould\talso\tmake\tthe\tdashboard\tuseless):\tonly\tthe necessary\tminimum\tof\tinformation\tabout\tkey\tmetrics\tshould\tbe\tdisplayed.\n\nA\tdashboard\tshould\talso\tserve\tas\tan\taccurate\treflection\tof\tthe\toverall\tquality\tof monitoring\tof\tthe\tentire\tmicroservice.\tAny\tkey\tmetric\tthat\tis\talerted\ton\tshould be\tincluded\tin\tthe\tdashboard\t(we\twill\tcover\tthis\tin\tthe\tnext\tsection):\tthe exclusion\tof\tany\tkey\tmetric\tin\tthe\tdashboard\twill\treflect\tpoor\tmonitoring\tof\tthe service,\twhile\tthe\tinclusion\tof\tmetrics\tthat\tare\tnot\tnecessary\twill\treflect\ta neglect\tof\talerting\t(and,\tconsequently,\tmonitoring)\tbest\tpractices.\n\nThere\tare\tseveral\texceptions\tto\tthe\trule\tagainst\tinclusion\tof\tnonkey\tmetrics.\tIn addition\tto\tkey\tmetrics,\tinformation\tabout\teach\tphase\tof\tthe\tdeployment\tpipeline should\tbe\tdisplayed,\tthough\tnot\tnecessarily\twithin\tthe\tsame\tdashboard. Developers\tworking\ton\tmicroservices\tthat\trequire\tmonitoring\ta\tlarge\tnumber\tof key\tmetrics\tmay\topt\tto\tset\tup\tseparate\tdashboards\tfor\teach\tdeployment\tphase (one\tfor\tstaging,\tone\tfor\tcanary,\tand\tone\tfor\tproduction)\tto\taccurately\treflect\tthe health\tof\tthe\tmicroservice\tat\teach\tdeployment\tphase:\tsince\tdifferent\tbuilds\twill be\trunning\ton\tthe\tdeployment\tphases\tsimultaneously,\taccurately\treflecting\tthe health\tof\tthe\tmicroservice\tin\ta\tdashboard\tmight\trequire\tapproaching\tdashboard design\twith\tthe\tgoal\tof\treflecting\tthe\thealth\tof\tthe\tmicroservice\tat\ta\tparticular deployment\tphase\t(treating\tthem\talmost\tas\tdifferent\tmicroservices,\tor\tat\tleast\tas different\tinstantiations\tof\ta\tmicroservice).\n\nDASHBOARDS\tAND\tOUTAGE\tDETECTION\n\nEven\tthough\tdashboards\tcan\tilluminate\tanomalies\tand\tnegative\ttrends\tof\ta\tmicroservice’s\tkey metrics,\tdevelopers\tshould\tnever\tneed\tto\twatch\ta\tmicroservice’s\tdashboard\tin\torder\tto\tdetect incidents\tand\toutages.\tDoing\tso\tis\tan\tanti-pattern\tthat\tleads\tto\tdeficiencies\tin\talerting\tand overall\tmonitoring.\n\nTo\tassist\tin\tdetermining\tproblems\tintroduced\tby\tnew\tdeployments,\tit\thelps\tto include\tinformation\tabout\twhen\ta\tdeployment\toccurred\tin\tthe\tdashboard.\tThe most\teffective\tand\tuseful\tway\tto\taccomplish\tthis\tis\tto\tmake\tsure\tthat deployment\ttimes\tare\tshown\twithin\tthe\tgraphs\tof\teach\tkey\tmetric.\tDoing\tso allows\tdevelopers\tto\tquickly\tcheck\tgraphs\tafter\teach\tdeployment\tto\tsee\tif\tany strange\tpatterns\temerge\tin\tany\tof\tthe\tkey\tmetrics.\n\nWell-designed\tdashboards\talso\tgive\tdevelopers\tan\teasy,\tvisual\tway\tto\tdetect anomalies\tand\tdetermine\talerting\tthresholds.\tVery\tslight\tor\tgradual\tchanges\tor disturbances\tin\tkey\tmetrics\trun\tthe\trisk\tof\tnot\tbeing\tcaught\tby\talerting,\tbut\ta careful\tlook\tat\tan\taccurate\tdashboard\tcan\tilluminate\tanomalies\tthat\twould otherwise\tgo\tundetected.\tAlerting\tthresholds,\twhich\twe\twill\tcover\tin\tthe\tnext section,\tare\tnotoriously\tdifficult\tto\tdetermine,\tbut\tcan\tbe\tset\tappropriately\twhen historical\tdata\ton\tthe\tdashboard\tis\texamined:\tdevelopers\tcan\tsee\tnormal\tpatterns in\tkey\tmetrics,\tview\tspikes\tin\tmetrics\tthat\toccurred\twith\toutages\t(or\tled\tto outages)\tin\tthe\tpast,\tand\tthen\tset\tthresholds\taccordingly.\n\nAlerting The\tthird\tcomponent\tof\tmonitoring\ta\tproduction-ready\tmicroservice\tis\treal-time alerting.\tThe\tdetection\tof\tfailures,\tas\twell\tas\tthe\tdetection\tof\tchanges\twithin\tkey metrics\tthat\tcould\tlead\tto\ta\tfailure,\tis\taccomplished\tthrough\talerting.\tTo\tensure this,\tall\tkey\tmetrics\t—\thost-level\tmetrics,\tinfrastructure\tmetrics,\tand microservice-specific\tmetrics\t—\tshould\tbe\talerted\ton,\twith\talerts\tset\tat\tvarious thresholds.\tEffective\tand\tactionable\talerting\tis\tessential\tto\tpreserving\tthe availability\tof\ta\tmicroservice\tand\tpreventing\tdowntime.\n\nSetting\tup\tEffective\tAlerting Alerts\tmust\tbe\tset\tup\tfor\tall\tkey\tmetrics.\tAny\tchange\tin\ta\tkey\tmetric\tat\tthe\thost level,\tinfrastructure\tlevel,\tor\tmicroservice\tlevel\tthat\tcould\tlead\tto\tan\toutage, cause\ta\tspike\tin\tlatency,\tor\tsomehow\tharm\tthe\tavailability\tof\tthe\tmicroservice should\ttrigger\tan\talert.\tImportantly,\talerts\tshould\talso\tbe\ttriggered\twhenever\ta key\tmetric\tis\tnot\tseen.\n\nAll\talerts\tshould\tbe\tuseful:\tthey\tshould\tbe\tdefined\tby\tgood,\tsignal-providing thresholds.\tThree\ttypes\tof\tthresholds\tshould\tbe\tset\tfor\teach\tkey\tmetric,\tand\thave both\tupper\tand\tlower\tbounds:\tnormal,\twarning,\tand\tcritical.\tNormal\tthresholds reflect\tthe\tusual,\tappropriate\tupper\tand\tlower\tbounds\tof\teach\tkey\tmetric\tand shouldn’t\tever\ttrigger\tan\talert.\tWarning\tthresholds\ton\teach\tkey\tmetric\twill trigger\talerts\twhen\tthere\tis\ta\tdeviation\tfrom\tthe\tnorm\tthat\tcould\tlead\tto\ta problem\twith\tthe\tmicroservice;\twarning\tthresholds\tshould\tbe\tset\tsuch\tthat\tthey will\ttrigger\talerts\tbefore\tany\tdeviations\tfrom\tthe\tnorm\tcause\tan\toutage\tor otherwise\tnegatively\taffect\tthe\tmicroservice.\tCritical\tthresholds\tshould\tbe\tset based\ton\twhich\tupper\tand\tlower\tbounds\ton\tkey\tmetrics\tactually\tcause\tan\toutage, cause\tlatency\tto\tspike,\tor\totherwise\thurt\ta\tmicroservice’s\tavailability.\tIn\tan\tideal world,\twarning\tthresholds\tshould\ttrigger\talerts\tthat\tlead\tto\tquick\tdetection, mitigation,\tand\tresolution\tbefore\tany\tcritical\tthresholds\tare\treached.\tIn\teach category,\tthresholds\tshould\tbe\thigh\tenough\tto\tavoid\tnoise,\tbut\tlow\tenough\tto catch\tany\tand\tall\treal\tproblems\twith\tkey\tmetrics.\n\nDETERMINING\tTHRESHOLDS\tEARLY\tIN\tTHE\tLIFECYCLE OF\tA\tMICROSERVICE\n\nThresholds\tfor\tkey\tmetrics\tcan\tbe\tvery\tdifficult\tto\tset\twithout\thistorical\tdata.\tAny\tthresholds set\tearly\tin\ta\tmicroservice’s\tlifecycle\trun\tthe\trisk\tof\teither\tbeing\tuseless\tor\ttriggering\ttoo many\talerts.\tTo\tdetermine\tthe\tappropriate\tthresholds\tfor\ta\tnew\tmicroservice\t(or\teven\tan\told one),\tdevelopers\tcan\trun\tload\ttesting\ton\tthe\tmicroservice\tto\tgauge\twhere\tthe\tthresholds\tshould lie.\tRunning\t“normal”\ttraffic\tloads\tthrough\tthe\tmicroservice\tcan\tdetermine\tthe\tnormal thresholds,\twhile\trunning\tlarger-than-expected\ttraffic\tloads\tcan\thelp\tdetermine\twarning\tand critical\tthresholds.\n\nAll\talerts\tneed\tto\tbe\tactionable.\tNonactionable\talerts\tare\tthose\tthat\tare\ttriggered and\tthen\tresolved\t(or\tignored)\tby\tthe\tdeveloper(s)\ton\tcall\tfor\tthe\tmicroservice because\tthey\tare\tnot\timportant,\tnot\trelevant,\tdo\tnot\tsignify\tthat\tanything\tis wrong\twith\tthe\tmicroservice,\tor\talert\ton\ta\tproblem\tthat\tcannot\tbe\tresolved\tby the\tdeveloper(s).\tAny\talert\tthat\tcannot\tbe\timmediately\tacted\ton\tby\tthe\ton-call developer(s)\tshould\tbe\tremoved\tfrom\tthe\tpool\tof\talerts,\treassigned\tto\tthe relevant\ton-call\trotation,\tor\t(if\tpossible)\tchanged\tso\tthat\tit\tbecomes\tactionable.\n\nSome\tof\tthe\tkey\tmicroservice\tmetrics\trun\tthe\trisk\tof\tbeing\tnonactionable.\tFor example,\talerting\ton\tthe\tavailability\tof\tdependencies\tcan\teasily\tlead\tto nonactionable\talerts\tif\tdependency\toutages,\tincreases\tin\tdependency\tlatency,\tor dependency\tdowntime\tdo\tnot\trequire\tany\taction\tto\tbe\ttaken\tby\ttheir\tclient(s).\tIf no\taction\tneeds\tto\tbe\ttaken,\tthen\tthe\tthresholds\tshould\tbe\tset\tappropriately,\tor\tin more\textreme\tcases,\tno\talerts\tshould\tbe\tset\ton\tdependencies\tat\tall.\tHowever,\tif any\taction\tat\tall\tshould\tbe\ttaken,\teven\tsomething\tas\tsmall\tas\tcontacting\tthe dependency’s\ton-call\tor\tdevelopment\tteam\tin\torder\tto\talert\tthem\tto\tthe\tissue and/or\tcoordinate\tmitigation\tand\tresolution,\tthen\tan\talert\tshould\tbe\ttriggered.\n\nHandling\tAlerts Once\tan\talert\thas\tbeen\ttriggered,\tit\tneeds\tto\tbe\thandled\tquickly\tand\teffectively. The\troot\tcause\tof\tthe\ttriggered\talert\tshould\tbe\tmitigated\tand\tresolved.\tTo quickly\tand\teffectively\thandle\talerts,\tthere\tare\tseveral\tsteps\tthat\tcan\tbe\ttaken.\n\nThe\tfirst\tstep\tis\tto\tcreate\tstep-by-step\tinstructions\tfor\teach\tknown\talert\tthat detail\thow\tto\ttriage,\tmitigate,\tand\tresolve\teach\talert.\tThese\tstep-by-step\talert instructions\tshould\tlive\twithin\tan\ton-call\trunbook\twithin\tthe\tcentralized documentation\tof\teach\tmicroservice,\tmaking\tthem\teasily\taccessible\tto\tanyone who\tis\ton\tcall\tfor\tthe\tmicroservice\t(more\tdetails\ton\trunbooks\tcan\tbe\tfound\tin Chapter\t7,\tDocumentation\tand\tUnderstanding).\tRunbooks\tare\tcrucial\tto\tthe monitoring\tof\ta\tmicroservice:\tthey\tallow\tany\ton-call\tdeveloper\tto\thave\tstep-by- step\tinstructions\ton\thow\tto\tmitigate\tand\tresolve\tthe\troot\tcauses\tof\teach\talert. Since\teach\talert\tis\ttied\tto\ta\tdeviation\tin\ta\tkey\tmetric,\trunbooks\tcan\tbe\twritten\tso that\tthey\taddress\teach\tkey\tmetric,\tknown\tcauses\tof\tdeviations\tfrom\tthe\tnorm, and\thow\tto\tgo\tabout\tdebugging\tthe\tproblem.\n\nTwo\ttypes\tof\ton-call\trunbooks\tshould\tbe\tcreated.\tThe\tfirst\tare\trunbooks\tfor host-level\tand\tinfrastructure-level\talerts\tthat\tshould\tbe\tshared\tbetween\tthe\twhole engineering\torganization\t—\tthese\tshould\tbe\twritten\tfor\tevery\tkey\thost-level\tand infrastructure-level\tmetric.\tThe\tsecond\tare\ton-call\trunbooks\tfor\tspecific microservices\tthat\thave\tstep-by-step\tinstructions\tregarding\tmicroservice-specific alerts\ttriggered\tby\tchanges\tin\tkey\tmetrics;\tfor\texample,\ta\tspike\tin\tlatency\tshould trigger\tan\talert,\tand\tthere\tshould\tbe\tstep-by-step\tinstructions\tin\tthe\ton-call runbook\tthat\tclearly\tdocument\thow\tto\tdebug,\tmitigate,\tand\tresolve\tspikes\tin\tthe microservice’s\tlatency.\n\nThe\tsecond\tstep\tis\tto\tidentify\talerting\tanti-patterns.\tIf\tthe\tmicroservice\ton-call rotation\tis\toverwhelmed\tby\talerts\tyet\tthe\tmicroservice\tappears\tto\twork\tas expected,\tthen\tany\talerts\tthat\tare\tseen\tmore\tthan\tonce\tbut\tthat\tcan\tbe\teasily mitigated\tand/or\tresolved\tshould\tbe\tautomated\taway.\tThat\tis,\tbuild\tthe mitigation\tand/or\tresolution\tsteps\tinto\tthe\tmicroservice\titself.\tThis\tholds\tfor every\talert,\tand\twriting\tstep-by-step\tinstructions\tfor\talerts\twithin\ton-call runbooks\tallows\texecuting\ton\tthis\tstrategy\tto\tbe\trather\teffective.\tIn\tfact,\tany alert\tthat,\tonce\ttriggered,\trequires\ta\tsimple\tset\tof\tsteps\tto\tbe\ttaken\tin\torder\tto\tbe mitigated\tand\tresolved,\tcan\tbe\teasily\tautomated\taway.\tOnce\tthis\tlevel\tof production-ready\tmonitoring\thas\tbeen\testablished,\ta\tmicroservice\tshould\tnever experience\tthe\tsame\texact\tproblem\ttwice.\n\nOn-Call\tRotations In\ta\tmicroservice\tecosystem,\tthe\tdevelopment\tteams\tthemselves\tare\tresponsible for\tthe\tavailability\tof\ttheir\tmicroservices.\tWhere\tmonitoring\tis\tconcerned,\tthis means\tthat\tdevelopers\tneed\tto\tbe\ton\tcall\tfor\ttheir\town\tmicroservices.\tThe\tgoal of\teach\tdeveloper\ton-call\tfor\ta\tmicroservice\tneeds\tto\tbe\tclear:\tthey\tare\tto\tdetect, mitigate,\tand\tresolve\tany\tissue\tthat\tarises\twith\tthe\tmicroservice\tduring\ttheir\ton call\tshift\tbefore\tthe\tissue\tcauses\tan\toutage\tfor\ttheir\tmicroservice\tor\timpacts\tthe business\titself.\n\nIn\tsome\tlarger\tengineering\torganizations,\tsite\treliability\tengineers,\tDevOps,\tor other\toperations\tengineers\tmay\ttake\ton\tthe\tresponsibility\tfor\tmonitoring\tand\ton call,\tbut\tthis\trequires\teach\tmicroservice\tto\tbe\trelatively\tstable\tand\treliable\tbefore the\ton-call\tresponsibilities\tcan\tbe\thanded\toff\tto\tanother\tteam.\tIn\tmost microservice\tecosystems,\tmicroservices\trarely\treach\tthis\thigh\tlevel\tof\tstability because,\tas\twe’ve\tseen\tthroughout\tthe\tprevious\tchapters,\tmicroservices\tare constantly\tchanging.\tIn\ta\tmicroservice\tecosystem,\tdevelopers\tneed\tto\tbear\tthe responsibility\tof\tmonitoring\tthe\tcode\tthat\tthey\tdeploy.\n\nDesigning\tgood\ton-call\trotations\tis\tcrucial\tand\trequires\tthe\tinvolvement\tof\tthe entire\tteam.\tTo\tprevent\tburnout,\ton-call\trotations\tshould\tbe\tboth\tbrief\tand shared:\tno\tfewer\tthan\ttwo\tdevelopers\tshould\tever\tbe\ton\tcall\tat\tone\ttime,\tand\ton- call\tshifts\tshould\tlast\tno\tlonger\tthan\tone\tweek\tand\tbe\tspaced\tno\tmore\tfrequently than\tone\tmonth\tapart.\n\nThe\ton-call\trotations\tof\teach\tmicroservice\tshould\tbe\tinternally\tpublicized\tand easily\taccessible.\tIf\ta\tmicroservice\tteam\tis\texperiencing\tissues\twith\tone\tof\ttheir dependencies,\tthey\tshould\tbe\table\tto\ttrack\tdown\tthe\ton-call\tengineers\tfor\tthe microservice\tand\tcontact\tthem\tvery\tquickly.\tHosting\tthis\tinformation\tin\ta centralized\tplace\thelps\tto\tmake\tdevelopers\tmore\teffective\tin\ttriaging\tproblems and\tpreventing\toutages.\n\nDeveloping\tstandardized\ton-call\tprocedures\tacross\tan\tengineering\torganization will\tgo\ta\tlong\tway\ttoward\tbuilding\ta\tsustainable\tmicroservice\tecosystem. Developers\tshould\tbe\ttrained\tabout\thow\tto\tapproach\ttheir\ton-call\tshifts,\tbe\tmade aware\tof\ton-call\tbest\tpractices,\tand\tbe\tramped\tup\tfor\tjoining\tthe\ton-call\trotation very\tquickly.\tStandardizing\tthis\tprocess\tand\tmaking\ton-call\texpectations completely\tclear\tto\tevery\tdeveloper\twill\tprevent\tthe\tburnout,\tconfusion,\tand frustration\tthat\tusually\taccompanies\tany\tmention\tof\tjoining\tan\ton-call\trotation.\n\nEvaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tmonitoring,\tuse\tthe\tfollowing\tlist\tof questions\tto\tassess\tthe\tproduction-readiness\tof\tyour\tmicroservice(s)\tand microservice\tecosystem.\tThe\tquestions\tare\torganized\tby\ttopic,\tand\tcorrespond\tto the\tsections\twithin\tthis\tchapter.\n\nKey\tMetrics\n\nWhat\tare\tthis\tmicroservice’s\tkey\tmetrics?\n\nWhat\tare\tthe\thost\tand\tinfrastructure\tmetrics?\n\nWhat\tare\tthe\tmicroservice-level\tmetrics?\n\nAre\tall\tthe\tmicroservice’s\tkey\tmetrics\tmonitored?\n\nLogging\n\nWhat\tinformation\tdoes\tthis\tmicroservice\tneed\tto\tlog?\n\nDoes\tthis\tmicroservice\tlog\tall\timportant\trequests?\n\nDoes\tthe\tlogging\taccurately\treflect\tthe\tstate\tof\tthe\tmicroservice\tat\tany given\ttime?\n\nIs\tthis\tlogging\tsolution\tcost-effective\tand\tscalable?\n\nDashboards\n\nDoes\tthis\tmicroservice\thave\ta\tdashboard?\n\nIs\tthe\tdashboard\teasy\tto\tinterpret?\tAre\tall\tkey\tmetrics\tdisplayed\ton\tthe dashboard?\n\nCan\tI\tdetermine\twhether\tor\tnot\tthis\tmicroservice\tis\tworking\tcorrectly\tby looking\tat\tthe\tdashboard?\n\nAlerting\n\nIs\tthere\tan\talert\tfor\tevery\tkey\tmetric?\n\nAre\tall\talerts\tdefined\tby\tgood,\tsignal-providing\tthresholds?\n\nAre\talert\tthresholds\tset\tappropriately\tso\tthat\talerts\twill\tfire\tbefore\tan\toutage occurs?\n\nAre\tall\talerts\tactionable?\n\nAre\tthere\tstep-by-step\ttriage,\tmitigation,\tand\tresolution\tinstructions\tfor each\talert\tin\tthe\ton-call\trunbook?\n\nOn-Call\tRotations\n\nIs\tthere\ta\tdedicated\ton-call\trotation\tresponsible\tfor\tmonitoring\tthis microservice?\n\nIs\tthere\ta\tminimum\tof\ttwo\tdevelopers\ton\teach\ton-call\tshift?\n\nAre\tthere\tstandardized\ton-call\tprocedures\tacross\tthe\tengineering organization?\n\nChapter\t7.\tDocumentation\tand Understanding\n\nA\tproduction-ready\tmicroservice\tis\tdocumented\tand\tunderstood.\tDocumentation and\torganizational\tunderstanding\tincrease\tdeveloper\tvelocity\twhile\tmitigating two\tof\tthe\tmost\tsignificant\ttrade-offs\tthat\tcome\twith\tthe\tadoption\tof microservice\tarchitecture:\torganizational\tsprawl\tand\ttechnical\tdebt.\tThis\tchapter explores\tthe\tessential\telements\tof\tdocumenting\tand\tunderstanding\ta microservice,\tincluding\thow\tto\tbuild\tcomprehensive\tand\tuseful\tdocumentation, how\tto\tincrease\tmicroservice\tunderstanding\tat\tevery\tlevel\tof\tthe\tmicroservice ecosystem,\tand\thow\tto\timplement\tproduction-readiness\tthroughout\tan engineering\torganization.\n\nPrinciples\tof\tMicroservice\tDocumentation\tand Understanding I’m\tgoing\tto\topen\tthis\tfinal\tchapter\ton\tthe\tlast\tprinciple\tof\tmicroservice standardization\twith\ta\tfamous\tstory\tfrom\tRussian\tliterature.\tWhile\tit\tmay\tseem rather\tunorthodox\tto\tquote\tDostoyevsky\tin\ta\tbook\ton\tsoftware\tarchitecture,\tthe character\tGrushenka\tin\tThe\tBrothers\tKaramazov\tcaptures\tso\tperfectly\twhat\tI believe\tto\tbe\tthe\tkey\tof\tmicroservice\tdocumentation\tand\tunderstanding:\t“Just know\tone\tthing,\tRakitka,\tI\tmay\tbe\twicked,\tbut\tstill\tI\tgave\tan\tonion.”\n\nMy\tfavorite\tpart\tof\tDostoyevsky’s\tbrilliant\tnovel\tis\ta\ttale\ttold\tby\tthe\tcharacter Grushenka\tabout\tan\told\twoman\tand\tan\tonion.\tThe\ttale\tgoes\tsomething\tlike\tthis: there\twas\tonce\tan\told,\tbitter\twoman\twho\twas\tvery\tselfish\tand\theartless.\tOne day,\tshe\thappened\tupon\ta\tbeggar,\tand\tfor\tsome\treason,\tfelt\ta\tgreat\tdeal\tof\tpity. She\twanted\tto\tgive\tsomething\tto\tthe\tbeggar,\tbut\tall\tshe\thad\twas\tan\tonion,\tso\tshe gave\ther\tonion\tto\tthe\tbeggar.\tThe\told\twoman\teventually\tdied,\tand\tthanks\tto\ther bitterness\tand\tcoldness\tof\theart,\tended\tup\tin\thell.\tAfter\tshe\thad\tsuffered\tfor quite\tsome\ttime,\tan\tangel\tcame\tto\tsave\ther,\tfor\tGod\thad\tremembered\ther\tone selfless\tdeed\tin\tlife,\tand\twanted\tto\textend\tthe\tsame\tkindness\tin\treturn.\tThe\tangel reached\tout\tto\ther\twith\tan\tonion\tin\this\thand.\tThe\told\twoman\tgrabbed\tthe\tonion, but\tto\ther\tdismay,\tthe\tother\tsinners\taround\ther\treached\tfor\tthe\tonion\ttoo.\tHer cold,\tbitter\tnature\tkicked\tin,\tand\tshe\ttried\tto\tfight\tthem\toff,\tnot\twanting\tany\tof them\tto\thave\tany\tpiece\tof\tthe\tonion,\tand\tsadly,\tas\tshe\ttried\tto\tclaw\tthe\tonion away\tfrom\tthem,\tthe\tonion\tsplit\tinto\tmany\tlayers\tand\tshe\tand\tthe\tother\tsinners fell\tback\tinto\thell.\n\nIt’s\tnot\tthe\tmost\theartwarming\ttale,\tbut\tthere’s\ta\tmoral\tto\tGrushenka’s\tstory\tthat I\thave\tfound\tremarkably\tapplicable\tto\tthe\tpractice\tof\tmicroservice documentation:\talways\tgive\tan\tonion.\n\nThe\timportance\tof\tthorough,\tupdated\tdocumentation\tfor\tevery\tmicroservice cannot\tbe\temphasized\tenough.\tAsk\tdevelopers\tworking\tin\ta\tmicroservice ecosystem\twhat\ttheir\tmain\tconcerns\tare,\tand\tthey’ll\trattle\toff\ta\tlist\tof\tfeatures still\tto\tbe\timplemented,\tbugs\tto\tbe\tfixed,\tdependencies\tthat\tare\tcausing\ttrouble, and\tthings\tthat\tthey\tdon’t\tunderstand\tabout\ttheir\town\tservice\tand\tthe dependencies\tthey\trely\ton.\tWhen\tasked\tto\tgo\tinto\tgreater\tdetail\tabout\tthe\tlatter two\tthings,\tthey\ttend\tto\tgive\tsimilar\tanswers:\tthey\tdon’t\tunderstand\thow\tit works,\tit’s\ta\tblack\tbox,\tand\tthe\tdocumentation\tis\tcompletely\tuseless.\n\nPoor\tdocumentation\tof\tdependencies\tand\tinternal\ttools\tslows\tdevelopers\tdown",
      "page_number": 193
    },
    {
      "number": 7,
      "title": "Documentation\tand Understanding",
      "start_page": 217,
      "end_page": 342,
      "detection_method": "regex_chapter_title",
      "content": "Poor\tdocumentation\tof\tdependencies\tand\tinternal\ttools\tslows\tdevelopers\tdown and\taffects\ttheir\tability\tto\tmake\ttheir\town\tservices\tproduction-ready.\tIt\tprevents them\tfrom\tusing\tdependencies\tand\tinternal\ttools\tcorrectly\tand\twastes\tcountless engineering\thours,\tbecause\tsometimes\tthe\tonly\tway\tto\tfigure\tout\twhat\ta\tservice or\ttool\tdoes\t(without\tproper\tdocumentation)\tis\tto\treverse-engineer\tit\tuntil\tyou understand\thow\tit\tworks.\n\nPoor\tdocumentation\tof\ta\tservice\talso\thurts\tthe\tproductivity\tof\tthe\tdevelopers who\tare\tcontributing\tto\tit.\tFor\texample,\tthe\tlack\tof\trunbooks\tfor\tan\ton-call\tshift means\twhoever\tis\ton\tcall\twill\tneed\tto\tfigure\tout\teach\tproblem\tfrom\tsquare\tone every\tsingle\ttime.\tWithout\tan\tonboarding\tguide,\teach\tnew\tdeveloper\tworking\ton the\tservice\twill\tneed\tto\tstart\tfrom\tscratch\tto\tunderstand\thow\tthe\tservice\tworks. Single\tpoints\tof\tfailure\tand\tproblems\twith\tthe\tservice\twill\tgo\tunnoticed\tuntil they\tcause\tan\toutage.\tNew\tfeatures\tadded\tto\tthe\tservice\twill\toften\tmiss\tthe\tbig picture\tof\thow\tthe\tservice\tactually\tworks.\n\nThe\tgoal\tof\tgood,\tproduction-ready\tdocumentation\tis\tto\tcreate\tand\tmaintain\ta centralized\trepository\tof\tknowledge\tabout\tthe\tservice.\tSharing\tthat\tknowledge has\ttwo\tcomponents:\tthe\tbare\tfacts\tabout\tthe\tservice,\tand\torganizational understanding\tof\twhat\tthe\tservice\tdoes\tand\twhere\tit\tfits\tinto\tthe\torganization\tas a\twhole.\tThe\tproblem\tof\tpoor\tdocumentation\tcan\tthen\tbe\tdivided\tinto\ttwo subproblems:\tlack\tof\tdocumentation\t(the\tfacts)\tand\tlack\tof\tunderstanding. Solving\tthese\ttwo\tsubproblems\trequires\tstandardizing\tdocumentation\tfor\tevery microservice\tand\tputting\torganizational\tstructures\tinto\tplace\tfor\tsharing microservice\tunderstanding.\n\nGrushenka’s\ttale\tis\tthe\tgolden\trule\tof\tmicroservice\tdocumentation:\talways\tgive an\tonion.\tGive\tan\tonion\tfor\tyour\tsake,\tfor\tthe\tsake\tof\tfellow\tdevelopers\tworking on\tyour\tservice,\tand\tfor\tthe\tsake\tof\tthe\tdevelopers\twhose\tservices\tdepend\ton yours.\n\nA\tPRODUCTION-READY\tSERVICE\tIS\tDOCUMENTED\tAND\tUNDERSTOOD\n\nIt\thas\tcomprehensive\tdocumentation.\n\nIts\tdocumentation\tis\tupdated\tregularly.\n\nIts\tdocumentation\tcontains\ta\tdescription\tof\tthe\tmicroservice;\tan\tarchitecture\tdiagram;\tcontact\tand\n\non-call\tinformation;\tlinks\tto\timportant\tinformation;\tan\tonboarding\tand\tdevelopment\tguide;\n\ninformation\tabout\tthe\tservice’s\trequest\tflow(s),\tendpoints,\tand\tdependencies;\tan\ton-call\trunbook;\n\nand\tanswers\tto\tfrequently\tasked\tquestions.\n\nIt\tis\twell\tunderstood\tat\tthe\tdeveloper,\tteam,\tand\torganizational\tlevels.\n\nIt\tis\theld\tto\ta\tset\tof\tproduction-readiness\tstandards\tand\tmeets\tthe\tassociated\trequirements.\n\nIts\tarchitecture\tis\treviewed\tand\taudited\tfrequently.\n\nMicroservice\tDocumentation The\tdocumentation\tfor\tall\tmicroservices\tin\tan\tengineering\torganization\tshould be\tstored\tin\ta\tcentralized,\tshared,\tand\teasily\taccessible\tplace.\tAny\tdeveloper\ton any\tteam\tshould\tbe\table\tto\tfind\tthe\tdocumentation\tfor\tevery\tmicroservice without\tany\tdifficulty.\tAn\tinternal\twebsite\tcontaining\tthe\tdocumentation\tfor\tall microservices\tand\tinternal\ttools\ttends\tto\tbe\tthe\tbest\tmedium\tfor\tthis.\n\nREADMES\tAND\tCODE\tCOMMENTS\tARE\tNOT DOCUMENTATION\n\nMany\tdevelopers\tlimit\tthe\tdocumentation\tof\ttheir\tmicroservices\tto\ta\tREADME\tfile\tin\ttheir repository\tor\tto\tcomments\tscattered\tthroughout\tthe\tcode.\tWhile\thaving\ta\tREADME\tis essential,\tand\tall\tmicroservice\tcode\tshould\tcontain\tappropriate\tcomments,\tthis\tis\tnot production-ready\tdocumentation\tand\trequires\tthat\tdevelopers\tcheck\tout\tand\tsearch\tthrough\tthe code.\tProper\tdocumentation\tis\tstored\tin\ta\tcentralized\tplace\t(like\ta\twebsite)\twhere\tthe documentation\tfor\tall\tmicroservices\tin\tthe\tengineering\torganization\tlives.\n\nThe\tdocumentation\tshould\tbe\tupdated\tregularly.\tAny\ttime\ta\tsignificant\tchange is\tmade\tto\tthe\tservice,\tthe\tdocumentation\tshould\tbe\tupdated.\tFor\texample,\tif\ta new\tAPI\tendpoint\tis\tadded,\tinformation\tabout\tthe\tendpoint\tmust\tbe\tadded\tto\tthe documentation\tas\twell.\tIf\ta\tnew\talert\tis\tadded,\tthen\tstep-by-step\tinstructions\ton how\tto\ttriage,\tmitigate,\tand\tresolve\tthe\talert\tshould\talso\tbe\tadded\tto\tthe service’s\ton-call\trunbook.\tIf\ta\tnew\tdependency\tis\tadded,\tthen\tinformation\tabout that\tdependency\tshould\tbe\tadded\tto\tthe\tdocumentation.\tAlways\tgive\tan\tonion.\n\nThe\tbest\tway\tto\taccomplish\tthis\tis\tto\tmake\tthe\tprocess\tof\tupdating documentation\tpart\tof\tthe\tdevelopment\tworkflow.\tIf\tupdating\tdocumentation\tis seen\tas\ta\tseparate\ttask\taside\tfrom\t(and\tsecondary\tto)\tdevelopment,\tthen\tit\twill never\tget\tdone\tand\twill\tbecome\tpart\tof\tthe\ttechnical\tdebt\tof\tthe\tservice.\tTo reduce\ttechnical\tdebt,\tdevelopers\tshould\tbe\tencouraged\t(or,\tif\tneed\tbe,\trequired) to\taccompany\tevery\tsignificant\tcode\tchange\twith\tan\tupdate\tto\tthe documentation.\n\nMAKE\tUPDATING\tDOCUMENTATION\tPART\tOF\tTHE DEVELOPMENT\tCYCLE\n\nIf\tupdating\tand\timproving\tdocumentation\tis\tviewed\tas\tsecondary\tto\twriting\tcode,\tit\twill\toften be\tpushed\toff\tand\tbecome\tpart\tof\tthe\ttechnical\tdebt\tof\tthe\tservice.\tTo\tavoid\tthis,\tmake documentation\tupdates\tand\timprovements\ta\trequired\tpart\tof\tthe\tdevelopment\tcycle\tof\tthe service.\n\nDocumentation\tshould\tbe\tboth\tcomprehensive\tand\tuseful.\tIt\tshould\tcontain\tall of\tthe\trelevant\tand\timportant\tfacts\tabout\tthe\tservice.\tAfter\treading\tthrough\tthe documentation,\ta\tdeveloper\tshould\tknow\thow\tto\tdevelop\tand\tcontribute\tto\tthe service;\tthe\tarchitecture\tof\tthe\tservice;\tthe\tcontact\tand\ton-call\tinformation\tfor the\tservice;\thow\tthe\tservice\tworks\t(request\tflows,\tendpoints,\tdependencies, etc.);\thow\tto\ttriage,\tmitigate,\tand\tfix\tincidents\tand\toutages\tas\twell\tas\tresolve alerts\tgenerated\tby\tthe\tservice;\tand\tanswers\tto\tfrequently\tasked\tquestions\tabout the\tservice.\n\nMost\timportantly,\tdocumentation\tshould\tbe\twritten\tclearly\tand\tshould\tbe\teasy\tto understand.\tJargon-heavy\tdocumentation\tis\tuseless,\tdocumentation\tthat\tis\toverly technical\tand\tdoesn’t\texplain\tthings\tthat\tmay\tbe\tunique\tto\tthe\tservice\tis\talso useless,\tas\tis\tdocumentation\tthat\tdoesn’t\tgo\tinto\tany\tsignificant\tdetail\tat\tall.\tThe goal\tin\twriting\tgood,\tclean,\tand\tclear\tdocumentation\tis\tto\twrite\tit\tso\tthat\tit\tcan be\tunderstood\tby\tany\tdeveloper,\tmanager,\tproduct\tmanager,\tor\texecutive\twithin the\tcompany.\n\nLet’s\tdive\ta\tlittle\tbit\tdeeper\tinto\teach\tof\tthe\telements\tof\tproduction-ready microservice\tdocumentation.\n\nDescription Each\tmicroservice’s\tdocumentation\tshould\tbegin\twith\ta\tdescription\tof\tthe service.\tIt\tshould\tbe\tshort,\tsweet,\tand\tto\tthe\tpoint.\tFor\texample,\tif\tthere\tis\ta microservice\tcalled\treceipt-sender\twhose\tpurpose\tis\tto\tsend\ta\treceipt\tafter\ta customer\tcompletes\tan\torder,\tthe\tdescription\tshould\tread:\n\nDescription: After\ta\tcustomer\tplaces\tan\torder,\treceipt-sender\tsends\ta\treceipt\tto\tthe customer\tvia\temail.\n\nThis\tis\tessential\tbecause\tit\tensures\tthat\tanyone\twho\tfinds\tthe\tdocumentation\twill know\twhat\trole\tthe\tmicroservice\tplays\tin\tthe\tmicroservice\tecosystem.\n\nArchitecture\tDiagram The\tdescription\tof\tthe\tservice\tshould\tbe\tfollowed\tby\tan\tarchitecture\tdiagram. This\tdiagram\tshould\tdetail\tthe\tarchitecture\tof\tthe\tservice,\tincluding\tits components,\tits\tendpoints,\tthe\trequest\tflow,\tits\tdependencies\t(both\tupstream\tand downstream),\tand\tinformation\tabout\tany\tdatabases\tor\tcaches.\tSee\tan\texample architecture\tdiagram\tin\tFigure\t7-1.\n\nArchitecture\tdiagrams\tare\tessential\tfor\tseveral\treasons.\tIt’s\tnearly\timpossible\tto understand\thow\tand\twhy\ta\tmicroservice\tworks\tjust\tby\treading\tthrough\tthe\tcode, and\tso\ta\twell-designed\tarchitecture\tdiagram\tis\tan\teasily\tunderstandable\tvisual description\tand\tsummary\tof\tthe\tmicroservice.\tThese\tdiagrams\talso\taid developers\tin\tadding\tnew\tfeatures\tby\tabstracting\taway\tthe\tinner\tworkings\tof\tthe service\tso\tthat\tdevelopers\tcan\tsee\twhere\tand\thow\tnew\tfeatures\twill\t(or\twill\tnot) fit.\tMost\timportantly,\tthey\tilluminate\tissues\tand\tproblems\twith\tthe\tservice\tthat would\tgo\tunnoticed\twithout\ta\tcomplete\tvisual\trepresentation\tof\tits\tarchitecture: it’s\tdifficult\tto\tdiscover\ta\tservice’s\tpoints\tof\tfailure\tby\tcombing\tthrough\tlines\tof code,\tbut\tthey\ttend\tto\tstick\tout\tlike\tsore\tthumbs\tin\tan\taccurate\tarchitecture diagram.\n\nFigure\t7-1.\tExample\tmicroservice\tarchitecture\tdiagram\n\nContact\tand\tOn-Call\tInformation Chances\tare,\tanyone\tlooking\tat\ta\tservice’s\tdocumentation\twill\teither\tbe someone\ton\tthe\tservice\tteam,\tor\tsomeone\ton\ta\tdifferent\tteam\twho\tis experiencing\ttrouble\twith\tthe\tservice\tor\twants\tto\tknow\thow\tthe\tservice\tworks. For\tdevelopers\tin\tthe\tsecond\tgroup,\thaving\taccess\tto\tinformation\tabout\tthe\tteam is\tboth\tuseful\tand\tnecessary,\tand\tso\tseveral\timportant\tfacts\tshould\tbe\tincluded\tin a\tcontact\tand\ton-call\tinformation\tsection\twithin\tthe\tdocumentation.\n\nThis\tsection\tshould\tinclude\tthe\tnames,\tpositions,\tand\tcontact\tinformation\tof everyone\ton\tthe\tteam\t(including\tindividual\tcontributors,\tmanagers,\tand program/product\tmanagers).\tThis\tmakes\tit\teasy\tfor\tdevelopers\ton\tother\tteams\tto quickly\tdetermine\twho\tthey\tshould\tcontact\tif\tthey\texperience\ta\tproblem\twith\tthe service\tor\thave\ta\tquestion\tabout\tit.\tThis\tinformation\tis\tuseful,\tfor\texample,\twhen a\tdeveloper\tis\texperiencing\tproblems\twith\tone\tof\ttheir\tdependencies:\tknowing who\tto\tcontact\tand\twhat\ttheir\trole\tis\ton\tthe\tteam\tmakes\tcross-team communication\teasy\tand\tefficient.\n\nAdding\tinformation\tabout\tthe\ton-call\trotation\t(and\tkeeping\tit\tupdated\tso\tthat\tit reflects\twho\tis\ton\tcall\tfor\tthe\tservice\tat\tany\tgiven\ttime)\twill\tensure\tthat\tpeople will\tknow\texactly\twho\tto\tcontact\tfor\tgeneral\tproblems\tor\temergencies:\tthe engineer\twho\tis\ton\tcall\tfor\tthe\tservice.\n\nLinks Documentation\tneeds\tto\tbe\ta\tcentralized\tresource\tfor\tall\tthe\tinformation\tabout\ta microservice.\tIn\torder\tfor\tthis\tto\tbe\ttrue,\tthe\tdocumentation\tneeds\tto\tcontain links\tto\tthe\trepository\t(so\tthat\tdevelopers\tcan\teasily\tcheck\tout\tthe\tcode),\ta\tlink to\tthe\tdashboard,\ta\tlink\tto\tthe\toriginal\tRFC\tfor\tthe\tmicroservice,\tand\ta\tlink\tto the\tmost\trecent\tarchitecture\treview\tslides.\tAny\textra\tinformation\tabout\tother microservices,\ttechnologies\tused\tby\tthe\tmicroservice,\tetc.,\tthat\tmay\tbe\tuseful\tto the\tdeveloper\tshould\tbe\tincluded\tin\ta\tlinks\tsection\tof\tthe\tdocumentation.\n\nOnboarding\tand\tDevelopment\tGuide The\tpurpose\tof\tan\tonboarding\tand\tdevelopment\tsection\tis\tto\tmake\tit\teasy\tfor\ta new\tdeveloper\tto\tonboard\tto\tthe\tteam,\tbegin\tcontributing\tcode,\tadd\tfeatures\tto the\tmicroservice,\tand\tintroduce\tnew\tchanges\tinto\tthe\tdeployment\tpipeline.\n\nThe\tfirst\tpart\tof\tthis\tsection\tshould\tbe\ta\tstep-by-step\tguide\tto\tsetting\tup\tthe service.\tIt\tshould\twalk\ta\tdeveloper\tthrough\tchecking\tout\tthe\tcode,\tsetting\tup\tthe environment,\tstarting\tthe\tservice,\tand\tverifying\tthat\tthe\tservice\tis\tworking correctly\t(including\tall\tcommands\tor\tscripts\tthat\tneed\tto\tbe\trun\tin\torder\tto accomplish\tthis).\n\nThe\tsecond\tpart\tshould\tguide\tthe\tdeveloper\tthrough\tthe\tdevelopment\tcycle\tand deployment\tpipeline\tof\tthe\tservice\t(details\tof\ta\tproduction-ready\tdevelopment cycle\tand\tdeployment\tpipeline\tcan\tbe\tfound\tin\t“The\tDevelopment\tCycle”\tand “The\tDeployment\tPipeline”).\tThis\tshould\tinclude\tthe\ttechnical\tdetails\t(e.g., commands\tthat\tmust\tbe\trun,\talong\twith\tseveral\texamples)\tof\teach\tof\tthe\tsteps: how\tto\tcheck\tout\tthe\tcode,\thow\tto\tmake\ta\tchange\tto\tthe\tcode,\thow\tto\twrite\ta unit\ttest\tfor\tthe\tchange\t(if\tnecessary),\thow\tto\trun\tthe\trequired\ttests,\thow\tto commit\ttheir\tchanges,\thow\tto\tsend\tchanges\tfor\tcode\treview,\thow\tto\tmake\tsure that\tthe\tservice\tis\tbuilt\tand\treleased\tcorrectly,\tand\tthen\thow\tto\tdeploy\t(as\twell\tas how\tthe\tdeployment\tpipeline\tis\tset\tup\tfor\tthe\tservice).\n\nRequest\tFlows,\tEndpoints,\tand\tDependencies The\tdocumentation\tshould\talso\tcontain\tcritical\tinformation\tabout\trequest\tflows, endpoints,\tand\tdependencies\tof\tthe\tmicroservice.\n\nRequest\tflow\tdocumentation\tcan\tconsist\tof\ta\tdiagram\tof\tthe\trequest\tflows\tof\tthe application.\tThis\tcan\tbe\tthe\tarchitecture\tdiagram,\tif\tthe\trequest\tflow\tis\tdetailed appropriately\twithin\tthe\tarchitecture\tdiagram.\tAny\tdiagram\tshould\tbe accompanied\tby\ta\tqualitative\tdescription\tof\tthe\ttypes\tof\trequests\tthat\tare\tmade to\tthe\tmicroservice\tand\thow\tthey\tare\thandled.\n\nThis\tis\talso\tthe\tplace\tto\tdocument\tall\tAPI\tendpoints\tof\tthe\tservice.\tA\tbulleted list\tof\tthe\tendpoints\twith\ttheir\tnames\tand\ta\tqualitative\tdescription\tof\teach\talong with\ttheir\tresponses\tis\tusually\tsufficient.\tIt\tmust\tbe\tclear\tand\tunderstandable enough\tthat\tanother\tdeveloper\tworking\ton\ta\tdifferent\tteam\tcould\tread\tthe descriptions\tof\tyour\tservice’s\tAPI\tendpoints\tand\ttreat\tyour\tmicroservice\tas\ta black\tbox,\thitting\tthe\tendpoints\tsuccessfully\tand\treceiving\tthe\texpected responses.\n\nThe\tthird\telement\tof\tthis\tsection\tis\tinformation\tabout\tthe\tservice’s\tdependencies. List\tthe\tdependencies,\tthe\trelevant\tendpoints\tof\tthese\tdependencies,\tand\tany requests\tthe\tservice\tmakes\tto\tthem,\talong\twith\tinformation\tabout\ttheir\tSLAs, any\talternatives/caching/backups\tin\tplace\tin\tcase\tof\tfailure,\tand\tlinks\tto\ttheir documentation\tand\tdashboards.\n\nOn-Call\tRunbooks As\tcovered\tin\tChapter\t6,\tMonitoring,\tevery\tsingle\talert\tshould\tbe\tincluded\tin\tan on-call\trunbook\tand\taccompanied\tby\tstep-by-step\tinstructions\tdescribing\thow\tit should\tbe\ttriaged,\tmitigated,\tand\tresolved.\tThe\ton-call\trunbook\tshould\tbe\tkept in\tthe\tcentralized\tdocumentation\tof\tthe\tservice,\tin\tan\ton-call\trunbook\tsection, along\twith\tboth\tgeneral\tand\tdetailed\tguidance\ton\ttroubleshooting\tand\tdebugging new\terrors.\n\nA\tgood\trunbook\twill\tbegin\twith\tany\tgeneral\ton-call\trequirements\tand procedures,\tand\tthen\tcontain\ta\tcomplete\tlist\tof\tthe\tservice’s\talerts.\tFor\teach alert,\tthe\ton-call\trunbook\tshould\tinclude\tthe\talert\tname,\ta\tdescription\tof\tthe alert,\ta\tdescription\tof\tthe\tproblem,\tand\ta\tstep-by-step\tguide\ton\thow\tto\ttriage\tthe alert,\tmitigate\tit,\tand\tthen\tresolve\tit.\tIt\twill\talso\tdescribe\tany\torganizational implications\tof\tthe\talert:\tthe\tseverity\tof\tthe\tproblem,\twhether\tor\tnot\tthe\talert signifies\tan\toutage,\tand\tinformation\tabout\thow\tto\tcommunicate\tany\tincidents and\toutages\tto\tthe\tteam,\tand\tif\tnecessary,\tto\tthe\trest\tof\tthe\tengineering organization.\n\nWRITE\tON-CALL\tRUNBOOKS\tTHAT\tSLEEPY DEVELOPERS\tCAN\tUNDERSTAND\tAT\t2\tA.M.\n\nDevelopers\ton\tcall\tfor\ta\tservice\tmay\t(or,\tmore\trealistically,\twill)\tbe\tpaged\tat\tany\thour\tof\tthe day,\tincluding\tlate\tat\tnight\tor\tvery\tearly\tin\tthe\tmorning.\tWrite\tyour\ton-call\trunbooks\tso\tthat\ta half-asleep\tdeveloper\twill\tbe\table\tto\tfollow\talong\twithout\tany\tdifficulty.\n\nWriting\tgood,\tclear,\teasily\tunderstandable\ton-call\trunbooks\tis\textremely important.\tThey\tshould\tbe\twritten\tso\tthat\tany\tdeveloper\twho\tis\ton\tcall\tfor\tthe service\tor\twho\tis\texperiencing\ttrouble\twith\tthe\tservice\twill\tbe\table\tto\tact quickly,\tdiagnose\tthe\tproblem,\tmitigate\tthe\tincident,\tand\tresolve,\tall\tin\tan extremely\tsmall\tamount\tof\ttime\tin\torder\tto\tkeep\tthe\tdowntime\tof\tthe\tservice very,\tvery\tlow.\n\nNot\tevery\talert\twill\tbe\teasily\tmitigated\tor\tresolved,\tand\tmost\toutages\t(aside from\tthose\tcaused\tby\tcode\tbugs\tintroduced\tby\ta\trecent\tdeployment)\thaven’t been\tseen\tbefore.\tTo\tequip\tdevelopers\tto\thandle\tthese\tproblems\twisely,\tadd\ta general\ttroubleshooting\tand\tdebugging\tsection\tto\tthe\ton-call\trunbook\tin\tthe documentation\tthat\tis\tfilled\twith\ttips\ton\thow\tto\tapproach\tnew\tproblems\tin\ta strategic\tand\tmethodical\tway.\n\nFAQ\n\nAn\toften\tforgotten\telement\tof\tdocumentation\tis\ta\tsection\tdevoted\tto\tanswering common\tquestions\tabout\tthe\tservice.\tHaving\ta\t“Frequently\tAsked\tQuestions” section\ttakes\tthe\tburden\tof\tanswering\tcommon\tquestions\toff\tof\twhomever\tis\ton call\tand,\tconsequently,\tthe\trest\tof\tthe\tteam.\n\nThere\tare\ttwo\tcategories\tof\tquestions\tthat\tshould\tbe\tanswered\there.\tThe\tfirst\tare questions\tthat\tdevelopers\ton\tother\tteams\task\tabout\tthe\tservice.\tThe\tway\tto approach\tanswering\tthese\tquestions\tin\tan\tFAQ\tsetting\tis\tsimple:\tif\tsomeone\tasks you\ta\tquestion,\tand\tyou\tthink\tit\tmight\tbe\tasked\tagain,\tadd\tit\tto\tthe\tFAQ.\tThe second\tcategory\tof\tquestions\tare\tthose\tthat\tcome\tfrom\tteam\tmembers,\tand\tthe same\tapproach\tcan\tbe\ttaken\there:\tif\tthere’s\ta\tquestion\tabout\thow\tor\twhy\tor when\tto\tdo\tsomething\trelated\tto\tthe\tservice,\tadd\tit\tto\tthe\tFAQ.\n\nSUMMARY:\tELEMENTS\tOF\tPRODUCTION-READY\tMICROSERVICE DOCUMENTATION\n\nProduction-ready\tmicroservice\tdocumentation\tincludes:\n\nA\tdescription\tof\tthe\tmicroservice\tand\tits\tplace\tin\tthe\toverall\tmicroservice\tecosystem\tand\tthe\n\nbusiness\n\nAn\tarchitecture\tdiagram\tdetailing\tthe\tarchitecture\tof\tthe\tservice\tand\tits\tclients\tand\tdependencies\tat\ta\n\nhigh\tlevel\tof\tabstraction\n\nContact\tand\ton-call\tinformation\tabout\tthe\tmicroservice’s\tdevelopment\tteam\n\nLinks\tto\tthe\trepository,\tdashboard(s),\tthe\tRFC\tfor\tthe\tservice,\tarchitecture\treviews,\tand\tany\tother\n\nrelevant\tor\tuseful\tinformation\n\nAn\tonboarding\tand\tdevelopment\tguide\tcontaining\tdetails\tabout\tthe\tdevelopment\tprocess,\tthe\n\ndeployment\tpipeline,\tand\tany\tother\tinformation\tthat\twill\tbe\tuseful\tto\tdevelopers\twho\tcontribute\tcode\n\nto\tthe\tservice\n\nDetailed\tinformation\tabout\tthe\tmicroservice’s\trequest\tflows,\tSLA,\tproduction-readiness\tstatus,\tAPI\n\nendpoints,\timportant\tclients,\tand\tdependencies\n\nAn\ton-call\trunbook\tcontaining\tgeneral\tincident\tand\toutage\tresponse\tprocedures,\tstep-by-step\n\ninstructions\ton\thow\tto\ttriage,\tmitigate,\tand\tresolve\teach\talert,\tand\ta\tgeneral\ttroubleshooting\tand\n\ndebugging\tsection\n\nA\t“Frequently\tAsked\tQuestions”\t(FAQ)\tsection\n\nMicroservice\tUnderstanding Centralized,\tupdated,\tand\tthorough\tdocumentation\tis\tonly\tone\tpart\tof production-ready\tmicroservice\tdocumentation\tand\tunderstanding.\tAside\tfrom writing\tand\tupdating\tdocumentation,\torganizational\tprocesses\tshould\tbe\tput\tinto place\tto\tensure\tthat\tmicroservices\tare\twell\tunderstood\tnot\tonly\tby\tthe\tindividual development\tteams\tbut\tby\tthe\torganization\tas\ta\twhole.\tIn\tmany\tways,\ta\twell- understood\tmicroservice\tis\tone\tthat\tmeets\tevery\tproduction-readiness requirement.\n\nMicroservice\tunderstanding\tis\ttruly\tindispensable\tto\tthe\tdeveloper,\tthe\tteam,\tand the\torganization.\tWhile\tthe\tnotion\tof\t“understanding”\ta\tmicroservice\tmay\tseem too\tvague\tto\tbe\tuseful\tat\tfirst\tglance,\tthe\tconcept\tof\ta\tproduction-ready microservice\tcan\tbe\tused\tto\tguide\tand\tdefine\tmicroservice\tunderstanding\tat every\tlevel.\tArmed\twith\tproduction-readiness\tstandards\tand\trequirements,\talong with\ta\trealistic\tunderstanding\tof\torganizational\tcomplexity\tand\tthe\tchallenges that\tmicroservice\tarchitecture\tbrings\tto\tthe\tarena,\tdevelopers\tcan\tquantify\ttheir understanding\tof\teach\tmicroservice\tand\t(as\tI’ve\turged\tthe\treader\tearlier\tin\tthis chapter)\tcan\tgive\tan\tonion\tto\tthe\trest\tof\tthe\torganization.\n\nFor\tthe\tindividual\tdeveloper,\tthis\ttranslates\tto\tbeing\table\tto\tanswer\tquestions about\ther\tmicroservice.\tFor\texample,\twhen\tasked\tif\ther\tmicroservice\tis\tscalable, she\twill\tbe\table\tto\tlook\tat\ta\tlist\tof\tscalability\trequirements\tand\tconfidently answer\t“Yes,”\t“No,”\tor\tsomething\tin\tbetween\t(e.g.,\t“It\tmeets\trequirements\tx and\tz,\tbut\ty\thas\tnot\tyet\tbeen\timplemented”).\tLikewise,\twhen\tasked\tif\ther microservice\tis\tfault\ttolerant,\tshe’ll\tbe\table\tto\trattle\toff\tall\tfailure\tscenarios\tand possible\tcatastrophes,\tthen\texplain\tin\tdetail\thow\tshe\thas\tprepared\tfor\tthese\tusing various\ttypes\tof\tresiliency\ttesting.\n\nAt\tthe\tteam\tlevel,\tunderstanding\tsignifies\tthat\tthe\tteam\tis\taware\tof\twhere\ttheir microservice\tstands\twith\tregard\tto\tproduction-readiness\tand\twhat\tneeds\tto\tbe accomplished\tto\tbring\ttheir\tservice\tto\ta\tproduction-ready\tstate.\tThis\thas\tto\tbe\ta cultural\telement\tof\teach\tteam\tin\torder\tfor\tit\tto\tbe\tsuccessful:\tproduction- readiness\tstandards\tand\trequirements\tneed\tto\tdrive\tthe\tdecisions\tmade\tby\tthe team\tand\tbe\tseen\tnot\tmerely\tas\tboxes\tto\tcheck\toff\ton\ta\tchecklist,\tbut\trather\tas principles\tthat\tguide\tthe\tteam\ttoward\tbuilding\tthe\tbest\tpossible\tmicroservice.\n\nUnderstanding\tneeds\tto\tbe\tbuilt\tinto\tthe\tfabric\tof\tthe\torganization\titself.\tThis\n\nrequires\tthat\tproduction-readiness\tstandards\tand\trequirements\tbecome\tpart\tof the\torganizational\tprocess.\tBefore\ta\tservice\tis\teven\tbuilt,\tand\ta\trequest\tfor comments\t(RFC)\tis\tsent\taround\tfor\treview,\tthe\tservice\tcan\tbe\tevaluated\tagainst the\tproduction-readiness\tstandards\tand\trequirements.\tDevelopers,\tarchitects,\tand operations\tengineers\tcan\tmake\tsure\tthat\tthe\tservice\tis\tbuilt\tfor\tstability, reliability,\tscalability,\tperformance,\tfault\ttolerance,\tcatastrophe-preparedness, proper\tmonitoring,\tand\tappropriately\tdocumented\tand\tunderstood\tbefore\tit\teven begins\trunning\t—\tensuring\tthat\tonce\tthe\tnew\tservice\tbegins\tto\thost\tproduction traffic,\tit\thas\tbeen\tarchitected\tand\toptimized\tfor\tavailability\tand\tcan\tbe\ttrusted with\tproduction\ttraffic.\n\nIt’s\tnot\tenough\tto\tonly\treview\tand\tarchitect\tfor\tproduction-readiness\tat\tthe beginning\tof\ta\tmicroservice’s\tlifecycle.\tExisting\tservices\tneed\tto\tbe\treviewed and\taudited\tconstantly\tso\tthat\tthe\tquality\tof\teach\tmicroservice\tis\tkept\tat\ta sufficiently\thigh\tlevel,\tensuring\thigh\tavailability\tand\ttrust\tacross\tvarious microservice\tteams\tand\tthe\tentire\tmicroservice\tecosystem.\tAutomating\tthese production-readiness\taudits\tof\texisting\tservices\tand\tinternally\tpublicizing\tthe results\tcan\thelp\tto\testablish\tawareness\tacross\tthe\torganization\tabout\tthe\tquality of\tthe\toverall\tmicroservice\tecosystem.\n\nArchitecture\tReviews One\tthing\tI’ve\tlearned\tafter\tdriving\tthese\tproduction-readiness\tstandards\tand their\trequirements\tacross\tover\ta\tthousand\tdifferent\tmicroservices\tand\ttheir development\tteams\tis\tthat\tthe\tmost\timmediately\teffective\tway\tto\taccomplish microservice\tunderstanding\tis\tto\thold\tscheduled\tarchitecture\treviews\tfor\teach microservice.\tA\tgood\tarchitecture\treview\tis\ta\tmeeting\twhere\tany\tand\tall developers\tand\tsite\treliability\tengineers\t(or\tother\toperations\tengineers)\tworking on\tthe\tservice\tmeet\tin\ta\troom,\tdraw\tup\tthe\tarchitecture\tof\tthe\tservice\ton\ta whiteboard,\tand\tthoroughly\tevaluate\tits\tarchitecture.\n\nWithin\tseveral\tminutes\tinto\tthis\texercise,\tit\ttends\tto\tbecome\tvery\tclear\tprecisely what\tthe\tscope\tof\tunderstanding\tis\tat\tthe\tdeveloper\tand\tteam\tlevels.\tTalking through\tthe\tarchitecture,\tdevelopers\twill\tquickly\tdiscover\tscalability\tand performance\tbottlenecks,\tpreviously\tundiscovered\tpoints\tof\tfailure,\tpossible outages\tand\tfuture\tincidents\tand\tfailures\tand\tcatastrophe\tscenarios,\tand\tnew features\tthat\tshould\tbe\tadded.\tPoor\tarchitectural\tdecisions\tthat\twere\tmade\tin\tthe past\twill\tbecome\tobvious,\tand\told\ttechnologies\tthat\tshould\tbe\treplaced\tby\tnewer and/or\tbetter\tones\twill\tstand\tout.\tTo\tensure\tthat\tevaluation\tand\tdiscussion\tis productive\tand\tobjective,\tit’s\thelpful\tto\tbring\tin\tdevelopers\tfrom\tother\tteams (especially\tthose\tin\tinfrastructure,\tDevOps,\tor\tsite\treliability\tengineering)\twho have\texperience\tin\tlarge-scale\tdistributed\tsystems\tarchitecture\t(and\tthe organization’s\tspecific\tmicroservice\tecosystem)\tand\twill\tbe\table\tto\tpoint\tout problems\tthat\tdevelopers\tmay\tnot\tnotice.\n\nEach\tmeeting\tshould\tproduce\ta\tnew,\tupdated\tarchitecture\tdiagram\tfor\tthe service,\talong\twith\ta\tlist\tof\tprojects\tto\ttackle\tin\tthe\tcoming\tweeks\tand\tmonths. The\tnew\tdiagram\tshould\tdefinitely\tbe\tadded\tto\tthe\tdocumentation,\tand\tprojects can\tbe\tincluded\tin\teach\tservice’s\troadmap\t(see\t“Production-Readiness Roadmaps”)\tand\tobjectives\tand\tkey\tresults\t(OKRs).\n\nBecause\tmicroservice\tdevelopment\tmoves\trather\tquickly,\tmicroservices\tevolve at\ta\trapid\tpace\tand\tthe\tlower\tlayers\tof\tthe\tmicroservice\tecosystem\twill\tbe constantly\tchanging.\tIn\torder\tto\tkeep\tthe\tarchitecture\tand\tits\tunderstanding relevant\tand\tproductive,\tthese\tmeetings\tshould\tbe\theld\tregularly.\tI’ve\tfound\tthat a\tgood\trule\tof\tthumb\tis\tto\tschedule\tthem\tso\tthat\tthey\talign\twith\tOKR\tand project\tplanning.\tIf\tprojects\tand\tOKRs\tare\tplanned\tand\tscheduled\tquarterly,\tthen quarterly\tarchitecture\treviews\tshould\tbe\theld\teach\tquarter\tbefore\tthe\tplanning cycle\tbegins.\n\nProduction-Readiness\tAudits To\tmake\tsure\tthat\ta\tmicroservice\tmeets\tproduction-readiness\tstandards\tand requirements\tand\tis\tactually\tproduction-ready,\tthe\tteam\tcan\trun\ta\tproduction- readiness\taudit\ton\tthe\tservice.\tRunning\tan\taudit\tis\tquite\tsimple:\tthe\tteam\tsits down\twith\ta\tchecklist\tof\tthe\tproduction-readiness\trequirements\tand\tchecks\toff whether\tor\tnot\ttheir\tservice\tmeets\teach\trequirement.\tThis\tenables\tunderstanding of\ta\tservice:\teach\tdeveloper\tand\tteam\twill\tknow,\tby\tthe\tend\tof\tthe\taudit,\texactly where\ttheir\tservice\tstands\tand\twhere\tthings\tcan\tbe\timproved.\n\nThe\tstructure\tof\tan\taudit\tshould\tmirror\tthe\tproduction-readiness\tstandards\tand requirements\tthat\tthe\tengineering\torganization\thas\tadopted.\tThe\tteam\tshould\tuse the\taudits\tto\tquantify\tthe\tstability,\treliability,\tscalability,\tfault\ttolerance, catastrophe-preparedness,\tperformance,\tmonitoring,\tand\tdocumentation\tof\tthe service.\tAs\tI’ve\tdescribed\tin\tearlier\tchapters,\teach\tof\tthese\tstandards\tis accompanied\tby\ta\tset\tof\trequirements\tthat\tcan\tbe\tused\tto\tbring\teach\tservice\tup to\tthose\tstandards\t—\tdevelopers\tcan\tadjust\tthese\trequirements\tof\teach production-readiness\tstandard\tso\tthat\tthey\tmeet\tthe\tneeds\tand\tgoals\tof\tthe organization.\tThe\texact\trequirements\twill\tdepend\ton\tthe\tdetails\tof\tthe company’s\tmicroservice\tecosystem,\tbut\tthe\tstandards\tand\ttheir\tbasic components\tare\trelevant\tacross\tevery\tecosystem\t(see\tAppendix\tA\tfor\ta summary\tchecklist\tcontaining\tthe\tproduction-readiness\tstandards\tand\ttheir general\trequirements).\n\nProduction-Readiness\tRoadmaps Once\ta\tmicroservice\tdevelopment\tteam\thas\tcompleted\ta\tthorough\tproduction- readiness\taudit\tof\ttheir\tmicroservice\tand\tthe\tteam\tunderstands\twhether\ttheir service\tis\tproduction-ready,\tthe\tnext\tstep\tis\tto\tplan\thow\tto\tbring\tthe\tservice\tto\ta production-ready\tstate.\tAudits\tmake\tthis\teasy:\tat\tthis\tpoint,\tthe\tteam\thas\ta checklist\tof\twhich\tproduction-readiness\trequirements\ttheir\tservice\tdoesn’t\tmeet, and\tall\tthat\tis\tleft\tto\tdo\tis\tto\tsatisfy\teach\tunfulfilled\trequirement.\n\nThis\tis\twhere\tproduction-readiness\troadmaps\tcan\tbe\tdeveloped,\tand\tI’ve\tfound them\tto\tbe\tan\textremely\tuseful\tpiece\tof\tthe\tproduction-readiness\tand microservice\tunderstanding\tprocess.\tEach\tmicroservice\tis\tdifferent,\tand\tthe implementation\tdetails\tof\teach\tunsatisfied\trequirement\twill\tvary\tbetween services,\tso\tproducing\ta\tdetailed\troadmap\tthat\tdocuments\tall\tof\tthe implementation\tdetails\twill\tguide\tthe\tteam\ttoward\tmaking\ttheir\tmicroservice production-ready.\tRequirements\tthat\tneed\tto\tbe\tmet\tcan\tbe\taccompanied\tby\tthe technical\tdetails,\tproblems\tthat\thave\tarisen\t(outages\tand\tincidents)\tthat\tare related\tto\tthe\trequirement,\ta\tlink\tto\tsome\tticket\tin\ta\ttask-management\tsystem, and\tthe\tname(s)\tof\tthe\tdeveloper(s)\twho\twill\tbe\tworking\ton\tthe\tproject.\n\nThe\troadmap\tand\tthe\tlist\tof\tunsatisfied\tproduction-readiness\trequirements\tit contains\tcan\tbecome\tpart\tof\twhatever\tplanning\tand\t(if\tused\tat\tthe\tcompany) OKRs\tare\tin\tstore\tfor\tthe\tservice.\tSatisfying\tproduction-readiness\trequirements works\tbest\twhen\tthe\tprocess\tgoes\thand\tin\thand\tboth\twith\tfeature\tdevelopment and\twith\tthe\tadoption\tof\tnew\ttechnologies.\tMaking\teach\tservice\tin\tthe microservice\tecosystem\tstable,\treliable,\tscalable,\tperformant,\tfault\ttolerant, catastrophe-prepared,\tmonitored,\tdocumented,\tand\tunderstood\tis\ta straightforward,\tquantifiable\tway\tto\tguarantee\tthat\teach\tservice\tis\ttruly production-ready,\tensuring\tthe\tavailability\tof\tthe\tentire\tmicroservice\tecosystem.\n\nProduction-Readiness\tAutomation Architecture\treviews,\taudits,\tand\troadmaps\tsolve\tthe\tchallenges\tof\tmicroservice understanding\tat\tthe\tdeveloper\tand\tteam\tlevels,\tbut\tunderstanding\tat\tan organizational\tlevel\trequires\tan\tadditional\tcomponent.\tAs\tI’ve\tpresented\tit\tso far,\tall\tof\tthe\twork\tthat\tgoes\tinto\tbuilding\ta\tproduction-ready\tmicroservice\tis mostly\tmanual,\trequiring\tdevelopers\tto\tindividually\tfollow\teach\taudit\tstep,\tmake tasks\tand\tlists\tand\troadmaps\tand\tcheck\toff\tindividual\trequirement\tboxes. Manual\twork\tlike\tthis\toften\tgets\tput\ton\tthe\tback\tburner\tto\tjoin\tthe\trest\tof\tthe technical\tdebt,\teven\tin\tthe\tmost\tproductive\tand\tproduction-readiness\tdriven teams.\n\nOne\tof\tthe\tkey\tprinciples\tof\tsoftware\tengineering\tin\tpractice\tis\tthis:\tif\tyou\thave to\tdo\tsomething\tmanually\tmore\tthan\tonce,\tautomate\tit\tso\tthat\tyou\tnever\thave\tto do\tit\tagain.\tThis\tapplies\tto\toperational\twork,\tit\tapplies\tto\tany\tone-off,\tad\thoc situations\tand\tanything\tyou\tneed\tto\ttype\tinto\ta\tterminal,\tand\tnot\tsurprisingly,\tit applies\tto\tenforcing\tproduction-readiness\tstandards\tacross\tan\tengineering organization.\tAutomation\tis\tthe\tbest\tonion\tyou\tcan\tgive\tto\tyour\tdevelopment teams.\n\nIt’s\teasy\tto\tmake\ta\tlist\tof\tthe\tproduction-readiness\trequirements\tfor\tevery microservice.\tI’ve\tdone\tit\tmyself\tat\tUber,\tI’ve\tseen\tother\tdevelopers\timplement the\tvery\tsame\tproduction-readiness\tstandards\tin\tthis\tbook\tat\ttheir\town companies,\tand\tI’ve\tcreated\ta\ttemplate\tchecklist\t(Appendix\tA,\tProduction- Readiness\tChecklist)\tthat\tyou,\tthe\treader,\tcan\tuse.\tA\tlist\tlike\tthis\tmakes automating\tthe\tchecklist\trather\teasy.\tFor\texample,\tto\tcheck\tfor\tfault\ttolerance and\tcatastrophe-preparedness,\tyou\tcan\trun\tautomated\tchecks\tto\tensure\tthat\tthe proper\tresiliency\ttests\tare\tin\tplace,\tare\trunning,\tand\tthat\teach\tmicroservice passes\tthe\ttests\twith\tflying\tcolors.\n\nThe\tdifficulty\tin\tautomating\teach\tof\tthese\tproduction-readiness\tchecks\twill depend\tentirely\ton\tthe\tcomplexity\tof\tyour\tinternal\tservices\twithin\teach\tlayer\tof the\tmicroservice\tecosystem.\tIf\tall\tmicroservices\tand\tself-service\ttools\thave decent\tAPIs,\tautomation\tis\ta\tbreeze.\tIf\tyour\tservices\thave\ttrouble communicating,\tor\tif\tany\tself-service\tinternal\ttools\tare\tfinicky\tor\tpoorly\twritten, you’re\tgoing\tto\thave\ta\tbad\ttime\t(and\tnot\tjust\twith\tproduction-readiness,\tbut\twith the\tintegrity\tof\tyour\tservice\tand\tthe\tentire\tmicroservice\tecosystem).\n\nAutomating\tproduction-readiness\tincreases\torganizational\tunderstanding\tin several\textremely\timportant\tand\teffective\tways.\tIf\tyou\tautomate\tthese\tchecks\n\nand\trun\tthem\tconstantly,\tteams\tin\tthe\torganization\twill\talways\tknow\twhere\teach microservice\tstands.\tPublicize\tthese\tresults\tinternally,\tgive\teach\tmicroservice\ta production-readiness\tscore\tmeasuring\thow\tproduction-ready\ttheir\tservice\tis, require\tbusiness-critical\tservices\tto\thave\ta\thigh\tminimum\tproduction-readiness score,\tand\tgate\tdeployments.\tProduction-readiness\tcan\tbe\tmade\tpart\tof\tthe engineering\tculture,\tand\tthis\tis\tone\tsurefire\tway\tyou\tcan\taccomplish\tthat.\n\nEvaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tdocumentation,\tuse\tthe\tfollowing list\tof\tquestions\tto\tassess\tthe\tproduction-readiness\tof\tyour\tmicroservice(s)\tand microservice\tecosystem.\tThe\tquestions\tare\torganized\tby\ttopic,\tand\tcorrespond\tto the\tsections\twithin\tthis\tchapter.\n\nMicroservice\tDocumentation\n\nIs\tthe\tdocumentation\tfor\tall\tmicroservices\tstored\tin\ta\tcentralized,\tshared, and\teasily\taccessible\tplace?\n\nIs\tthe\tdocumentation\teasily\tsearchable?\n\nAre\tsignificant\tchanges\tto\tthe\tmicroservice\taccompanied\tby\tupdates\tto\tthe microservice’s\tdocumentation?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\ta\tdescription\tof\tthe microservice?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tarchitecture\tdiagram?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tcontact\tand\ton-call information?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tlinks\tto\timportant information?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tonboarding\tand development\tguide?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tinformation\tabout\tthe microservice’s\trequest\tflow,\tendpoints,\tand\tdependencies?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\ton-call\trunbook?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tFAQ\tsection?\n\nMicroservice\tUnderstanding\n\nCan\tevery\tdeveloper\ton\tthe\tteam\tanswer\tquestions\tabout\tthe\tproduction- readiness\tof\tthe\tmicroservice?\n\nIs\tthere\ta\tset\tof\tprinciples\tand\tstandards\tthat\tall\tmicroservices\tare\theld\tto?\n\nIs\tthere\tan\tRFC\tprocess\tin\tplace\tfor\tevery\tnew\tmicroservice?\n\nAre\texisting\tmicroservices\treviewed\tand\taudited\tfrequently?\n\nAre\tarchitecture\treviews\theld\tfor\tevery\tmicroservice\tteam?\n\nIs\tthere\ta\tproduction-readiness\taudit\tprocess\tin\tplace?\n\nAre\tproduction-readiness\troadmaps\tused\tto\tbring\tthe\tmicroservice\tto\ta production-ready\tstate?\n\nDo\tthe\tproduction-readiness\tstandards\tdrive\tthe\torganization’s\tOKRs?\n\nIs\tthe\tproduction-readiness\tprocess\tautomated?\n\nAppendix\tA.\tProduction-Readiness Checklist\n\nThis\twill\tbe\ta\tchecklist\tto\trun\tover\tall\tmicroservices\t—\tmanually\tor\tin\tan automated\tway.\n\nA\tProduction-Ready\tService\tIs\tStable\tand\tReliable\n\nIt\thas\ta\tstandardized\tdevelopment\tcycle.\n\nIts\tcode\tis\tthoroughly\ttested\tthrough\tlint,\tunit,\tintegration,\tand\tend-to-end testing.\n\nIts\ttest,\tpackaging,\tbuild,\tand\trelease\tprocess\tis\tcompletely\tautomated.\n\nIt\thas\ta\tstandardized\tdeployment\tpipeline,\tcontaining\tstaging,\tcanary,\tand production\tphases.\n\nIts\tclients\tare\tknown.\n\nIts\tdependencies\tare\tknown,\tand\tthere\tare\tbackups,\talternatives,\tfallbacks, and\tcaching\tin\tplace\tin\tcase\tof\tfailures.\n\nIt\thas\tstable\tand\treliable\trouting\tand\tdiscovery\tin\tplace.\n\nA\tProduction-Ready\tService\tIs\tScalable\tand Performant\n\nIts\tqualitative\tand\tquantitative\tgrowth\tscales\tare\tknown.\n\nIt\tuses\thardware\tresources\tefficiently.\n\nIts\tresource\tbottlenecks\tand\trequirements\thave\tbeen\tidentified.\n\nCapacity\tplanning\tis\tautomated\tand\tperformed\ton\ta\tscheduled\tbasis.\n\nIts\tdependencies\twill\tscale\twith\tit.\n\nIt\twill\tscale\twith\tits\tclients.\n\nIts\ttraffic\tpatterns\tare\tunderstood.\n\nTraffic\tcan\tbe\tre-routed\tin\tcase\tof\tfailures.\n\nIt\tis\twritten\tin\ta\tprogramming\tlanguage\tthat\tallows\tit\tto\tbe\tscalable\tand performant.\n\nIt\thandles\tand\tprocesses\ttasks\tin\ta\tperformant\tmanner.\n\nIt\thandles\tand\tstores\tdata\tin\ta\tscalable\tand\tperformant\tway.\n\nA\tProduction-Ready\tService\tIs\tFault\tTolerant\tand Prepared\tfor\tAny\tCatastrophe\n\nIt\thas\tno\tsingle\tpoint\tof\tfailure.\n\nAll\tfailure\tscenarios\tand\tpossible\tcatastrophes\thave\tbeen\tidentified.\n\nIt\tis\ttested\tfor\tresiliency\tthrough\tcode\ttesting,\tload\ttesting,\tand\tchaos testing.\n\nFailure\tdetection\tand\tremediation\thas\tbeen\tautomated.\n\nThere\tare\tstandardized\tincident\tand\toutage\tprocedures\tin\tplace\twithin\tthe microservice\tdevelopment\tteam\tand\tacross\tthe\torganization.\n\nA\tProduction-Ready\tService\tIs\tProperly\tMonitored\n\nIts\tkey\tmetrics\tare\tidentified\tand\tmonitored\tat\tthe\thost,\tinfrastructure,\tand microservice\tlevels.\n\nIt\thas\tappropriate\tlogging\tthat\taccurately\treflects\tthe\tpast\tstates\tof\tthe microservice.\n\nIts\tdashboards\tare\teasy\tto\tinterpret\tand\tcontain\tall\tkey\tmetrics.\n\nIts\talerts\tare\tactionable\tand\tare\tdefined\tby\tsignal-providing\tthresholds.\n\nThere\tis\ta\tdedicated\ton-call\trotation\tresponsible\tfor\tmonitoring\tand responding\tto\tany\tincidents\tand\toutages.\n\nThere\tis\ta\tclear,\twell-defined,\tand\tstandardized\ton-call\tprocedure\tin\tplace for\thandling\tincidents\tand\toutages.\n\nA\tProduction-Ready\tService\tIs\tDocumented\tand Understood\n\nIt\thas\tcomprehensive\tdocumentation.\n\nIts\tdocumentation\tis\tupdated\tregularly.\n\nIts\tdocumentation\tcontains\ta\tdescription\tof\tthe\tmicroservice;\tan architecture\tdiagram;\tcontact\tand\ton-call\tinformation;\tlinks\tto\timportant information;\tan\tonboarding\tand\tdevelopment\tguide;\tinformation\tabout\tthe service’s\trequest\tflow(s),\tendpoints,\tand\tdependencies;\tan\ton-call\trunbook; and\tanswers\tto\tfrequently\tasked\tquestions.\n\nIt\tis\twell\tunderstood\tat\tthe\tdeveloper,\tteam,\tand\torganizational\tlevels.\n\nIt\tis\theld\tto\ta\tset\tof\tproduction-readiness\tstandards\tand\tmeets\tthe\tassociated requirements.\n\nIts\tarchitecture\tis\treviewed\tand\taudited\tfrequently.\n\nAppendix\tB.\tEvaluate\tYour Microservice\n\nTo\thelp\tthe\treader\tevaluate\tthe\tproduction-readiness\tof\ttheir\tmicroservice(s)\tand microservice\tecosystem,\tChapters\t3–7\tconclude\twith\ta\tshort\tlist\tof\tquestions associated\twith\tthe\tproduction-readiness\tstandard\tdiscussed.\tThe\tquestions\tare organized\tby\ttopic,\tand\tcorrespond\tto\tthe\tsections\twithin\teach\tchapter.\tAll\tof\tthe questions\tfrom\teach\tchapter\thave\tbeen\tcollected\there\tfor\teasy\treference.\n\nStability\tand\tReliability\n\nThe\tDevelopment\tCycle\n\nDoes\tthe\tmicroservice\thave\ta\tcentral\trepository\twhere\tall\tcode\tis\tstored?\n\nDo\tdevelopers\twork\tin\ta\tdevelopment\tenvironment\tthat\taccurately\treflects the\tstate\tof\tproduction\t(e.g.,\tthat\taccurately\treflects\tthe\treal\tworld)?\n\nAre\tthere\tappropriate\tlint,\tunit,\tintegration,\tand\tend-to-end\ttests\tin\tplace\tfor the\tmicroservice?\n\nAre\tthere\tcode\treview\tprocedures\tand\tpolicies\tin\tplace?\n\nIs\tthe\ttest,\tpackaging,\tbuild,\tand\trelease\tprocess\tautomated?\n\nThe\tDeployment\tPipeline\n\nDoes\tthe\tmicroservice\tecosystem\thave\ta\tstandardized\tdeployment\tpipeline?\n\nIs\tthere\ta\tstaging\tphase\tin\tthe\tdeployment\tpipeline\tthat\tis\teither\tfull\tor partial\tstaging?\n\nWhat\taccess\tdoes\tthe\tstaging\tenvironment\thave\tto\tproduction\tservices?\n\nIs\tthere\ta\tcanary\tphase\tin\tthe\tdeployment\tpipeline?\n\nDo\tdeployments\trun\tin\tthe\tcanary\tphase\tfor\ta\tperiod\tof\ttime\tthat\tis\tlong enough\tto\tcatch\tany\tfailures?\n\nDoes\tthe\tcanary\tphase\taccurately\thost\ta\trandom\tsample\tof\tproduction traffic?\n\nAre\tthe\tmicroservice’s\tports\tthe\tsame\tfor\tcanary\tand\tproduction?\n\nAre\tdeployments\tto\tproduction\tdone\tall\tat\tthe\tsame\ttime,\tor\tincrementally rolled\tout?\n\nIs\tthere\ta\tprocedure\tin\tplace\tfor\tskipping\tthe\tstaging\tand\tcanary\tphases\tin case\tof\tan\temergency?\n\nDependencies\n\nWhat\tare\tthis\tmicroservice’s\tdependencies?\n\nWhat\tare\tits\tclients?\n\nHow\tdoes\tthis\tmicroservice\tmitigate\tdependency\tfailures?\n\nAre\tthere\tbackups,\talternatives,\tfallbacks,\tor\tdefensive\tcaching\tfor\teach dependency?\n\nRouting\tand\tDiscovery\n\nAre\thealth\tchecks\tto\tthe\tmicroservice\treliable?\n\nDo\thealth\tchecks\taccurately\treflect\tthe\thealth\tof\tthe\tmicroservice?\n\nAre\thealth\tchecks\trun\ton\ta\tseparate\tchannel\twithin\tthe\tcommunication layer?\n\nAre\tthere\tcircuit\tbreakers\tin\tplace\tto\tprevent\tunhealthy\tmicroservices\tfrom making\trequests?\n\nAre\tthere\tcircuit\tbreakers\tin\tplace\tto\tprevent\tproduction\ttraffic\tfrom\tbeing sent\tto\tunhealthy\thosts\tand\tmicroservices?\n\nDeprecation\tand\tDecommissioning\n\nAre\tthere\tprocedures\tin\tplace\tfor\tdecommissioning\ta\tmicroservice?\n\nAre\tthere\tprocedures\tin\tplace\tfor\tdeprecating\ta\tmicroservice’s\tAPI endpoints?\n\nScalability\tand\tPerformance\n\nKnowing\tthe\tGrowth\tScale\n\nWhat\tis\tthis\tmicroservice’s\tqualitative\tgrowth\tscale?\n\nWhat\tis\tthis\tmicroservice’s\tquantitative\tgrowth\tscale?\n\nEfficient\tUse\tof\tResources\n\nIs\tthe\tmicroservice\trunning\ton\tdedicated\tor\tshared\thardware?\n\nAre\tany\tresource\tabstraction\tand\tallocation\ttechnologies\tbeing\tused?\n\nResource\tAwareness\n\nWhat\tare\tthe\tmicroservice’s\tresource\trequirements\t(CPU,\tRAM,\tetc.)?\n\nHow\tmuch\ttraffic\tcan\tone\tinstance\tof\tthe\tmicroservice\thandle?\n\nHow\tmuch\tCPU\tdoes\tone\tinstance\tof\tthe\tmicroservice\trequire?\n\nHow\tmuch\tmemory\tdoes\tone\tinstance\tof\tthe\tmicroservice\trequire?\n\nAre\tthere\tany\tother\tresource\trequirements\tthat\tare\tspecific\tto\tthis microservice?\n\nWhat\tare\tthe\tresource\tbottlenecks\tof\tthis\tmicroservice?\n\nDoes\tthis\tmicroservice\tneed\tto\tbe\tscaled\tvertically,\thorizontally,\tor\tboth?\n\nCapacity\tPlanning\n\nIs\tcapacity\tplanning\tperformed\ton\ta\tscheduled\tbasis?\n\nWhat\tis\tthe\tlead\ttime\tfor\tnew\thardware?\n\nHow\toften\tare\thardware\trequests\tmade?\n\nAre\tany\tmicroservices\tgiven\tpriority\twhen\thardware\trequests\tare\tmade?\n\nIs\tcapacity\tplanning\tautomated\tor\tis\tit\tmanual?\n\nDependency\tScaling\n\nWhat\tare\tthis\tmicroservice’s\tdependencies?\n\nAre\tthe\tdependencies\tscalable\tand\tperformant?\n\nWill\tthe\tdependencies\tscale\twith\tthis\tmicroservice’s\texpected\tgrowth?\n\nAre\tdependency\towners\tprepared\tfor\tthis\tmicroservice’s\texpected\tgrowth?\n\nTraffic\tManagement\n\nAre\tthe\tmicroservice’s\ttraffic\tpatterns\twell\tunderstood?\n\nAre\tchanges\tto\tthe\tservice\tscheduled\taround\ttraffic\tpatterns?\n\nAre\tdrastic\tchanges\tin\ttraffic\tpatterns\t(especially\tbursts\tof\ttraffic)\thandled carefully\tand\tappropriately?\n\nCan\ttraffic\tbe\tautomatically\trouted\tto\tother\tdatacenters\tin\tcase\tof\tfailure?\n\nTask\tHandling\tand\tProcessing\n\nIs\tthe\tmicroservice\twritten\tin\ta\tprogramming\tlanguage\tthat\twill\tallow\tthe service\tto\tbe\tscalable\tand\tperformant?\n\nAre\tthere\tany\tscalability\tor\tperformance\tlimitations\tin\tthe\tway\tthe microservice\thandles\trequests?\n\nAre\tthere\tany\tscalability\tor\tperformance\tlimitations\tin\tthe\tway\tthe microservice\tprocesses\ttasks?\n\nDo\tdevelopers\ton\tthe\tmicroservice\tteam\tunderstand\thow\ttheir\tservice processes\ttasks,\thow\tefficiently\tit\tprocesses\tthose\ttasks,\tand\thow\tthe service\twill\tperform\tas\tthe\tnumber\tof\ttasks\tand\trequests\tincreases?\n\nScalable\tData\tStorage\n\nDoes\tthis\tmicroservice\thandle\tdata\tin\ta\tscalable\tand\tperformant\tway?\n\nWhat\ttype\tof\tdata\tdoes\tthis\tmicroservice\tneed\tto\tstore?\n\nWhat\tis\tthe\tschema\tneeded\tfor\tits\tdata?\n\nHow\tmany\ttransactions\tare\tneeded\tand/or\tmade\tper\tsecond?\n\nDoes\tthis\tmicroservice\tneed\thigher\tread\tor\twrite\tperformance?\n\nIs\tit\tread-heavy,\twrite-heavy,\tor\tboth?\n\nIs\tthis\tservice’s\tdatabase\tscaled\thorizontally\tor\tvertically?\tIs\tit\treplicated\tor partitioned?\n\nIs\tthis\tmicroservice\tusing\ta\tdedicated\tor\tshared\tdatabase?\n\nHow\tdoes\tthe\tservice\thandle\tand/or\tstore\ttest\tdata?\n\nFault\tTolerance\tand\tCatastrophe-Preparedness\n\nAvoiding\tSingle\tPoints\tof\tFailure\n\nDoes\tthe\tmicroservice\thave\ta\tsingle\tpoint\tof\tfailure?\n\nDoes\tit\thave\tmore\tthan\tone\tpoint\tof\tfailure?\n\nCan\tany\tpoints\tof\tfailure\tbe\tarchitected\taway,\tor\tdo\tthey\tneed\tto\tbe mitigated?\n\nCatastrophes\tand\tFailure\tScenarios\n\nHave\tall\tof\tthe\tmicroservice’s\tfailure\tscenarios\tand\tpossible\tcatastrophes been\tidentified?\n\nWhat\tare\tcommon\tfailures\tacross\tthe\tmicroservice\tecosystem?\n\nWhat\tare\tthe\thardware-layer\tfailure\tscenarios\tthat\tcan\taffect\tthis microservice?\n\nWhat\tcommunication-layer\tand\tapplication-layer\tfailures\tcan\taffect\tthis microservice?\n\nWhat\tsorts\tof\tdependency\tfailures\tcan\taffect\tthis\tmicroservice?\n\nWhat\tare\tthe\tinternal\tfailures\tthat\tcould\tbring\tdown\tthis\tmicroservice?\n\nResiliency\tTesting\n\nDoes\tthis\tmicroservice\thave\tappropriate\tlint,\tunit,\tintegration,\tand\tend-to- end\ttests?\n\nDoes\tthis\tmicroservice\tundergo\tregular,\tscheduled\tload\ttesting?\n\nAre\tall\tpossible\tfailure\tscenarios\timplemented\tand\ttested\tusing\tchaos testing?\n\nFailure\tDetection\tand\tRemediation\n\nAre\tthere\tstandardized\tprocesses\tacross\tthe\tengineering\torganization(s)\tfor handling\tincidents\tand\toutages?\n\nHow\tdo\tfailures\tand\toutages\tof\tthis\tmicroservice\timpact\tthe\tbusiness?\n\nAre\tthere\tclearly\tdefined\tlevels\tof\tfailure?\n\nAre\tthere\tclearly\tdefined\tmitigation\tstrategies?\n\nDoes\tthe\tteam\tfollow\tthe\tfive\tstages\tof\tincident\tresponse\twhen\tincidents and\toutages\toccur?\n\nMonitoring\n\nKey\tMetrics\n\nWhat\tare\tthis\tmicroservice’s\tkey\tmetrics?\n\nWhat\tare\tthe\thost\tand\tinfrastructure\tmetrics?\n\nWhat\tare\tthe\tmicroservice-level\tmetrics?\n\nAre\tall\tthe\tmicroservice’s\tkey\tmetrics\tmonitored?\n\nLogging\n\nWhat\tinformation\tdoes\tthis\tmicroservice\tneed\tto\tlog?\n\nDoes\tthis\tmicroservice\tlog\tall\timportant\trequests?\n\nDoes\tthe\tlogging\taccurately\treflect\tthe\tstate\tof\tthe\tmicroservice\tat\tany given\ttime?\n\nIs\tthis\tlogging\tsolution\tcost-effective\tand\tscalable?\n\nDashboards\n\nDoes\tthis\tmicroservice\thave\ta\tdashboard?\n\nIs\tthe\tdashboard\teasy\tto\tinterpret?\tAre\tall\tkey\tmetrics\tdisplayed\ton\tthe dashboard?\n\nCan\tI\tdetermine\twhether\tor\tnot\tthis\tmicroservice\tis\tworking\tcorrectly\tby looking\tat\tthe\tdashboard?\n\nAlerting\n\nIs\tthere\tan\talert\tfor\tevery\tkey\tmetric?\n\nAre\tall\talerts\tdefined\tby\tgood,\tsignal-providing\tthresholds?\n\nAre\talert\tthresholds\tset\tappropriately\tso\tthat\talerts\twill\tfire\tbefore\tan\toutage occurs?\n\nAre\tall\talerts\tactionable?\n\nAre\tthere\tstep-by-step\ttriage,\tmitigation,\tand\tresolution\tinstructions\tfor each\talert\tin\tthe\ton-call\trunbook?\n\nOn-Call\tRotations\n\nIs\tthere\ta\tdedicated\ton-call\trotation\tresponsible\tfor\tmonitoring\tthis microservice?\n\nIs\tthere\ta\tminimum\tof\ttwo\tdevelopers\ton\teach\ton-call\tshift?\n\nAre\tthere\tstandardized\ton-call\tprocedures\tacross\tthe\tengineering organization?\n\nDocumentation\tand\tUnderstanding\n\nMicroservice\tDocumentation\n\nIs\tthe\tdocumentation\tfor\tall\tmicroservices\tstored\tin\ta\tcentralized,\tshared, and\teasily\taccessible\tplace?\n\nIs\tthe\tdocumentation\teasily\tsearchable?\n\nAre\tsignificant\tchanges\tto\tthe\tmicroservice\taccompanied\tby\tupdates\tto\tthe microservice’s\tdocumentation?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\ta\tdescription\tof\tthe microservice?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tarchitecture\tdiagram?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tcontact\tand\ton-call information?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tlinks\tto\timportant information?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tonboarding\tand development\tguide?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tinformation\tabout\tthe microservice’s\trequest\tflow,\tendpoints,\tand\tdependencies?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\ton-call\trunbook?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tFAQ\tsection?\n\nMicroservice\tUnderstanding\n\nCan\tevery\tdeveloper\ton\tthe\tteam\tanswer\tquestions\tabout\tthe\tproduction- readiness\tof\tthe\tmicroservice?\n\nIs\tthere\ta\tset\tof\tprinciples\tand\tstandards\tthat\tall\tmicroservices\tare\theld\tto?\n\nIs\tthere\tan\tRFC\tprocess\tin\tplace\tfor\tevery\tnew\tmicroservice?\n\nAre\texisting\tmicroservices\treviewed\tand\taudited\tfrequently?\n\nAre\tarchitecture\treviews\theld\tfor\tevery\tmicroservice\tteam?\n\nIs\tthere\ta\tproduction-readiness\taudit\tprocess\tin\tplace?\n\nAre\tproduction-readiness\troadmaps\tused\tto\tbring\tthe\tmicroservice\tto\ta production-ready\tstate?\n\nDo\tthe\tproduction-readiness\tstandards\tdrive\tthe\torganization’s\tOKRs?\n\nIs\tthe\tproduction-readiness\tprocess\tautomated?\n\nGlossary\n\nactionable\talert\n\nAn\talert\tthat,\twhen\ttriggered,\tcontains\ta\tstep-by-step\tprocess\tthat\tthe on-call\trotation\tcan\tfollow\tto\ttriage,\tmitigate,\tand\tresolve\tthe\talert.\n\nalerting\n\nThe\tpractice\tof\tnotifying\tan\ton-call\tdeveloper\t(or\tdevelopers)\twhen one\tof\ta\tservice’s\tkey\tmetrics\thas\treached\ta\tcritical\tor\twarning\talert threshold.\n\nalert\tthreshold\n\nStatic\tor\tdynamic\tquantities\tthat\tare\tset\tfor\teach\tkey\tmetric\tsignifying that\tthe\tkey\tmetric\tin\tquestion\tis\tat\ta\tnormal,\twarning,\tor\tcritical\tlevel; reaching\tthe\tthreshold\tshould\ttrigger\tan\tactionable\talert.\n\napplication\tplatform\tlayer\n\nThe\tthird\tlayer\tof\ta\tmicroservice\tecosystem,\tcontaining\tself-service internal\ttools,\tthe\tdevelopment\tenvironment,\ttest,\tpackage,\tbuild,\tand release\ttools,\tthe\tdeployment\tpipeline,\tmicroservice-level\tlogging,\tand microservice-level\tmonitoring.\n\napplication\tprogramming\tinterface\t(API)\n\nA\twell-defined\tclient-side\tinterface\tin\teach\tmicroservice\tthat\tallows other\tservices\tto\tinteract\twith\tit\tprogrammatically\tby\tsending\trequests to\tstatic\tendpoints.\n\narchitecture\tdiagram\n\nA\thigh-level\tvisual\trepresentation\tof\tthe\tarchitecture\tof\ta microservice.\n\narchitecture\treview\n\nAn\torganizational\tpractice\tand\tprocess\tfor\tevaluating,\tunderstanding, and\timproving\tthe\tarchitecture\tof\ta\tmicroservice.\n\nbare\tmetal\n\nThe\tterm\tused\tto\trefer\tto\tservers\towned,\trun,\tand\tmaintained\tby\tthe organization\titself,\tas\topposed\tto\thardware\trented\tfrom\tso-called\tcloud providers.\n\ncanary\n\nThe\tsecond\tstage\tof\tthe\tdeployment\tpipeline\tcontaining\ta\tsmall percentage\tof\tservers\thosting\tproduction\ttraffic\t(2%–5%\tof\tproduction traffic);\tused\tto\ttest\tnew\tbuilds\tthat\thave\tmade\tit\tthrough\tstaging before\tbeing\trolled\tout\tto\tall\tproduction\tservers.\n\ncandidate\tfor\tproduction\n\nA\tbuild\tthat\thas\tsuccessfully\tpassed\tall\tlint,\tunit,\tintegration,\tand\tend- to-end\ttests\tin\tthe\tdevelopment\tcycle\tand\tis\tready\tto\tbe\tintroduced into\tthe\tdeployment\tpipeline.\n\ncapacity\tplanning\n\nThe\torganizational\tpractice\tof\tplanned\tand\tscheduled\tresource allocation.\n\ncloud\tproviders\n\nCompanies\tsuch\tas\tAmazon\tWeb\tServices\t(AWS),\tGoogle\tCloud Platform\t(GCP),\tand\tMicrosoft\tAzure\tthat\tallow\thardware\tresources\tto be\trented\tand\teasily\taccessible\tover\tsecure\tnetworks.\n\ncode\ttesting\n\nTests\tthat\tcheck\tsyntax,\tstyle,\tindividual\tcomponents\tof\ta microservice,\thow\tthe\tcomponents\twork\ttogether,\tand\thow\tthe microservice\tperforms\twithin\tits\tcomplex\tdependency\tchains; comprised\tof\tlint\ttests,\tunit\ttests,\tintegration\ttests,\tand\tend-to-end tests.\n\ncommunication\tlayer\n\nThe\tsecond\tlayer\tof\tthe\tmicroservice\tecosystem;\tcontains\tthe\tnetwork, DNS,\tRPC\tframeworks,\tendpoints,\tmessaging,\tservice\tdiscovery, service\tregistry,\tand\tload\tbalancing.\n\nconcurrency\n\nApplications\tand\tmicroservices\tthat\thave\tconcurrency\tbreak\tup\teach task\tinto\tsmall\tpieces,\trather\tthan\thaving\tjust\tone\tprocess\tthat\tdoes\tall\n\ntask\tinto\tsmall\tpieces,\trather\tthan\thaving\tjust\tone\tprocess\tthat\tdoes\tall of\tthe\twork;\tessential\tproperty\trequired\tfor\tscalability.\n\ncontinuous\tintegration\n\nA\tprocess\tthat\tautomatically\tintegrates,\ttests,\tpackages,\tand\tbuilds new\tchanges\tto\tcode\ton\ta\tscheduled\tand\tcontinuous\tbasis.\n\nConway’s\tLaw\n\nAn\tinformal\t“law”\tof\tsoftware\tarchitecture\tnamed\tafter\tMelvin Conway\tstating\tthat\tthe\tarchitectural\tstructure\tof\ta\tcompany’s products\tis\tdetermined\tby\tthe\tcommunication\tpatterns\tof\tthe organization;\tsee\talso\tInverse\tConway’s\tLaw.\n\ndashboard\n\nA\tvisual,\tgraphical\tdisplay\ton\tan\tinternal\twebsite\tcontaining\tgraphs and\tcharts\tof\tthe\thealth,\tstatus,\tbehavior,\tand\tkey\tmetrics\tof\tan application,\tmicroservice,\tor\tsystem.\n\ndecommissioning\n\nThe\tprocess\tof\tretiring\ta\tmicroservice\tand/or\tits\tAPI\tendpoints\tso\tthat they\twill\tno\tlonger\tbe\tavailable\tfor\tuse\tby\tupstream\t(client)\tservices.\n\ndedicated\thardware\n\nServers\tor\tdatabases\tthat\thost\tor\tstore\tdata\tfor\tonly\tone\tapplication, microservice,\tor\tsystem.\n\ndefensive\tcaching\n\nThe\tpractice\tof\tcaching\tthe\tdata\tfrom\ta\tmicroservice’s\tdownstream dependencies\tto\tprotect\tthat\tmicroservice\tfrom\tsuffering\tstability\tand reliability\tissues\tif\tthe\tdownstream\tdependency\tis\tunavailable.\n\ndependency\n\nA\tname\tfor\tany\tother\tmicroservice\tthat\ta\tmicroservice\tmakes\trequests to;\talso\trefers\tto\tlibraries\tthat\ta\tmicroservice\tdepends\ton;\talso\tused\tto refer\tto\texternal\t(third-party)\tservices\tthat\ta\tmicroservice\tdepends\ton.\n\ndeployment\n\nThe\tprocess\tthrough\twhich\ta\tnew\tbuild\tis\tsent\tto\tservers\tand\tthe service\tis\tstarted.\n\ndeployment\tpipeline\n\nThe\tprocess\tof\tdeploying\tnew\tbuilds\tin\tthree\tstages\t(to\tstaging,\tto canary,\tand\tthen\tto\tproduction).\n\ndeprecation\n\nWhen\ta\tmicroservice\tand/or\tits\tendpoints\tare\tno\tlonger\tbeing maintained\tby\ta\tdevelopment\tteam\tand\tno\tlonger\trecommended\tfor use\tto\tupstream\t(client)\tservices.\n\ndeveloper\tvelocity\n\nThe\tspeed\tat\twhich\tdevelopment\tteams\tare\table\tto\titerate,\troll\tout\tnew features,\tand\tdeploy.\n\ndevelopment\tcycle\n\nA\tname\tfor\tthe\toverall\tprocess\tassociated\twith\tdeveloping\tan application,\tmicroservice,\tor\tsystem.\n\ndevelopment\tenvironment\n\nA\tsystem\tcontaining\ttools,\tenvironment\tvariables,\tand\tprocesses\tused by\tdevelopers\tto\twrite\tcode\tfor\tmicroservices.\n\nendpoint\n\nIn\tthis\tbook,\tthis\tterm\trefers\tto\tthe\tstatic\tAPI\tendpoints\t(HTTP,\tThrift, etc.)\tof\tmicroservices\tthat\trequests\tare\trouted\tto.\n\nend-to-end\ttests\n\nTests\tthat\tcheck\twhether\tchanges\tto\tan\tapplication,\tservice,\tor\tsystem work\tas\texpected\tby\ttesting\tendpoints,\tclients,\tdependencies,\tand\tany databases.\n\nexternal\tfailures\n\nFailures\twithin\tthe\tlower\tthree\tlayers\tof\tthe\tmicroservice\tecosystem stack.\n\nfull\tstaging\n\nWhen\tthe\tstaging\tphase\tof\tthe\tdeployment\tpipeline\truns\tas\ta complete\tmirror\tcopy\tof\tproduction.\n\ngrowth\tscale\n\nA\tname\tgiven\tto\tthe\tmeasure\tof\thow\tan\tapplication,\tmicroservice,\tor system\tscales;\tevery\tapplication,\tmicroservice,\tand\tsystem\thas\ttwo\n\ntypes\tof\tgrowth\tscales,\ta\tquantitative\tgrowth\tscale\tand\ta\tqualitative growth\tscale.\n\nhardware\tlayer\n\nThe\tfirst\tlayer\tof\tthe\tmicroservice\tecosystem;\tcontains\tphysical servers,\toperating\tsystems,\tresource\tisolation\tand\tabstraction, configuration\tmanagement,\thost-level\tmonitoring,\tand\thost-level logging.\n\nhardware\tresources\n\nSee\tresources.\n\nhorizontal\tscaling\n\nWhen\tan\tapplication\tor\tsystem\tis\tscaled\tby\tadding\tmore\tservers\t(or other\thardware\tresources).\n\nhost\tand\tinfrastructure\tmetrics\n\nKey\tmetrics\tof\tthe\tlower\tthree\tlayers\t(hardware\tlayer, communication\tlayer,\tand\tapplication\tplatform\tlayer)\tof\tthe microservice\tecosystem.\n\nhost\tparity\n\nWhen\ttwo\tseparate\tenvironments,\tsystems,\tor\tphases\tof\tthe deployment\tpipeline\t(e.g.,\tstaging\tversus\tproduction)\thave\tthe\tsame number\tof\thosts\tin\teach\tenvironment,\tsystem,\tdatacenter,\tor deployment\tphase.\n\ninfrastructure\n\nA\tterm\tused\tin\tthis\tbook\tto\trefer\tto\teither\tthe\tcombination\tof\tthe application\tplatform\tlayer\tand\tthe\tcommunication\tlayer\tor\tthe\tthree lowest\tlayers\tof\tthe\tmicroservice\tecosystem\t(hardware\tlayer, communication\tlayer,\tand\tapplication\tplatform\tlayer.\n\nintegration\ttests\n\nThese\ttest\thow\tthe\tcomponents\tof\tthe\tmicroservice\t(which\tare\ttested individually\tusing\tunit\ttests)\twork\ttogether.\n\ninternal\tfailures\n\nFailures\twithin\ta\tmicroservice.\n\nInverse\tConway’s\tLaw\n\nThe\tinverse\tof\tConway’s\tLaw,\twhich\tstates\tthat\tthe\torganizational structure\tof\ta\tcompany\tis\tdetermined\tby\tthe\tarchitecture\tof\tits product(s).\n\nkey\tmetrics\n\nProperties\tof\tan\tapplication,\tmicroservice,\tor\tsystem\tthat\tare\tnecessary and\tsufficient\tfor\tdescribing\tthe\thealth,\tstatus,\tand\tbehavior\tof\tthe application,\tmicroservice,\tor\tsystem.\n\nlint\ttests\n\nTests\tthat\tcheck\tsyntax\tand\tstyle\terrors;\tpart\tof\ta\tcode-testing\tsuite.\n\nload\tbalancing\n\nA\tdevice\tor\tservice\tthat\tdistributes\ttraffic\tacross\tmultiple\tservers\tor microservices.\n\nlogging\n\nThe\tpractice\tof\trecording\tthe\tevents\tof\tan\tapplication,\tmicroservice,\tor system.\n\nmicroservice\n\nA\tsmall,\treplaceable,\tmodular,\tindependently\tdeveloped\tand independently\tdeployed\tsoftware\tapplication\tthat\tis\tresponsible\tfor performing\tone\tfunction\twithin\ta\tlarger\tsystem.\n\nmicroservice\tecosystem\n\nA\tterm\tfor\tthe\toverall\tsystem\tcontaining\tthe\tmicroservices\tand infrastructure,\twhich\tcan\tbe\tdivided\tinto\tfour\tlayers\tcontaining\tthe microservices,\tthe\tapplication\tplatform,\tthe\tcommunication\tlayer,\tand the\thardware\tlayer.\n\nmicroservice\tlayer\n\nThe\tfourth\tlayer\tof\tthe\tmicroservice\tecosystem;\tcontains\tthe microservices\tand\tall\tmicroservice-specific\tconfigurations.\n\nmicroservice\tmetrics\n\nThe\tkey\tmetrics\tunique\tto\teach\tmicroservice\tin\tthe\tmicroservice layer\tof\tthe\tmicroservice\tecosystem.\n\nmonitoring\n\nThe\tpractice\tof\twatching\tand\ttracking\tthe\tstatus,\thealth,\tand\tbehavior of\tan\tapplication\tor\tmicroservice’s\tkey\tmetrics\tover\ta\tlong\tperiod\tof time.\n\nmonolith\n\nLarge,\tcomplex\tsoftware\tsystems\tthat\tare\tmaintained,\trun,\tand deployed\tas\tone\tsingle\tapplication\tcontaining\tall\tapplication-related code\tand\tfeatures.\n\non-call\trotation\n\nA\tgroup\tof\tdevelopers\tor\toperations\tengineers\tthat\tare\tresponsible\tfor responding\tto,\tmitigating,\tand\tresolving\tan\tapplication,\tmicroservice, or\tsystem’s\talerts,\tincidents,\tand\tfailures.\n\non-call\trunbook\n\nA\tsection\tof\tmicroservice\tdocumentation\tthat\tcontains\tgeneral\tincident and\toutage\tresponse\tprocedures,\tstep-by-step\tinstructions\ton\thow\tto triage,\tmitigate,\tand\tresolve\teach\talert,\tand\tgeneral\ttips\ton\thow\tto debug\tand\ttroubleshoot\tthe\tmicroservice;\tused\tby\tthe\tdevelopers\tor operational\tengineers\twho\tare\ton\tcall\tfor\tthe\tservice.\n\noperational\tengineers\n\nEngineers\twhose\tprimary\tresponsibilities\tare\tfor\tthe\toperational\ttasks associated\twith\trunning\ta\tsoftware\tapplication,\tincluding\tsystem administrators,\tTechOps,\tDevOps,\tand\tsite\treliability\tengineers.\n\noutage\n\nA\tperiod\tof\ttime\tduring\twhich\tan\tapplication,\tmicroservice,\tor\tother system\tis\tinaccessible\t(experiencing\tdowntime).\n\npartial\tstaging\n\nWhen\tthe\tstaging\tphase\tof\tthe\tdeployment\tpipeline\tis\tnot\ta\tcomplete mirror\tcopy\tof\tproduction,\tbut\twhere\tmicroservices\tin\tthe\tstaging environment\ttalk\tto\tthe\tproduction\tversions\tof\tclients,\tdependencies, and\tdatabases.\n\npartitioning\n\nThe\tprocess\tand\tarchitectural\tpractice\tof\tbreaking\teach\ttask\tup\tinto smaller\tpieces\tthat\tcan\tbe\tprocessed\tin\tparallel;\tessential\tproperty\tof\n\nsmaller\tpieces\tthat\tcan\tbe\tprocessed\tin\tparallel;\tessential\tproperty\tof scalability.\n\nproduction\n\nThe\tfinal\tstage\tof\tthe\tdeployment\tpipeline\twhere\tall\treal-world\ttraffic is\thosted;\talso\tused\tto\trefer\tto\treal-world\ttraffic\tand\tthe\tenvironment hosting\tthat\ttraffic.\n\nproduction-readiness\taudit\n\nThe\tprocess\tof\tevaluating\ta\tmicroservice’s\tproduction-readiness\tusing a\tproduction-readiness\tchecklist.\n\nproduction-readiness\tautomation\n\nA\tmethod\tfor\tensuring\tthat\tmicroservices\tmeet\tthe\tproduction- readiness\tstandards\tby\tautomatically\tand\tprogrammatically\tchecking whether\teach\tmicroservice\tadheres\tto\tthe\trequirements\tassociated\twith each\tproduction-readiness\tstandard.\n\nproduction-readiness\tchecklist\n\nA\tlist\tof\tproduction-readiness\tstandards,\talong\twith\tspecific requirements\tthat\tcan\tbe\timplemented\tto\tachieve\teach\tproduction- readiness\tstandard.\n\nproduction-readiness\troadmap\n\nA\tdocument\tused\tas\tpart\tof\tthe\tproduction-readiness\tprocess\tthat details\tthe\tsteps\tthat\tneed\tto\tbe\ttaken\tto\tbring\ta\tmicroservice\tto\ta production-ready\tstate.\n\nproduction-readiness\tscore\n\nA\tscore\tassigned\tto\tmicroservices\tthat\tis\tcalculated\tbased\ton\thow\twell the\tmicroservice\tin\tquestion\tmeets\tthe\trequirements\tassociated\twith each\tproduction-readiness\tstandard.\n\npublish–subscribe\tmessaging\n\nAn\tasynchronous\tmessaging\tparadigm\tin\twhich\tclients\tsubscribe\tto\ta topic,\tand\twill\treceive\ta\tmessage\twhenever\ta\tpublisher\tpublishes\ta message\tto\tthat\ttopic.\n\nqualitative\tgrowth\tscale\n\nA\thigh-level,\tqualitative\tmeasure\tof\thow\tan\tapplication,\tmicroservice,\n\nor\tsystem\tscales\tthat\tis\ttied\tto\thigh-level\tbusiness\tmetrics;\tone\ttype\tof growth\tscale.\n\nquantitative\tgrowth\tscale\n\nA\tquantitative\tmeasure\tof\thow\tan\tapplication,\tmicroservice,\tor\tsystem scales;\tobtained\tby\ttranslating\tthe\tqualitative\tgrowth\tscale\tinto\ta measurable\tquantity;\tone\ttype\tof\tgrowth\tscale;\tusually\texpressed\tin terms\tof\trequests\tper\tsecond,\tqueries\tper\tsecond,\tor\ttransactions\tper second\tthat\tthe\tapplication,\tmicroservice,\tor\tsystem\tcan\tprocess.\n\nremote\tprocedure\tcall\t(RPC)\n\nA\tcall\tmade\tover\tthe\tnetwork\tto\ta\tremote\tserver\tthat\tis\tdesigned\tto look\tand\tbehave\texactly\tlike\ta\tlocal\tprocedure\tcall;\tused\textensively\tin microservice\tarchitecture\tand\tin\tall\tlarge-scale\tdistributed\tsystems.\n\nrepository\n\nA\tcentralized\tarchive\twhere\tall\tthe\tsource\tcode\tfor\tan\tapplication\tor service\tis\tstored.\n\nrequest\tflow\n\nA\tname\tfor\tthe\tpattern\tof\tsteps\tthat\tare\ttaken\twhen\ta\trequest\tis\tmade from\tone\tmicroservice\tto\tanother.\n\nrequest–response\tmessaging\n\nA\tmessaging\tparadigm\tin\twhich\ta\tclient\twill\tsend\ta\trequest\tto\ta microservice\t(or\tmessage\tbroker)\twhich\twill\trespond\twith\tthe information\trequested.\n\nresource\tallocation\n\nDividing\tavailable\thardware\tresources\tacross\tmicroservice ecosystems.\n\nresource\tbottlenecks\n\nScalability\tlimitations\tcaused\tby\tthe\tway\tan\tapplication,\tmicroservice, or\tsystem\tuses\tits\tresources.\n\nresource\trequirements\n\nThe\tresources\trequired\tby\tan\tapplication,\tmicroservice,\tor\tsystem.\n\nresources\n\nAn\tabstraction\tof\tvarious\tperformance\tproperties\tof\thardware (servers),\tlike\tCPU,\tmemory,\tnetwork,\tetc.\n\nself-service\tinternal\ttools\n\nStandardized\ttools\tin\tthe\tapplication\tplatform\tlayer\tof\ta microservice\tecosystem\tthat\tare\tbuilt\tto\thelp\tdevelopers\twork\twith the\tlower\tlayers\tof\tthe\tmicroservice\tecosystem\tto\tdevelop,\tdeploy,\tand run\ttheir\tmicroservices.\n\nservice\tdiscovery\n\nA\tsystem\tthat\tdiscovers\twhere\tall\tinstances\tof\ta\tmicroservice\tare hosted,\tensuring\tthat\ttraffic\tis\trouted\tto\tthe\tappropriate\tservers\thosting the\tapplication.\n\nservice\tregistry\n\nA\tdatabase\tthat\ttracks\tall\tports\tand\tIPs\tall\tof\tmicroservices\tand systems\twithin\ta\tmicroservice\tecosystem.\n\nshared\thardware\n\nServers\tor\tdatabases\tthat\tare\tused\tto\thost\tor\tstore\tdata\tfor\tmore\tthan one\tapplication,\tmicroservice,\tor\tsystem\tsimultaneously.\n\nsingle\tpoint\tof\tfailure\t(SPOF)\n\nA\tpiece\tof\tan\tapplication,\tmicroservice,\tor\tsystem\tthat,\tif\tit\tfails,\twill bring\tdown\tthe\tapplication,\tmicroservice,\tor\tsystem.\n\nsite\treliability\tengineering\t(SRE)\n\nOperational\tengineers\tresponsible\tin\tlarge\tcompanies\tfor\tthe\treliability of\tthe\tapplications,\tmicroservices,\tor\tsystems\twithin\tthe\tengineering organization(s).\n\nsplitting\tthe\tmonolith\n\nThe\tname\tgiven\tto\tthe\tprocess\tof\tbreaking\ta\tlarge\tmonolithic application\tinto\ta\tset\tof\tmicroservices.\n\nstaging\n\nThe\tfirst\tphase\tof\ta\tdeployment\tpipeline\tthat\tdoes\tnot\tserve production\ttraffic\tand\tis\tused\tto\ttest\tnew\tbuilds;\tusually\ta\tmirror\tcopy of\tproduction;\tmay\tbe\timplemented\tas\teither\tfull\tstaging\tor\tpartial staging.\n\nthree-tier\tarchitecture\n\nA\tbasic\tarchitecture\tfor\tsoftware\tapplications\tconsisting\tof\ta\tfrontend (client-side)\tpiece,\ta\tbackend\tpiece,\tand\tsome\ttype\tof\tdatastore.\n\nunit\ttests\n\nSmall,\tindependent\ttests\tthat\trun\tover\tsmall\tpieces\t(or\tunits)\tor\ta microservice’s\tcode;\tpart\tof\tcode\ttesting.\n\nvertical\tscaling\n\nWhen\tan\tapplication\tor\tsystem\tis\tscaled\tby\tincreasing\tthe\tresources (CPU,\tRAM)\tof\teach\thost\tthat\tthe\tapplication\tor\tsystem\tis\trunning\ton.\n\nIndex\n\nA\n\nalerts,\tMonitoring,\tPrinciples\tof\tMicroservice\tMonitoring,\tAlerting- Handling\tAlerts,\tAlerting\n\nApache\tKafka,\tRPCs,\tendpoints,\tand\tmessaging\n\nApache\tMesos,\tEfficient\tUse\tof\tResources,\tResource\tBottlenecks\n\nApache\tThrift\tendpoints,\tMicroservice\tArchitecture,\tRPCs,\tendpoints, and\tmessaging\n\nAPI\t(application\tprogramming\tinterface)\tendpoints,\tMicroservice Architecture-Microservice\tArchitecture\n\nmessaging\tto,\tRPCs,\tendpoints,\tand\tmessaging\n\napplication\tarchitectures,\tFrom\tMonoliths\tto\tMicroservices-From Monoliths\tto\tMicroservices\n\napplication\tplatform,\tLayer\t3:\tThe\tApplication\tPlatform-Logging\tand monitoring,\tCommunication-Level\tand\tApplication\tPlatform–Level Failures,\tCommunication-Level\tand\tApplication\tPlatform–Level Failures\n\napplication\tscalability,\tFrom\tMonoliths\tto\tMicroservices-From Monoliths\tto\tMicroservices\n\narchitecture\tdiagrams,\tArchitecture\tDiagram\n\narchitecture\treviews,\tPreface,\tArchitecture\tReviews-Architecture Reviews\n\naudits,\tproduction-readiness,\tProduction-Readiness\tAudits\n\nautomation,\tproduction-readiness,\tProduction-Readiness\tAutomation- Production-Readiness\tAutomation\n\navailability,\tAvailability:\tThe\tGoal\tof\tStandardization-Production- Readiness\tStandards\n\nAzure,\tLayer\t1:\tHardware\n\nB\n\nbad\tdeployments,\tCommon\tFailures\tAcross\tan\tEcosystem\n\nbare\tmetal,\tLayer\t1:\tHardware\n\nbottlenecks,\tresource,\tResource\tAwareness,\tResource\tBottlenecks\n\nbottlenecks,\tscalability,\tResource\tBottlenecks\n\nBrooks,\tFrederick,\tOrganizational\tChallenges,\tImplementing Production-Readiness\n\nC\n\ncaching,\tdefensive,\tDependencies\n\ncanary\tenvironment,\tCanary-Canary\n\ncandidates\tfor\tproduction,\tStaging\n\ncapacity\tplanning,\tCapacity\tPlanning-Capacity\tPlanning,\tCapacity Planning\n\ncatastrophe-preparedness,\tFault\tTolerance\tand\tCatastrophe- Preparedness-Performance\n\n(see\talso\tfault\ttolerance)\n\nCelery,\tRPCs,\tendpoints,\tand\tmessaging,\tAvoiding\tSingle\tPoints\tof Failure\n\nCentOS,\tLayer\t1:\tHardware\n\nchaos\ttesting,\tFault\tTolerance\tand\tCatastrophe-Preparedness, Principles\tof\tBuilding\tFault-Tolerant\tMicroservices,\tResiliency Testing,\tChaos\tTesting-Chaos\tTesting\n\nchecklists\n\nfor\tevaluation,\tEvaluate\tYour\tMicroservice-Microservice Understanding\n\nfor\tproduction-readiness,\tProduction-Readiness\tChecklist-A Production-Ready\tService\tIs\tDocumented\tand\tUnderstood\n\ncircuit\tbreakers,\tRouting\tand\tDiscovery\n\ncloud\tproviders,\tLayer\t1:\tHardware\n\ncode\tcomments,\tMicroservice\tDocumentation\n\ncode\treviews,\tThe\tDevelopment\tCycle,\tCommon\tFailures\tAcross\tan Ecosystem\n\ncode\ttesting,\tFault\tTolerance\tand\tCatastrophe-Preparedness, Principles\tof\tBuilding\tFault-Tolerant\tMicroservices,\tCode\tTesting- Automating\tcode\ttests\n\ncommunication,\tLayer\t2:\tCommunication-Service\tdiscovery,\tservice registry,\tand\tload\tbalancing\n\nRPCs,\tendpoints,\tand\tmessaging,\tRPCs,\tendpoints,\tand\tmessaging\n\nservice\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing,\tService discovery,\tservice\tregistry,\tand\tload\tbalancing-Service\tdiscovery, service\tregistry,\tand\tload\tbalancing\n\ncommunication\tparadigms,\tRPCs,\tendpoints,\tand\tmessaging\n\ncommunication-level\tfailures,\tCommunication-Level\tand\tApplication Platform–Level\tFailures-Communication-Level\tand\tApplication Platform–Level\tFailures\n\ncompany\treorganization\tfor\tmicroservice\tadoption,\tFrom\tMonoliths\tto Microservices\n\ncompetition\tfor\tresources,\tCompetition\tfor\tResources\n\nconcurrency,\tFrom\tMonoliths\tto\tMicroservices\n\nconfiguration\tmanagement,\tSelf-service\tinternal\tdevelopment\ttools\n\nconfiguration\tmanagement\ttools,\tLayer\t1:\tHardware\n\ncontainerization,\tEfficient\tUse\tof\tResources\n\nConway’s\tLaw,\tThe\tInverse\tConway’s\tLaw\n\n(see\talso\tInverse\tConway’s\tLaw)\n\ncoordination\tof\tincident\tresponse,\tCoordination\n\nCPU\trequirements,\tResource\tRequirements\n\nD\n\ndashboards,\tMonitoring,\tCanary,\tPrinciples\tof\tMicroservice Monitoring,\tDashboards-Dashboards,\tDashboards\n\ndata\tstorage,\tMicroservice\tArchitecture\n\nchallenges\tof,\tDatabase\tChallenges\tin\tMicroservice\tArchitecture\n\nchoices\tin,\tDatabase\tChoice\tin\tMicroservice\tEcosystems-Database Choice\tin\tMicroservice\tEcosystems\n\nscalability\tof,\tScalability,\tScalable\tData\tStorage-Database Challenges\tin\tMicroservice\tArchitecture,\tScalable\tData\tStorage\n\ndatabase\tconnection\tlimitations,\tDatabase\tChallenges\tin\tMicroservice Architecture\n\nDebian,\tLayer\t1:\tHardware\n\ndebugging\tlogs,\tLogging\n\ndecommissioning,\tDeprecation\tand\tDecommissioning,\tDeprecation\tand Decommissioning\n\ndependencies,\tDependencies-Dependencies,\tDependencies\n\ndocumentation,\tRequest\tFlows,\tEndpoints,\tand\tDependencies\n\nfailures,\tDependency\tFailures-Dependency\tFailures\n\nscaling,\tScalability,\tDependency\tScaling-Dependency\tScaling, Dependency\tScaling\n\ndependency\tchains,\tPrinciples\tof\tBuilding\tFault-Tolerant Microservices\n\ndeployment\tfailures,\tCommon\tFailures\tAcross\tan\tEcosystem\n\ndeployment\tpipeline,\tDeployment\tpipeline,\tThe\tDeployment\tPipeline- Enforcing\tStable\tand\tReliable\tDeployment,\tThe\tDeployment\tPipeline\n\ncanary\tenvironment,\tCanary-Canary\n\nenforcing\tstable\tand\treliable\tdeployment,\tEnforcing\tStable\tand Reliable\tDeployment-Enforcing\tStable\tand\tReliable\tDeployment\n\nload\ttesting\tin,\tRunning\tload\ttests\tin\tstaging\tand\tproduction\n\nproduction,\tProduction\n\nstaging\tenvironment,\tStaging-Partial\tstaging\n\ndeprecation\tand\tdecommissioning,\tDeprecation\tand\tDecommissioning, Deprecation\tand\tDecommissioning\n\ndesign\treviews,\tCommon\tFailures\tAcross\tan\tEcosystem\n\ndevelopment\tcycle,\tThe\tdevelopment\tcycle,\tThe\tDevelopment\tCycle- The\tDevelopment\tCycle,\tThe\tDevelopment\tCycle\n\ndevelopment\tenvironments,\tThe\tdevelopment\tcycle\n\nDocker,\tResource\tBottlenecks\n\ndocumentation,\tDocumentation-Implementing\tProduction-Readiness, Documentation\tand\tUnderstanding-Microservice\tUnderstanding,\tA Production-Ready\tService\tIs\tDocumented\tand\tUnderstood, Microservice\tDocumentation\n\narchitecture\tdiagram,\tArchitecture\tDiagram\n\ncontact\tand\ton-call\tinformation,\tContact\tand\tOn-Call\tInformation\n\ndescription\tof\tservice,\tDescription\n\nFAQ\tsection,\tFAQ\n\nlinks\tto\trepository,\tLinks\n\non-call\trunbooks\tsection,\tOn-Call\tRunbooks-On-Call\tRunbooks\n\nonboarding\tand\tdevelopment\tsection,\tOnboarding\tand Development\tGuide\n\noverview,\tPrinciples\tof\tMicroservice\tDocumentation\tand Understanding-Principles\tof\tMicroservice\tDocumentation\tand Understanding\n\nrequest\tflow,\tendpoint,\tand\tdependencies\tinformation,\tRequest Flows,\tEndpoints,\tand\tDependencies\n\nupdating,\tMicroservice\tDocumentation\n\ndynamic\tscaling,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nE\n\nElastic\tCompute\tCloud\t(AWS\tEC2),\tLayer\t1:\tHardware\n\nElastic\tLoad\tBalancer\t(AWS\tELB),\tService\tdiscovery,\tservice\tregistry, and\tload\tbalancing\n\nend-to-end\ttests,\tEnd-to-end\ttests\n\nendpoint\tdocumentation,\tRequest\tFlows,\tEndpoints,\tand\tDependencies\n\nEureka,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nevaluation\tchecklists,\tEvaluate\tYour\tMicroservice-Microservice Understanding\n\nexternal\tfailures,\tFault\tTolerance\tand\tCatastrophe-Preparedness\n\nF\n\nfailures\t(see\tfault\ttolerance)\n\nFAQ\tdocumentation,\tFAQ\n\nfault\ttolerance,\tFault\tTolerance\tand\tCatastrophe-Preparedness- Performance,\tA\tProduction-Ready\tService\tIs\tFault\tTolerant\tand Prepared\tfor\tAny\tCatastrophe,\tAvoiding\tSingle\tPoints\tof\tFailure\n\napplication\tplatform-layer\tfailures,\tCommunication-Level\tand Application\tPlatform–Level\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\ncategorization\tof\tfailures,\tAppropriate\tCategorization- Categorizing\tincidents\tand\toutages\n\ncommon\tcross-ecosystem\tfailures,\tCommon\tFailures\tAcross\tan Ecosystem-Common\tFailures\tAcross\tan\tEcosystem\n\ncommunication-level\tfailures,\tCommunication-Level\tand Application\tPlatform–Level\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\ndependency\tfailures,\tDependency\tFailures-Dependency\tFailures\n\nfailure\tdetection\tand\tmitigation,\tMore\tWays\tto\tFail,\tPrinciples\tof Building\tFault-Tolerant\tMicroservices,\tAvoiding\tSingle\tPoints\tof Failure,\tFailure\tDetection\tand\tRemediation-Failure\tDetection\tand Remediation,\tFailure\tDetection\tand\tRemediation\n\nhardware\tfailures,\tHardware\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\nidentifying\tfailure\tscenarios,\tPrinciples\tof\tBuilding\tFault-Tolerant Microservices,\tCatastrophes\tand\tFailure\tScenarios\n\nincidents\tand\toutages,\tIncidents\tand\tOutages-Follow-up\n\ninternal\t(microservice)\tfailures,\tInternal\t(Microservice)\tFailures\n\noverview\tof\tpotential\tfailures\tand\tcatastrophes,\tCatastrophes\tand Failure\tScenarios-Common\tFailures\tAcross\tan\tEcosystem\n\nprinciples\tof,\tFault\tTolerance\tand\tCatastrophe-Preparedness- Principles\tof\tBuilding\tFault-Tolerant\tMicroservices\n\nresiliency\ttesting,\tResiliency\tTesting-Chaos\tTesting\n\nreview\tquestions,\tEvaluate\tYour\tMicroservice\n\nsingle\tpoints\tof\tfailure,\tPrinciples\tof\tBuilding\tFault-Tolerant Microservices-Avoiding\tSingle\tPoints\tof\tFailure\n\nfollow-up,\tin\tincident\tresponse,\tFollow-up\n\nfull\tstaging,\tFull\tstaging-Full\tstaging,\tPartial\tstaging\n\nG\n\nGitHub,\tThe\tdevelopment\tcycle\n\nGoogle\tCloud\tPlatform\t(GCP),\tLayer\t1:\tHardware\n\ngrowth\tscale,\tScalability,\tKnowing\tthe\tGrowth\tScale-The\tQuantitative Growth\tScale,\tCapacity\tPlanning,\tTraffic\tManagement,\tKnowing\tthe Growth\tScale\n\nH\n\nHAProxy,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nhardware,\tLayer\t1:\tHardware-Layer\t1:\tHardware\n\nhardware\tfailures,\tHardware\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\nhardware\trequests\tplanning,\tCapacity\tPlanning\n\nhardware\tresource\tutilization,\tEfficient\tUse\tof\tResources\n\nhealth\tchecks,\tRouting\tand\tDiscovery\n\nhorizontal\tscaling,\tFrom\tMonoliths\tto\tMicroservices\n\nhost\tparity,\tStaging\n\nhost-level\tlogging,\tLayer\t1:\tHardware\n\nhost-level\tmetrics,\tKey\tMetrics-Key\tMetrics\n\nhost-level\tmonitoring,\tLayer\t1:\tHardware\n\nhotfixes,\tEnforcing\tStable\tand\tReliable\tDeployment\n\nHTTP+REST/THRIFT,\tRPCs,\tendpoints,\tand\tmessaging\n\nHypertext\tTransfer\tProtocol\t(HTTP),\tRPCs,\tendpoints,\tand\tmessaging\n\nI\n\nimplenting\tproduction-readiness,\tImplementing\tProduction-Readiness- Implementing\tProduction-Readiness\n\nincident\tresponse,\tIncidents\tand\tOutages-Follow-up\n\ncategorizing\tincidents\tand\toutages,\tCategorizing\tincidents\tand outages-Categorizing\tincidents\tand\toutages\n\nfive\tstages\tof,\tThe\tFive\tStages\tof\tIncident\tResponse-Follow-up\n\nprocedures\tfor,\tFault\tTolerance\tand\tCatastrophe-Preparedness\n\ninfrastructure\tdevelopment,\tThe\tMicroservice\tEcosystem-Logging\tand monitoring\n\n(see\talso\tmicroservice\tecosystem)\n\napplication\tplatform,\tLayer\t3:\tThe\tApplication\tPlatform-Logging and\tmonitoring\n\ncommunication,\tLayer\t2:\tCommunication-Service\tdiscovery, service\tregistry,\tand\tload\tbalancing\n\nhardware,\tLayer\t1:\tHardware-Layer\t1:\tHardware\n\ninfrastructure\tmetrics,\tKey\tMetrics-Key\tMetrics\n\ninfrastructure\trequirements,\tFrom\tMonoliths\tto\tMicroservices\n\nintegration\ttests,\tIntegration\ttests\n\ninternal\tfailures,\tFault\tTolerance\tand\tCatastrophe-Preparedness, Internal\t(Microservice)\tFailures\n\nInverse\tConway’s\tLaw,\tThe\tInverse\tConway’s\tLaw-The\tInverse Conway’s\tLaw,\tDatabase\tChoice\tin\tMicroservice\tEcosystems\n\nJ\n\nJSON\tdata,\tRPCs,\tendpoints,\tand\tmessaging\n\nK\n\nkey\tfunctions\tidentification,\tFrom\tMonoliths\tto\tMicroservices\n\nkey\tmetrics,\tTraffic\tManagement,\tKey\tMetrics-Key\tMetrics, Dashboards-Dashboards,\tKey\tMetrics\n\nkey\tmetrics\tdisplays,\tMonitoring\n\n(see\talso\tdashboards)\n\nkey\tmetrics\tthresholds,\tSetting\tup\tEffective\tAlerting\n\nL\n\nlinks\tdocumentation,\tLinks\n\nlint\ttests,\tLint\ttests\n\nLinux,\tLayer\t1:\tHardware\n\nload\tbalancing,\tFrom\tMonoliths\tto\tMicroservices,\tService\tdiscovery, service\tregistry,\tand\tload\tbalancing\n\nload\ttesting,\tFault\tTolerance\tand\tCatastrophe-Preparedness,\tThe Qualitative\tGrowth\tScale,\tTraffic\tManagement,\tPrinciples\tof\tBuilding Fault-Tolerant\tMicroservices,\tResiliency\tTesting,\tLoad\tTesting- Automating\tload\ttesting\n\nlogging,\tMonitoring,\tCanary,\tPrinciples\tof\tMicroservice\tMonitoring, Logging-Logging,\tLogging\n\nLRU\t(Least\tRecently\tUsed)\tcache,\tDependencies\n\nM\n\nmessage\tbroker,\tRPCs,\tendpoints,\tand\tmessaging\n\nmessaging\ttechnologies,\tRPCs,\tendpoints,\tand\tmessaging\n\nmetrics\t(see\tkey\tmetrics)\n\nmicroservice\t(internal)\tfailures,\tInternal\t(Microservice)\tFailures\n\nmicroservice\tadoption\tfrom\tmonolith,\tFrom\tMonoliths\tto Microservices-From\tMonoliths\tto\tMicroservices\n\nmicroservice\tarchitecture,\tMicroservice\tArchitecture-Microservice Architecture\n\nAPI\tendpoints,\tMicroservice\tArchitecture-Microservice Architecture\n\nbenefits\tof,\tFrom\tMonoliths\tto\tMicroservices\n\nchallenges\tof,\tMicroservices\n\nconcept\tand\tgoals\tof,\tFrom\tMonoliths\tto\tMicroservices-From Monoliths\tto\tMicroservices\n\ndata\tstorage,\tMicroservice\tArchitecture\n\nremote\tprocedure\tcalls\t(RPCs),\tMicroservice\tArchitecture\n\ntrade-offs\tof\t(see\torganizational\tchallenges)\n\nmicroservice\tecosystem,\tThe\tMicroservice\tEcosystem-Layer\t4: Microservices\n\napplication\tplatform\tlayer,\tLayer\t3:\tThe\tApplication\tPlatform- Logging\tand\tmonitoring,\tCommunication-Level\tand\tApplication Platform–Level\tFailures-Communication-Level\tand\tApplication Platform–Level\tFailures\n\ncommon\tfailures\tacross,\tCommon\tFailures\tAcross\tan\tEcosystem- Common\tFailures\tAcross\tan\tEcosystem\n\ncommunication\tlayer,\tLayer\t2:\tCommunication-Service\tdiscovery, service\tregistry,\tand\tload\tbalancing,\tCommunication-Level\tand Application\tPlatform–Level\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\ncreation\tof,\tFrom\tMonoliths\tto\tMicroservices\n\nhardware\tlayer,\tLayer\t1:\tHardware-Layer\t1:\tHardware, Hardware\tFailures-Communication-Level\tand\tApplication Platform–Level\tFailures\n\nmicroservice\tlayer,\tLayer\t4:\tMicroservices-Layer\t4: Microservices,\tDependency\tFailures-Dependency\tFailures\n\nmicroservice\tmetrics,\tKey\tMetrics-Key\tMetrics\n\nmicroservice\tversioning,\tLogging\n\nmicroservice-level\tlogging,\tLogging\tand\tmonitoring\n\nmicroservices\n\ncategorizing,\tCategorizing\tmicroservices\n\nstandards\tcreation\tfor,\tPreface-Preface\n\numbrella\tprinciples\tfor,\tPreface\n\nunderstanding\tof\t(see\tunderstanding\tof\tmicroservices)\n\nMicrosoft\tAzure,\tLayer\t1:\tHardware\n\nmigration\toptions,\tFrom\tMonoliths\tto\tMicroservices\n\nmitigation,\tMitigation\n\nmonitoring,\tMonitoring-Documentation,\tCanary,\tTraffic\tManagement, Monitoring-On-Call\tRotations,\tA\tProduction-Ready\tService\tIs Properly\tMonitored,\tKey\tMetrics-On-Call\tRotations\n\nalerts,\tAlerting-Handling\tAlerts\n\ndashboards,\tDashboards-Dashboards\n\nkey\tmetrics,\tKey\tMetrics-Key\tMetrics\n\nlogging,\tLogging-Logging\n\non-call\trotations,\tOn-Call\tRotations-On-Call\tRotations\n\noverview,\tPrinciples\tof\tMicroservice\tMonitoring-Principles\tof Microservice\tMonitoring\n\nmonolithic\tapplications\n\nchallenges\tof,\tMicroservices\n\nscalability\tissues\twith,\tFrom\tMonoliths\tto\tMicroservices\n\nsplitting\tinto\tmicroservices,\tFrom\tMonoliths\tto\tMicroservices- From\tMonoliths\tto\tMicroservices\n\nmonoliths,\tdefined,\tFrom\tMonoliths\tto\tMicroservices\n\nmultiple-location\tdatacenter\tissues,\tTraffic\tManagement\n\nThe\tMythical\tMan-Month\t(Brooks),\tOrganizational\tChallenges, Implementing\tProduction-Readiness\n\nN\n\nNetflix\tEureka,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nNginx,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nNoSQL\tdatabases,\tDatabase\tChoice\tin\tMicroservice\tEcosystems\n\nO\n\non-call\tinformation,\tContact\tand\tOn-Call\tInformation\n\non-call\trotations,\tPrinciples\tof\tMicroservice\tMonitoring,\tOn-Call Rotations-On-Call\tRotations,\tOn-Call\tRotations\n\non-call\trunbooks,\tHandling\tAlerts,\tOn-Call\tRunbooks-On-Call Runbooks\n\nonboarding\tand\tdevelopment\tinformation,\tOnboarding\tand Development\tGuide\n\noperating\tsystems,\tLayer\t1:\tHardware\n\noperational\tfailures,\tCommon\tFailures\tAcross\tan\tEcosystem\n\norganizational\tchallenges,\tOrganizational\tChallenges-Competition\tfor Resources\n\ncompetition\tfor\tresources,\tCompetition\tfor\tResources\n\nInverse\tConway’s\tLaw,\tThe\tInverse\tConway’s\tLaw-The\tInverse Conway’s\tLaw\n\nmitigating\tfailure,\tMore\tWays\tto\tFail\n\ntechnical\tsprawl,\tTechnical\tSprawl-Technical\tSprawl\n\norganizational\tunderstanding\t(see\tunderstanding\tof\tmicroservices)\n\noutages,\tIncidents\tand\tOutages-Follow-up\n\nP\n\npartial\tstaging,\tPartial\tstaging-Partial\tstaging\n\npartitioning,\tFrom\tMonoliths\tto\tMicroservices\n\nperformance,\tPerformance,\tScalability\tand\tPerformance\n\n(see\talso\tscalability\tand\tperformance)\n\nPhabricator,\tThe\tdevelopment\tcycle\n\npostmortems,\tFollow-up\n\npredicting\tfailures,\tFault\tTolerance\tand\tCatastrophe-Preparedness- Performance\n\nproduction,\tProduction\n\nproduction-readiness\n\naudits\tand\troadmaps\tto,\tPreface,\tProduction-Readiness\tAudits, Production-Readiness\tRoadmaps\n\nautomation,\tProduction-Readiness\tAutomation-Production- Readiness\tAutomation\n\nchecklist\tfor,\tProduction-Readiness\tChecklist-A\tProduction- Ready\tService\tIs\tDocumented\tand\tUnderstood\n\ndefining,\tPreface\n\nstandardization\tfor\t(see\tstandardization)\n\nstandards\timplementation,\tImplementing\tProduction-Readiness- Implementing\tProduction-Readiness\n\nprogramming\tlanguage\tlimitations,\tProgramming\tLanguage Limitations-Programming\tLanguage\tLimitations\n\nprovisioning,\tLayer\t1:\tHardware\n\npublish–subscribe\t(pubsub)\tmessaging,\tRPCs,\tendpoints,\tand messaging\n\nQ\n\nqualitative\tgrowth\tscale,\tThe\tQualitative\tGrowth\tScale-The\tQualitative Growth\tScale,\tCapacity\tPlanning,\tDependency\tScaling,\tTraffic Management\n\nquantitative\tgrowth\tscale,\tThe\tQuantitative\tGrowth\tScale,\tCapacity Planning,\tTraffic\tManagement\n\nqueries\tper\tsecond\t(QPS),\tThe\tQualitative\tGrowth\tScale\n\nR\n\nRabbitMQ,\tRPCs,\tendpoints,\tand\tmessaging\n\nRAM\trequirements,\tResource\tRequirements\n\nREADME\tfiles,\tMicroservice\tDocumentation\n\nRedis,\tRPCs,\tendpoints,\tand\tmessaging,\tAvoiding\tSingle\tPoints\tof Failure\n\nrelational\tdatabases,\tDatabase\tChoice\tin\tMicroservice\tEcosystems\n\nreliability,\tReliability-Scalability,\tStability\tand\tReliability\n\n(see\talso\tstability\tand\treliability)\n\nremote\tprocedure\tcalls\t(RPCs),\tMicroservice\tArchitecture,\tRPCs, endpoints,\tand\tmessaging\n\nrepresentational\tstate\ttransfer\t(REST)\tendpoints,\tRPCs,\tendpoints, and\tmessaging\n\nrequest\tflow\tdocumentation,\tRequest\tFlows,\tEndpoints,\tand Dependencies\n\nrequest\tfor\tcomments\t(RFC),\tMicroservice\tUnderstanding\n\nrequests\tper\tsecond\t(RPS),\tThe\tQualitative\tGrowth\tScale\n\nrequest–response\tmessaging,\tRPCs,\tendpoints,\tand\tmessaging\n\nresiliency\ttesting,\tFault\tTolerance\tand\tCatastrophe-Preparedness, Principles\tof\tBuilding\tFault-Tolerant\tMicroservices,\tResiliency Testing-Chaos\tTesting,\tResiliency\tTesting\n\nresolution\tof\tincidents,\tResolution\n\nresource\tallocation\tand\tdistribution,\tEfficient\tUse\tof\tResources\n\nresource\tawareness,\tResource\tAwareness-Resource\tBottlenecks, Resource\tAwareness\n\nresource\tbottlenecks,\tResource\tAwareness,\tResource\tBottlenecks\n\nresource\tisolation,\tLayer\t1:\tHardware\n\nresource\tmanagement,\tLayer\t1:\tHardware\n\nresource\trequirements,\tResource\tRequirements\n\nresource\tutilization,\tPerformance,\tEfficient\tUse\tof\tResources\n\nresources,\tcompetition\tfor,\tCompetition\tfor\tResources\n\nREST\tendpoints,\tMicroservice\tArchitecture\n\nrollbacks,\tautomated,\tCanary\n\nrouting\tand\tdiscovery,\tRouting\tand\tDiscovery,\tRouting\tand\tDiscovery\n\nrunbooks,\tHandling\tAlerts\n\nS\n\nscalability,\tScalability-Fault\tTolerance\tand\tCatastrophe-Preparedness\n\n(see\talso\tscalability\tand\tperformance)\n\nin\ttraffic\thandling,\tScalability\n\nof\tapplications,\tFrom\tMonoliths\tto\tMicroservices-From\tMonoliths to\tMicroservices\n\nof\tdata\tstorage,\tScalability\n\nof\tdependencies,\tScalability\n\nof\tmessaging,\tRPCs,\tendpoints,\tand\tmessaging\n\ntesting\tfor\t(see\tload\ttesting)\n\nscalability\tand\tperformance,\tScalability\tand\tPerformance,\tA Production-Ready\tService\tIs\tScalable\tand\tPerformant,\tKnowing\tthe Growth\tScale-Scalable\tData\tStorage\n\nbottlenecks,\tResource\tBottlenecks\n\ncapacity\tplanning,\tCapacity\tPlanning-Capacity\tPlanning\n\ndata\tstorage,\tScalable\tData\tStorage-Database\tChallenges\tin Microservice\tArchitecture\n\ndependency\tscaling,\tDependency\tScaling-Dependency\tScaling\n\nefficient\tuse\tof\tresources,\tEfficient\tUse\tof\tResources\n\nprinciples\tof,\tPrinciples\tof\tMicroservice\tScalability\tand Performance-Principles\tof\tMicroservice\tScalability\tand Performance\n\nresource\tawareness,\tResource\tAwareness-Resource\tBottlenecks\n\ntask\thandling\tand\tprocessing,\tTask\tHandling\tand\tProcessing- Handling\tRequests\tand\tProcessing\tTasks\tEfficiently\n\ntraffic\tmanagement,\tTraffic\tManagement-Traffic\tManagement\n\nscaling\n\ndynamic,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nhorizontal\tversus\tvertical,\tResource\tBottlenecks\n\nself-service\tinternal\tdevelopment\ttools,\tSelf-service\tinternal development\ttools-Self-service\tinternal\tdevelopment\ttools\n\nservice\tdiscovery,\tService\tdiscovery,\tservice\tregistry,\tand\tload balancing\n\nservice\tregistry,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nservice-level\tagreements\t(SLAs),\tAvailability:\tThe\tGoal\tof Standardization,\tDependency\tFailures,\tIncidents\tand\tOutages\n\nSimian\tArmy,\tChaos\tTesting\n\nsingle\tpoints\tof\tfailure,\tPrinciples\tof\tBuilding\tFault-Tolerant Microservices-Avoiding\tSingle\tPoints\tof\tFailure,\tAvoiding\tSingle Points\tof\tFailure\n\nsite\treliability\tengineers\t(SREs),\tPreface,\tImplementing\tProduction- Readiness\n\nstability\tand\treliability,\tStability\tand\tReliability,\tA\tProduction-Ready Service\tIs\tStable\tand\tReliable,\tThe\tDevelopment\tCycle-Deprecation and\tDecommissioning\n\ndependencies,\tDependencies-Dependencies\n\ndeployment\tpipeline,\tThe\tDeployment\tPipeline-Enforcing\tStable and\tReliable\tDeployment\n\ndeprecation\tand\tdecommissioning,\tDeprecation\tand Decommissioning\n\ndevelopment\tcycle,\tThe\tDevelopment\tCycle-The\tDevelopment Cycle\n\nenforcement\tof,\tin\tdeployment,\tEnforcing\tStable\tand\tReliable Deployment-Enforcing\tStable\tand\tReliable\tDeployment\n\nimportance\tof,\tStability\tand\tReliability-Principles\tof\tBuilding Stable\tand\tReliable\tMicroservices\n\nprinciples\tof,\tPrinciples\tof\tBuilding\tStable\tand\tReliable Microservices-The\tDevelopment\tCycle\n\nrouting\tand\tdiscovery,\tRouting\tand\tDiscovery\n\nstability\tstandards,\tStability-Reliability\n\nstaging\tenvironment,\tStaging-Partial\tstaging\n\ncandidates\tfor\tproduction,\tStaging\n\nfull\tstaging,\tFull\tstaging-Full\tstaging,\tPartial\tstaging\n\npartial\tstaging,\tPartial\tstaging-Partial\tstaging\n\npurpose\tof,\tPartial\tstaging\n\nstandardization,\tProduction-Readiness\tStandards-Documentation\n\navailability\tmeasurement,\tAvailability:\tThe\tGoal\tof Standardization-Production-Readiness\tStandards\n\nchallenges\tof,\tThe\tChallenges\tof\tMicroservice\tStandardization- The\tChallenges\tof\tMicroservice\tStandardization\n\ndocumentation\tand\tunderstanding,\tDocumentation-Implementing Production-Readiness\n\nfault\ttolerance\tand\tcatastrophe-preparedness,\tFault\tTolerance and\tCatastrophe-Preparedness-Performance\n\nimportance\tand\timplementation\tof,\tImplementing\tProduction- Readiness-Implementing\tProduction-Readiness\n\nmonitoring,\tMonitoring-Documentation\n\nperformance,\tPerformance\n\nreliability,\tReliability-Scalability\n\nscalability,\tScalability-Fault\tTolerance\tand\tCatastrophe- Preparedness\n\nstability,\tStability-Reliability\n\nT\n\ntask\thandling\tand\tprocessing,\tTask\tHandling\tand\tProcessing-Handling Requests\tand\tProcessing\tTasks\tEfficiently,\tTask\tHandling\tand Processing\n\nefficiency\tin,\tHandling\tRequests\tand\tProcessing\tTasks\tEfficiently- Handling\tRequests\tand\tProcessing\tTasks\tEfficiently\n\nprogramming\tlanguage\tlimitations,\tProgramming\tLanguage Limitations-Programming\tLanguage\tLimitations\n\nteam\tcommunication\tand\tcollaboration,\tDependency\tScaling\n\nteam\tstructures,\tThe\tInverse\tConway’s\tLaw\n\ntechnical\tdebt\treduction,\tDocumentation\n\ntechnical\tsprawl,\tTechnical\tSprawl-Technical\tSprawl\n\ntest\tdata\thandling,\tDatabase\tChallenges\tin\tMicroservice\tArchitecture\n\ntest\ttenancy,\tPartial\tstaging,\tDatabase\tChallenges\tin\tMicroservice Architecture\n\ntesting\t(see\tresiliency\ttesting,\tcode\ttesting,\tload\ttesting,\tchaos\ttesting)\n\nthree-tier\tarchitecture,\tFrom\tMonoliths\tto\tMicroservices\n\ntraffic\tcycles,\tCanary\n\ntraffic\thandling,\tScalability\n\ntraffic\tmanagement,\tTraffic\tManagement-Traffic\tManagement,\tTraffic Management\n\nU\n\nUbuntu,\tLayer\t1:\tHardware\n\nunderstanding\tof\tmicroservices,\tDocumentation-Implementing Production-Readiness,\tMicroservice\tUnderstanding-Production- Readiness\tAutomation,\tA\tProduction-Ready\tService\tIs\tDocumented and\tUnderstood,\tMicroservice\tUnderstanding\n\narchitecture\treviews,\tArchitecture\tReviews-Architecture\tReviews\n\noverview,\tPrinciples\tof\tMicroservice\tDocumentation\tand Understanding-Principles\tof\tMicroservice\tDocumentation\tand Understanding\n\nproduction-readiness\taudits,\tProduction-Readiness\tAudits\n\nproduction-readiness\tautomation,\tProduction-Readiness Automation-Production-Readiness\tAutomation\n\nproduction-readiness\troadmaps,\tProduction-Readiness\tRoadmaps\n\nunit\ttests,\tUnit\ttests\n\nuptime,\tAvailability:\tThe\tGoal\tof\tStandardization\n\nV\n\nversion\tcontrol\tsystems,\tThe\tdevelopment\tcycle\n\nversioning,\tMicroservice\tArchitecture,\tLogging\n\nvertical\tscaling,\tFrom\tMonoliths\tto\tMicroservices\n\nAbout\tthe\tAuthor\tSusan\tFowler\tis\ta\tsite\treliability\tengineer\tat\tUber Technologies,\twhere\tshe\tsplits\ther\ttime\tbetween\trunning\ta\tproduction-readiness initiative\tacross\tall\tUber\tmicroservices\tand\tembedding\twithin\tbusiness-critical teams\tto\tbring\ttheir\tservices\tto\ta\tproduction-ready\tstate.\tShe\tworked\ton application\tplatforms\tand\tinfrastructure\tat\tseveral\tsmall\tstartups\tbefore\tjoining Uber,\tand\tbefore\tthat,\tstudied\tparticle\tphysics\tat\tPenn,\twhere\tshe\tsearched\tfor supersymmetry\tand\tdesigned\thardware\tfor\tthe\tATLAS\tand\tCMS\tdetectors.\n\nColophon\n\nThe\tanimals\ton\tthe\tcover\tof\tProduction-Ready\tMicroservices\tare\tleafcutter\tbees (of\tthe\tgenus\tMegachile).\tThere\tare\tover\t1,500\tspecies\tof\tthis\tinsect,\twhich\tis widespread\tthroughout\tthe\tworld.\tOne\tspecies\tfrom\tIndonesia,\tMegachile\tpluto, is\tthought\tto\tbe\tthe\tlargest\tbee\tin\tthe\tworld:\tindividuals\tcan\tbe\tup\tto\t0.9–1.5 inches\tlong.\n\nLeafcutter\tbees\tgain\ttheir\tname\tfrom\tthe\tfemale’s\tcommon\tactivity\tof\tcutting neat\tsemicircles\tfrom\tthe\tedges\tof\tleaves.\tShe\tthen\tcarries\tthese\tdisc-shaped\tleaf pieces\tto\ther\tnest,\twhich\tcan\tbe\tbuilt\tin\tvarious\tplaces\tsuch\tas\tready-made hollows,\tburrows\tin\tthe\tground,\tor\trotting\twood\tthat\tthe\tbee\tcan\tbore\tinto.\tNests are\tbetween\t4–8\tinches\tlong,\tcylindrical,\tand\tlined\twith\tleaf\tpieces\tin\tan overlapping\tpattern.\tThese\tinsects\tdo\tnot\tlive\tin\tcolonies,\tthough\tit’s\tpossible for\tindividuals\tto\tnest\tnear\teach\tother.\n\nThe\tfemales\tarrange\ttheir\tnests\tin\tseparate\tcells\t(building\tfrom\tthe\tinside\tout) and\tlay\tone\tegg\twithin\teach,\talong\twith\ta\tregurgitated\tpollen-and-nectar\tball\tfor the\tlarva\tto\teat.\tIt\tis\ttheorized\tthat\tthe\tleaves\tkeep\tthe\tlarva’s\tfood\tfrom\tdrying out\tuntil\tit\tcan\tbe\teaten.\n\nAdult\tbees\talso\tfeed\ton\tnectar\tand\tpollen,\tand\tare\tvery\tefficient\tpollinators\tdue to\ttheir\tvigorous\tswimming-like\tmotion\twhile\tinside\tflowers\t(which\tshakes\ta great\tdeal\tof\tpollen\tloose\tand\tcoats\tthe\tlong\thairs\ton\tthe\tinsect’s\tabdomen). Females\toften\tneed\tto\ttake\t10–15\ttrips\tto\tprovision\tan\tindividual\tnest\tcell, further\tincreasing\ttheir\teffectiveness\tin\tcross-pollination.\tThus,\tthese\tbees\tare welcome\tinhabitants\tin\tmany\tgardens\tand\tfarms;\tartificial\tnesting\tboxes\tor\ttubes can\tbe\tplaced\tto\tattract\tthem.\n\nMany\tof\tthe\tanimals\ton\tO’Reilly\tcovers\tare\tendangered;\tall\tof\tthem\tare important\tto\tthe\tworld.\tTo\tlearn\tmore\tabout\thow\tyou\tcan\thelp,\tgo\tto animals.oreilly.com.\n\nThe\tcover\timage\tis\tfrom\tLydekker’s\tRoyal\tNatural\tHistory.\tThe\tcover\tfonts\tare URW\tTypewriter\tand\tGuardian\tSans.\tThe\ttext\tfont\tis\tAdobe\tMinion\tPro;\tthe heading\tfont\tis\tAdobe\tMyriad\tCondensed;\tand\tthe\tcode\tfont\tis\tDalton\tMaag’s Ubuntu\tMono.\n\n1.\t Preface\n\n1.\t Who\tThis\tBook\tIs\tWritten\tFor\n\n2.\t What\tThis\tBook\tIs\tNot\n\n3.\t How\tTo\tUse\tThis\tBook\n\n4.\t How\tThis\tBook\tIs\tStructured\n\n5.\t Conventions\tUsed\tin\tThis\tBook\n\n6.\t O’Reilly\tSafari\n\n7.\t How\tto\tContact\tUs\n\n8.\t Acknowledgments\n\n2.\t 1.\tMicroservices\n\n1.\t From\tMonoliths\tto\tMicroservices\n\n2.\t Microservice\tArchitecture\n\n3.\t The\tMicroservice\tEcosystem \t 1.\t Layer\t1:\tHardware\n\n2.\t Layer\t2:\tCommunication\n\n3.\t Layer\t3:\tThe\tApplication\tPlatform\n\n4.\t Layer\t4:\tMicroservices\n\n4.\t Organizational\tChallenges\n\n1.\t The\tInverse\tConway’s\tLaw\n\n2.\t Technical\tSprawl\n\n3.\t More\tWays\tto\tFail\n\n4.\t Competition\tfor\tResources\n\n3.\t 2.\tProduction-Readiness\n\n1.\t The\tChallenges\tof\tMicroservice\tStandardization\n\n2.\t Availability:\tThe\tGoal\tof\tStandardization\n\n3.\t Production-Readiness\tStandards\n\n1.\t Stability\n\n2.\t Reliability\n\n3.\t Scalability\n\n4.\t Fault\tTolerance\tand\tCatastrophe-Preparedness\n\n5.\t Performance\n\n6.\t Monitoring\n\n7.\t Documentation\n\n4.\t Implementing\tProduction-Readiness\n\n4.\t 3.\tStability\tand\tReliability\n\n1.\t Principles\tof\tBuilding\tStable\tand\tReliable\tMicroservices\n\n2.\t The\tDevelopment\tCycle\n\n3.\t The\tDeployment\tPipeline\n\n1.\t Staging\n\n2.\t Canary\n\n3.\t Production\n\n4.\t Enforcing\tStable\tand\tReliable\tDeployment\n\n4.\t Dependencies\n\n5.\t Routing\tand\tDiscovery\n\n6.\t Deprecation\tand\tDecommissioning\n\n7.\t Evaluate\tYour\tMicroservice \t 1.\t The\tDevelopment\tCycle\n\n2.\t The\tDeployment\tPipeline\n\n3.\t Dependencies\n\n4.\t Routing\tand\tDiscovery\n\n5.\t Deprecation\tand\tDecommissioning\n\n5.\t 4.\tScalability\tand\tPerformance\n\n1.\t Principles\tof\tMicroservice\tScalability\tand\tPerformance\n\n2.\t Knowing\tthe\tGrowth\tScale\n\n1.\t The\tQualitative\tGrowth\tScale\n\n2.\t The\tQuantitative\tGrowth\tScale\n\n3.\t Efficient\tUse\tof\tResources\n\n4.\t Resource\tAwareness\n\n1.\t Resource\tRequirements\n\n2.\t Resource\tBottlenecks\n\n5.\t Capacity\tPlanning\n\n6.\t Dependency\tScaling\n\n7.\t Traffic\tManagement\n\n8.\t Task\tHandling\tand\tProcessing\n\n1.\t Programming\tLanguage\tLimitations\n\n2.\t Handling\tRequests\tand\tProcessing\tTasks\tEfficiently\n\n9.\t Scalable\tData\tStorage\n\n1.\t Database\tChoice\tin\tMicroservice\tEcosystems\n\n2.\t Database\tChallenges\tin\tMicroservice\tArchitecture\n\n10.\t Evaluate\tYour\tMicroservice\n\n1.\t Knowing\tthe\tGrowth\tScale\n\n2.\t Efficient\tUse\tof\tResources\n\n3.\t Resource\tAwareness\n\n4.\t Capacity\tPlanning\n\n5.\t Dependency\tScaling\n\n6.\t Traffic\tManagement\n\n7.\t Task\tHandling\tand\tProcessing\n\n8.\t Scalable\tData\tStorage\n\n6.\t 5.\tFault\tTolerance\tand\tCatastrophe-Preparedness\n\n1.\t Principles\tof\tBuilding\tFault-Tolerant\tMicroservices\n\n2.\t Avoiding\tSingle\tPoints\tof\tFailure\n\n3.\t Catastrophes\tand\tFailure\tScenarios\n\n1.\t Common\tFailures\tAcross\tan\tEcosystem\n\n2.\t Hardware\tFailures\n\n3.\t Communication-Level\tand\tApplication\tPlatform–Level\tFailures\n\n4.\t Dependency\tFailures\n\n5.\t Internal\t(Microservice)\tFailures\n\n4.\t Resiliency\tTesting \t 1.\t Code\tTesting\n\n2.\t Load\tTesting\n\n3.\t Chaos\tTesting\n\n5.\t Failure\tDetection\tand\tRemediation\n\n6.\t Incidents\tand\tOutages\n\n1.\t Appropriate\tCategorization\n\n2.\t The\tFive\tStages\tof\tIncident\tResponse\n\n7.\t Evaluate\tYour\tMicroservice\n\n1.\t Avoiding\tSingle\tPoints\tof\tFailure\n\n2.\t Catastrophes\tand\tFailure\tScenarios\n\n3.\t Resiliency\tTesting\n\n4.\t Failure\tDetection\tand\tRemediation\n\n7.\t 6.\tMonitoring\n\n1.\t Principles\tof\tMicroservice\tMonitoring\n\n2.\t Key\tMetrics\n\n3.\t Logging\n\n4.\t Dashboards\n\n5.\t Alerting\n\n1.\t Setting\tup\tEffective\tAlerting\n\n2.\t Handling\tAlerts\n\n6.\t On-Call\tRotations\n\n7.\t Evaluate\tYour\tMicroservice\n\n1.\t Key\tMetrics\n\n2.\t Logging\n\n3.\t Dashboards\n\n4.\t Alerting\n\n5.\t On-Call\tRotations\n\n8.\t 7.\tDocumentation\tand\tUnderstanding\n\n1.\t Principles\tof\tMicroservice\tDocumentation\tand\tUnderstanding\n\n2.\t Microservice\tDocumentation\n\n1.\t Description\n\n2.\t Architecture\tDiagram\n\n3.\t Contact\tand\tOn-Call\tInformation\n\n4.\t Links\n\n5.\t Onboarding\tand\tDevelopment\tGuide\n\n6.\t Request\tFlows,\tEndpoints,\tand\tDependencies\n\n7.\t On-Call\tRunbooks\n\n8.\t FAQ\n\n3.\t Microservice\tUnderstanding \t 1.\t Architecture\tReviews\n\n2.\t Production-Readiness\tAudits\n\n3.\t Production-Readiness\tRoadmaps\n\n4.\t Production-Readiness\tAutomation\n\n4.\t Evaluate\tYour\tMicroservice\n\n1.\t Microservice\tDocumentation\n\n2.\t Microservice\tUnderstanding\n\n9.\t A.\tProduction-Readiness\tChecklist\n\n1.\t A\tProduction-Ready\tService\tIs\tStable\tand\tReliable\n\n2.\t A\tProduction-Ready\tService\tIs\tScalable\tand\tPerformant\n\n3.\t A\tProduction-Ready\tService\tIs\tFault\tTolerant\tand\tPrepared\tfor\tAny Catastrophe\n\n4.\t A\tProduction-Ready\tService\tIs\tProperly\tMonitored\n\n5.\t A\tProduction-Ready\tService\tIs\tDocumented\tand\tUnderstood\n\n10.\t B.\tEvaluate\tYour\tMicroservice \t 1.\t Stability\tand\tReliability\n\n1.\t The\tDevelopment\tCycle\n\n2.\t The\tDeployment\tPipeline\n\n3.\t Dependencies\n\n4.\t Routing\tand\tDiscovery\n\n5.\t Deprecation\tand\tDecommissioning\n\n2.\t Scalability\tand\tPerformance\n\n1.\t Knowing\tthe\tGrowth\tScale\n\n2.\t Efficient\tUse\tof\tResources\n\n3.\t Resource\tAwareness\n\n4.\t Capacity\tPlanning\n\n5.\t Dependency\tScaling\n\n6.\t Traffic\tManagement\n\n7.\t Task\tHandling\tand\tProcessing\n\n8.\t Scalable\tData\tStorage\n\n3.\t Fault\tTolerance\tand\tCatastrophe-Preparedness\n\n1.\t Avoiding\tSingle\tPoints\tof\tFailure\n\n2.\t Catastrophes\tand\tFailure\tScenarios\n\n3.\t Resiliency\tTesting\n\n4.\t Failure\tDetection\tand\tRemediation\n\n4.\t Monitoring\n\n1.\t Key\tMetrics\n\n2.\t Logging\n\n3.\t Dashboards\n\n4.\t Alerting\n\n5.\t On-Call\tRotations\n\n5.\t Documentation\tand\tUnderstanding \t 1.\t Microservice\tDocumentation\n\n2.\t Microservice\tUnderstanding\n\n11.\t Glossary\n\n12.\t Index\n\nTable\tof\tContents\n\nPreface\n\nWho\tThis\tBook\tIs\tWritten\tFor What\tThis\tBook\tIs\tNot How\tTo\tUse\tThis\tBook How\tThis\tBook\tIs\tStructured Conventions\tUsed\tin\tThis\tBook O’Reilly\tSafari How\tto\tContact\tUs Acknowledgments\n\n1.\tMicroservices\n\nFrom\tMonoliths\tto\tMicroservices Microservice\tArchitecture The\tMicroservice\tEcosystem\n\nLayer\t1:\tHardware Layer\t2:\tCommunication\n\nRPCs,\t messaging Service\t registry,\tand\tload\tbalancing\n\nendpoints,\n\nand\n\ndiscovery,\n\nservice\n\nLayer\t3:\tThe\tApplication\tPlatform\n\nSelf-service\t development\ttools The\tdevelopment\tcycle Test,\t build,\t package,\t and release Deployment\tpipeline Logging\tand\tmonitoring\n\ninternal\n\nLayer\t4:\tMicroservices\n\nOrganizational\tChallenges\n\nThe\tInverse\tConway’s\tLaw Technical\tSprawl More\tWays\tto\tFail Competition\tfor\tResources\n\n2.\tProduction-Readiness\n\nThe\tChallenges\tof\tMicroservice\tStandardization\n\nAvailability:\tThe\tGoal\tof\tStandardization Production-Readiness\tStandards\n\nStability Reliability Scalability Fault\tTolerance\tand\tCatastrophe-Preparedness Performance Monitoring Documentation Implementing\tProduction-Readiness\n\n3.\tStability\tand\tReliability\n\nPrinciples\tof\tBuilding\tStable\tand\tReliable\tMicroservices The\tDevelopment\tCycle The\tDeployment\tPipeline\n\nStaging\n\nFull\tstaging Partial\tstaging\n\nCanary Production Enforcing\tStable\tand\tReliable\tDeployment\n\nDependencies Routing\tand\tDiscovery Deprecation\tand\tDecommissioning Evaluate\tYour\tMicroservice\n\nThe\tDevelopment\tCycle The\tDeployment\tPipeline Dependencies Routing\tand\tDiscovery Deprecation\tand\tDecommissioning\n\n4.\tScalability\tand\tPerformance\n\nPrinciples\tof\tMicroservice\tScalability\tand\tPerformance Knowing\tthe\tGrowth\tScale\n\nThe\tQualitative\tGrowth\tScale The\tQuantitative\tGrowth\tScale\n\nEfficient\tUse\tof\tResources Resource\tAwareness\n\nResource\tRequirements Resource\tBottlenecks\n\nCapacity\tPlanning\n\nDependency\tScaling Traffic\tManagement Task\tHandling\tand\tProcessing\n\nProgramming\tLanguage\tLimitations Handling\t Requests\t Efficiently\n\nand\t Processing\t Tasks\n\nScalable\tData\tStorage\n\nDatabase\tChoice\tin\tMicroservice\tEcosystems Database\tChallenges\tin\tMicroservice\tArchitecture\n\nEvaluate\tYour\tMicroservice\n\nKnowing\tthe\tGrowth\tScale Efficient\tUse\tof\tResources Resource\tAwareness Capacity\tPlanning Dependency\tScaling Traffic\tManagement Task\tHandling\tand\tProcessing Scalable\tData\tStorage\n\n5.\tFault\tTolerance\tand\tCatastrophe-Preparedness\n\nPrinciples\tof\tBuilding\tFault-Tolerant\tMicroservices Avoiding\tSingle\tPoints\tof\tFailure Catastrophes\tand\tFailure\tScenarios\n\nCommon\tFailures\tAcross\tan\tEcosystem Hardware\tFailures Communication-Level\tand\tApplication\tPlatform– Level\tFailures Dependency\tFailures Internal\t(Microservice)\tFailures\n\nResiliency\tTesting\n\nCode\tTesting\n\nLint\ttests Unit\ttests Integration\ttests End-to-end\ttests Automating\tcode\ttests\n\nLoad\tTesting\n\nFundamentals\tof\tload\ttesting Running\t load\t tests\t in\t staging and\tproduction\n\nAutomating\tload\ttesting\n\nChaos\tTesting Failure\tDetection\tand\tRemediation Incidents\tand\tOutages\n\nAppropriate\tCategorization\n\nCategorizing\tmicroservices Categorizing\t outages\n\nincidents\n\nThe\tFive\tStages\tof\tIncident\tResponse\n\nAssessment Coordination Mitigation Resolution Follow-up\n\nEvaluate\tYour\tMicroservice\n\nAvoiding\tSingle\tPoints\tof\tFailure Catastrophes\tand\tFailure\tScenarios Resiliency\tTesting Failure\tDetection\tand\tRemediation\n\n6.\tMonitoring\n\nPrinciples\tof\tMicroservice\tMonitoring Key\tMetrics Logging Dashboards Alerting\n\nSetting\tup\tEffective\tAlerting Handling\tAlerts\n\nOn-Call\tRotations Evaluate\tYour\tMicroservice\n\nKey\tMetrics Logging Dashboards Alerting On-Call\tRotations\n\n7.\tDocumentation\tand\tUnderstanding\n\nPrinciples\tof\tMicroservice\tDocumentation\tand\tUnderstanding Microservice\tDocumentation\n\nDescription Architecture\tDiagram\n\nand\n\nContact\tand\tOn-Call\tInformation Links Onboarding\tand\tDevelopment\tGuide Request\tFlows,\tEndpoints,\tand\tDependencies On-Call\tRunbooks FAQ\n\nMicroservice\tUnderstanding\n\nArchitecture\tReviews Production-Readiness\tAudits Production-Readiness\tRoadmaps Production-Readiness\tAutomation\n\nEvaluate\tYour\tMicroservice\n\nMicroservice\tDocumentation Microservice\tUnderstanding\n\nA.\tProduction-Readiness\tChecklist\n\nA\tProduction-Ready\tService\tIs\tStable\tand\tReliable A\tProduction-Ready\tService\tIs\tScalable\tand\tPerformant A\tProduction-Ready\tService\tIs\tFault\tTolerant\tand\tPrepared\tfor\tAny Catastrophe A\tProduction-Ready\tService\tIs\tProperly\tMonitored A\tProduction-Ready\tService\tIs\tDocumented\tand\tUnderstood\n\nB.\tEvaluate\tYour\tMicroservice\n\nStability\tand\tReliability\n\nThe\tDevelopment\tCycle The\tDeployment\tPipeline Dependencies Routing\tand\tDiscovery Deprecation\tand\tDecommissioning\n\nScalability\tand\tPerformance\n\nKnowing\tthe\tGrowth\tScale Efficient\tUse\tof\tResources Resource\tAwareness Capacity\tPlanning Dependency\tScaling Traffic\tManagement Task\tHandling\tand\tProcessing Scalable\tData\tStorage\n\nFault\tTolerance\tand\tCatastrophe-Preparedness\n\nAvoiding\tSingle\tPoints\tof\tFailure\n\nGlossary Index\n\nCatastrophes\tand\tFailure\tScenarios Resiliency\tTesting Failure\tDetection\tand\tRemediation\n\nMonitoring\n\nKey\tMetrics Logging Dashboards Alerting On-Call\tRotations\n\nDocumentation\tand\tUnderstanding\n\nMicroservice\tDocumentation Microservice\tUnderstanding",
      "page_number": 217
    }
  ],
  "pages": [
    {
      "page_number": 2,
      "content": "Production-Ready\tMicroservices Building\tStandardized\tSystems\tAcross\tan\tEngineering\tOrganization\tSusan\tJ. Fowler",
      "content_length": 111,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 3,
      "content": "Production-Ready\tMicroservices\tby\tSusan\tJ.\tFowler\n\nCopyright\t©\t2017\tSusan\tFowler.\tAll\trights\treserved.\n\nPrinted\tin\tthe\tUnited\tStates\tof\tAmerica.\n\nPublished\tby\tO’Reilly\tMedia,\tInc.,\t1005\tGravenstein\tHighway\tNorth, Sebastopol,\tCA\t95472.\n\nO’Reilly\tbooks\tmay\tbe\tpurchased\tfor\teducational,\tbusiness,\tor\tsales\tpromotional use.\tOnline\teditions\tare\talso\tavailable\tfor\tmost\ttitles\t(http://oreilly.com/safari). For\tmore\tinformation,\tcontact\tour\tcorporate/institutional\tsales\tdepartment:\t800- 998-9938\tor\tcorporate@oreilly.com.\n\nEditors:\tNan\tBarber\tand\tBrian\tFoster\n\nProduction\tEditor:\tKristen\tBrown\n\nCopyeditor:\tAmanda\tKersey\n\nProofreader:\tJasmine\tKwityn\n\nIndexer:\tWendy\tCatalano\n\nInterior\tDesigner:\tDavid\tFutato\n\nCover\tDesigner:\tKaren\tMontgomery\n\nIllustrator:\tRebecca\tDemarest\n\nDecember\t2016:\tFirst\tEdition",
      "content_length": 797,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 4,
      "content": "Revision\tHistory\tfor\tthe\tFirst\tEdition\n\n2016-11-23:\tFirst\tRelease\n\nSee\thttp://oreilly.com/catalog/errata.csp?isbn=9781491965979\tfor\trelease details.\n\nThe\tO’Reilly\tlogo\tis\ta\tregistered\ttrademark\tof\tO’Reilly\tMedia,\tInc.\tProduction- Ready\tMicroservices,\tthe\tcover\timage,\tand\trelated\ttrade\tdress\tare\ttrademarks\tof O’Reilly\tMedia,\tInc.\n\nWhile\tthe\tpublisher\tand\tthe\tauthor\thave\tused\tgood\tfaith\tefforts\tto\tensure\tthat\tthe information\tand\tinstructions\tcontained\tin\tthis\twork\tare\taccurate,\tthe\tpublisher and\tthe\tauthor\tdisclaim\tall\tresponsibility\tfor\terrors\tor\tomissions,\tincluding without\tlimitation\tresponsibility\tfor\tdamages\tresulting\tfrom\tthe\tuse\tof\tor reliance\ton\tthis\twork.\tUse\tof\tthe\tinformation\tand\tinstructions\tcontained\tin\tthis work\tis\tat\tyour\town\trisk.\tIf\tany\tcode\tsamples\tor\tother\ttechnology\tthis\twork contains\tor\tdescribes\tis\tsubject\tto\topen\tsource\tlicenses\tor\tthe\tintellectual property\trights\tof\tothers,\tit\tis\tyour\tresponsibility\tto\tensure\tthat\tyour\tuse\tthereof complies\twith\tsuch\tlicenses\tand/or\trights.\n\n978-1-49196597-9\n\n[LSI]",
      "content_length": 1034,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 5,
      "content": "Preface\n\nThis\tbook\twas\tborn\tout\tof\ta\tproduction-readiness\tinitiative\tI\tbegan\trunning several\tmonths\tafter\tI\tjoined\tUber\tTechnologies\tas\ta\tsite\treliability\tengineer (SRE).\tUber’s\tgigantic,\tmonolithic\tAPI\twas\tslowly\tbeing\tbroken\tinto microservices,\tand\tat\tthe\ttime\tI\tjoined,\tthere\twere\tover\ta\tthousand\tmicroservices that\thad\tbeen\tsplit\tfrom\tthe\tAPI\tand\twere\trunning\talongside\tit.\tEach\tof\tthese microservices\twas\tdesigned,\tbuilt,\tand\tmaintained\tby\tan\towning\tdevelopment team,\tand\tover\t85%\tof\tthese\tservices\thad\tlittle\tto\tno\tSRE\tinvolvement,\tnor\tany access\tto\tSRE\tresources.\n\nHiring\tSREs\tand\tbuilding\tSRE\tteams\tis\tan\tabsurdly\tdifficult\ttask,\tbecause\tSREs are\tprobably\tthe\thardest\ttype\tof\tengineers\tto\tfind:\tsite\treliability\tengineering\tas\ta field\tis\tstill\trelatively\tnew,\tand\tSREs\tmust\tbe\texperts\t(at\tleast\tto\tsome\tdegree)\tin software\tengineering,\tsystems\tengineering,\tand\tdistributed\tsystems\tarchitecture. There\twas\tno\tway\tto\tquickly\tstaff\tall\tof\tthe\tteams\twith\ttheir\town\tembedded SRE\tteam,\tand\tso\tmy\tteam\t(the\tConsulting\tSRE\tTeam)\twas\tborn.\tOur\tdirective from\tabove\twas\tsimple:\tfind\ta\tway\tto\tdrive\thigh\tstandards\tacross\tthe\t85%\tof microservices\tthat\thad\tno\tSRE\tinvolvement.\n\nOur\tmission\twas\tsimple,\tand\tthe\tdirective\twas\tvague\tenough\tthat\tit\tallowed\tme and\tmy\tteam\ta\tconsiderable\tamount\tof\tfreedom\tto\tdefine\ta\tset\tof\tstandards\tthat every\tmicroservice\tat\tUber\tcould\tfollow.\tComing\tup\twith\thigh\tstandards\tthat could\tapply\tto\tevery\tsingle\tmicroservice\trunning\twithin\tthis\tlarge\tengineering organization\twas\tnot\teasy,\tand\tso,\twith\tsome\thelp\tfrom\tmy\tamazing\tcolleague Rick\tBoone\t(whose\thigh\tstandards\tfor\tthe\tmicroservices\the\tsupported\tinspired this\tbook),\tI\tcreated\ta\tdetailed\tchecklist\tof\tthe\tstandards\tthat\tI\tbelieved\tevery service\tat\tUber\tshould\tmeet\tbefore\tbeing\tallowed\tto\thost\tproduction\ttraffic.\n\nDoing\tso\trequired\tidentifying\ta\tset\tof\toverall,\tumbrella\tprinciples\tthat\tevery specific\trequirement\twould\tfall\tunder,\tand\twe\tcame\tup\twith\teight\tsuch principles:\tevery\tmicroservice\tat\tUber,\twe\tsaid,\tshould\tbe\tstable,\treliable, scalable,\tfault\ttolerant,\tperformant,\tmonitored,\tdocumented,\tand\tprepared\tfor any\tcatastrophe.\tUnder\teach\tof\tthese\tprinciples\twere\tseparate\tcriteria\tthat defined\twhat\tit\tmeant\tfor\ta\tservice\tto\tbe\tstable,\treliable,\tscalable,\tfault\ttolerant, performant,\tmonitored,\tdocumented,\tand\tprepared\tfor\tany\tcatastrophe.",
      "content_length": 2332,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 6,
      "content": "Importantly,\twe\tdemanded\tthat\teach\tprinciple\tbe\tquantifiable,\tand\tthat\teach criterion\tprovide\tus\twith\tmeasurable\tresults\tthat\tdramatically\tincreased\tthe availability\tof\tour\tmicroservices.\tA\tservice\tthat\tmet\tthese\tcriteria,\ta\tservice\tthat fit\tthese\trequirements,\twe\tdeemed\tproduction-ready.\n\nDriving\tthese\tstandards\tacross\tteams\tin\tan\teffective\tand\tefficient\tway\twas\tthe next\tstep.\tI\tcreated\ta\tcareful\tprocess\tin\twhich\tSRE\tteams\tmet\twith\tbusiness- critical\tservices\t(services\twhose\toutages\twould\tbring\tthe\tapplication\tdown),\tran architecture\treviews\twith\tthe\tteams,\tput\ttogether\taudits\tof\ttheir\tservices\t(simple checklists\tthat\tsaid\t“yes”\tor\t“no”\tto\twhether\tthe\tservice\tmet\teach\tproduction- readiness\trequirement),\tcreated\tdetailed\troadmaps\t(step-by-step\tguides\tthat detailed\thow\tto\tbring\tthe\tservice\tin\tquestion\tto\ta\tproduction-ready\tstate),\tand assigned\tproduction-readiness\tscores\tto\teach\tservice.\n\nRunning\tthe\tarchitecture\treviews\twas\tthe\tmost\timportant\tpart\tof\tthe\tprocess:\tmy team\twould\tgather\tall\tof\tthe\tdevelopers\tworking\ton\ta\tservice\tin\ta\tconference room\tand\task\tthem\tto\twhiteboard\tthe\tarchitecture\tof\ttheir\tservice\tin\t30\tminutes or\tless.\tDoing\tthis\tallowed\tboth\tmy\tteam\tand\tthe\thost\tteam\tto\tquickly\tand\teasily identify\twhere\tand\twhy\tthe\tservice\twas\tfailing:\twhen\ta\tmicroservice\twas diagrammed\tin\tall\tof\tits\tglory\t(endpoints,\trequest\tflows,\tdependencies\tand\tall), every\tpoint\tof\tfailure\tstood\tout\tlike\ta\tsore\tthumb.\n\nEvery\tarchitecture\treview\tproduced\ta\tgreat\tdeal\tof\twork.\tAfter\teach\treview, we’d\twork\tthrough\tthe\tchecklist\tand\tsee\tif\tthe\tservice\tmet\tany\tof\tthe\tproduction- readiness\trequirements,\tand\tthen\twe’d\tshare\tthis\taudit\tout\twith\tthe\tmanagers\tand developers\tof\tthe\tteam.\tScoring\twas\tadded\tto\tthe\taudits\twhen\tI\trealized\tthat\tthe production-ready\tor\tnot\tidea\twas\tsimply\tnot\tgranular\tenough\tto\tbe\tuseful\twhen we\tevaluated\tthe\tproduction-readiness\tof\tservices,\tso\teach\trequirement\twas assigned\ta\tcertain\tnumber\tof\tpoints\tand\tthen\tan\toverall\tscore\tgiven\tto\tthe service.\n\nFrom\tthe\taudits\tcame\troadmaps.\tRoadmaps\tcontained\ta\tlist\tof\tthe\tproduction- readiness\trequirements\tthat\tthe\tservice\tdid\tnot\tmeet,\talong\twith\tlinks\tto information\tabout\trecent\toutages\tcaused\tby\tnot\tmeeting\tthat\trequirement, descriptions\tof\tthe\twork\tthat\tneeded\tto\tbe\tdone\tin\torder\tto\tmeet\tthe\trequirement, a\tlink\tto\tan\topen\ttask,\tand\tthe\tname\tof\tthe\tdeveloper(s)\tassigned\tto\tthe\trelevant task.\n\nAfter\tdoing\tmy\town\tproduction-readiness\tcheck\ton\tthis\tprocess\t(also\tknown\tas Susan-Fowler’s-production-readiness-process-as-a-service),\tI\tknew\tthat\tthe\tnext step\twould\tneed\tto\tbe\tthe\tautomation\tof\tthe\tentire\tprocess\tthat\twould\trun\ton\tall Uber\tmicroservices,\tall\tof\tthe\ttime.\tAt\tthe\ttime\tof\tthe\twriting\tof\tthis\tbook,\tthis entire\tproduction-readiness\tsystem\tis\tbeing\tautomated\tby\tan\tamazing\tSRE\tteam",
      "content_length": 2774,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 7,
      "content": "entire\tproduction-readiness\tsystem\tis\tbeing\tautomated\tby\tan\tamazing\tSRE\tteam at\tUber\tled\tby\tthe\tfearless\tRoxana\tdel\tToro.\n\nEach\tof\tthe\tproduction-readiness\trequirements\twithin\tthe\tproduction-readiness standards\tand\tthe\tdetails\tof\ttheir\timplementation\tcame\tout\tof\tcountless\thours\tof careful,\tdeliberate\twork\tby\tmyself\tand\tmy\tcolleagues\tin\tthe\tUber\tSRE organization.\tIn\tmaking\tthe\tlist\tof\trequirements,\tand\tin\ttrying\tto\timplement\tthem across\tall\tUber\tmicroservices,\twe\ttook\tcountless\tnotes,\targued\twith\tone\tanother at\tgreat\tlength,\tand\tresearched\twhatever\twe\tcould\tfind\tin\tthe\tcurrent microservice\tliterature\t(which\tis\tvery\tsparse,\tand\talmost\tnonexistent).\tI\tmet\twith a\twide\tvariety\tof\tmicroservice\tdeveloper\tteams,\tboth\tat\tUber\tand\tat\tother companies,\ttrying\tto\tdetermine\thow\tmicroservices\tcould\tbe\tstandardized\tand whether\tthere\texisted\ta\tuniversal\tset\tof\tstandardization\tprinciples\tthat\tcould\tbe applied\tto\tevery\tmicroservice\tat\tevery\tcompany\tand\tproduce\tmeasurable, business-impactful\tresults.\tFrom\tthose\tnotes,\targuments,\tmeetings,\tand\tresearch came\tthe\tfoundations\tof\tthis\tbook.\n\nIt\twasn’t\tuntil\tafter\tI\tbegan\tsharing\tmy\twork\twith\tsite\treliability\tengineers\tand software\tengineers\tat\tother\tcompanies\tin\tthe\tBay\tArea\tthat\tI\trealized\thow\tnovel it\twas,\tnot\tonly\tin\tthe\tSRE\tworld,\tbut\tin\tthe\ttech\tindustry\tas\ta\twhole.\tWhen engineers\tstarted\tasking\tme\tfor\tevery\tbit\tof\tinformation\tand\tguidance\tI\tcould give\tthem\ton\tstandardizing\ttheir\tmicroservices\tand\tmaking\ttheir\tmicroservices production-ready,\tI\tbegan\twriting.\n\nAt\tthe\ttime\tof\twriting,\tthere\texists\tvery\tlittle\tliterature\ton\tmicroservice standardization\tand\tvery\tfew\tguides\tto\tmaintaining\tand\tbuilding\tthe microservice\tecosystem.\tMoreover,\tthere\tare\tno\tbooks\tthat\tanswer\tthe\tquestion many\tengineers\thave\tafter\tsplitting\ttheir\tmonolithic\tapplication\tinto microservices:\twhat\tdo\twe\tdo\tnext?\tThe\tambitious\tgoal\tof\tthis\tbook\tis\tto\tfill\tthat gap,\tand\tto\tanswer\tprecisely\tthat\tquestion.\tIn\ta\tnutshell,\tthis\tis\tthe\tbook\tI\twish that\tI\thad\twhen\tI\tbegan\tstandardizing\tmicroservices\tat\tUber.",
      "content_length": 2033,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 8,
      "content": "Who\tThis\tBook\tIs\tWritten\tFor This\tbook\tis\tprimarily\twritten\tfor\tsoftware\tengineers\tand\tsite\treliability engineers\twho\thave\teither\tsplit\ta\tmonolith\tand\tare\twondering\t“what’s\tnext?”,\tor who\tare\tbuilding\tmicroservices\tfrom\tthe\tground\tup\tand\twant\tto\tdesign\tstable, reliable,\tscalable,\tfault-tolerant,\tperformant\tmicroservices\tfrom\tthe\tget-go.\n\nHowever,\tthe\trelevance\tof\tthe\tprinciples\twithin\tthis\tbook\tis\tnot\tlimited\tto\tthe primary\taudience.\tMany\tof\tthe\tprinciples,\tfrom\tgood\tmonitoring\tto\tsuccessfully scaling\tan\tapplication,\tcan\tbe\tapplied\tto\timprove\tservices\tand\tapplications\tof any\tsize\tand\tarchitecture\tat\tany\torganization.\tEngineers,\tengineering\tmanagers, product\tmanagers,\tand\thigh-level\tcompany\texecutives\tmay\tfind\tthis\tbook\tuseful for\ta\tvariety\tof\treasons,\tincluding\tdetermining\tstandards\tfor\ttheir\tapplication(s), understanding\tchanges\tin\torganizational\tstructure\tthat\tresult\tfrom\tarchitecture decisions,\tor\tfor\tdetermining\tand\tdriving\tthe\tarchitectural\tand\toperational\tvision of\ttheir\tengineering\torganization(s).\n\nI\tdo\tassume\tthat\tthe\treader\tis\tfamiliar\twith\tthe\tbasic\tconcepts\tof\tmicroservices, with\tmicroservice\tarchitecture,\tand\twith\tthe\tfundamentals\tof\tmodern\tdistributed systems\t—\treaders\twho\tunderstand\tthese\tconcepts\twell\twill\tgain\tthe\tmost\tfrom this\tbook.\tFor\treaders\tunfamiliar\twith\tthese\ttopics,\tI’ve\tdedicated\tthe\tfirst chapter\tto\ta\tshort\toverview\tof\tmicroservice\tarchitecture,\tthe\tmicroservice ecosystem,\torganizational\tchallenges\tthat\taccompany\tmicroservices,\tand\tthe nitty-gritty\treality\tof\tbreaking\ta\tmonolithic\tapplication\tinto\tmicroservices.",
      "content_length": 1566,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 9,
      "content": "What\tThis\tBook\tIs\tNot This\tbook\tis\tnot\ta\tstep-by-step\thow-to\tguide:\tit\tis\tnot\tan\texplicit\ttutorial\ton\thow to\tdo\teach\tof\tthe\tthings\tcovered\tin\tits\tchapters.\tWriting\tsuch\ta\ttutorial\twould require\tmany,\tmany\tvolumes:\teach\tsection\tof\teach\tof\tthe\tchapters\twithin\tthis book\tcould\tbe\texpanded\tinto\tits\town\tbook.\n\nAs\ta\tresult,\tthis\tis\ta\thighly\tabstract\tbook,\twritten\tto\tbe\tgeneral\tenough\tthat\tthe lessons\tlearned\there\tcan\tbe\tapplied\tto\tnearly\tevery\tmicroservice\tat\tnearly\tevery company,\tyet\tspecific\tand\tgranular\tenough\tthat\tit\tcan\tbe\tincorporated\tinto\tan engineering\torganization\tand\tprovide\treal,\ttangible\tguidance\ton\thow\tto\timprove and\tstandardize\tmicroservices.\tBecause\tthe\tmicroservice\tecosystem\twill\tdiffer from\tcompany\tto\tcompany,\tthere\tisn’t\tany\tbenefit\tto\tbe\tfound\tin\ttaking\ta\tstep- by-step\tauthoritative\tor\teducational\tapproach.\tInstead,\tI’ve\tdecided\tto\tintroduce concepts,\texplain\ttheir\timportance\tto\tbuilding\tproduction-ready\tmicroservices, offer\texamples\tof\teach\tconcept,\tand\tshare\tstrategies\tfor\ttheir\timplementation.\n\nImportantly,\tthis\tbook\tis\tnot\tan\tencyclopedic\taccount\tof\tall\tthe\tpossible\tways that\tmicroservices\tand\tmicroservice\tecosystems\tcan\tbe\tbuilt\tand\trun.\tI\twill\tbe the\tfirst\tto\tadmit\tthat\tthere\tare\tmany\tvalid\tways\tto\tbuild\tand\trun\tmicroservices and\tmicroservice\tecosystems.\t(For\texample,\tthere\tare\tmany\tdifferent\tways\tto test\tnew\tbuilds\taside\tfrom\tthe\tstaging-canary-production\tapproach\tthat\tI introduce\tand\tadvocate\tfor\tin\tChapter\t3,\tStability\tand\tReliability).\tBut\tsome ways\tare\tbetter\tthan\tothers,\tand\tI\thave\ttried\tas\thard\tas\tpossible\tto\tpresent\tonly the\tbest\tways\tto\tbuild\tand\trun\tproduction-ready\tmicroservices\tand\tapply\teach production-readiness\tprinciple\tacross\tengineering\torganizations.\n\nIn\taddition,\ttechnology\tmoves\tand\tchanges\tremarkably\tfast.\tWhenever\tand wherever\tpossible,\tI\thave\ttried\tto\tavoid\tlimiting\tthe\treader\tto\tan\texisting technology\tor\tset\tof\ttechnologies\tto\timplement.\tFor\texample,\trather\tthan advocating\tthat\tevery\tmicroservice\tuse\tKafka\tfor\tlogging,\tI\tpresent\tthe important\taspects\tof\tproduction-ready\tlogging\tand\tleave\tthe\tchoice\tof\tspecific technology\tand\tthe\tactual\timplementation\tto\tthe\treader.\n\nFinally,\tthis\tbook\tis\tnot\ta\tdescription\tof\tthe\tUber\tengineering\torganization.\tThe principles,\tstandards,\texamples,\tand\tstrategies\tare\tnot\tspecific\tto\tUber\tnor exclusively\tinspired\tby\tUber:\tthey\thave\tbeen\tdeveloped\tand\tinspired\tby microservices\tof\tmany\ttechnology\tcompanies\tand\tcan\tbe\tapplied\tto\tany microservice\tecosystem.\tThis\tis\tnot\ta\tdescriptive\tor\thistorical\taccount,\tbut\ta prescriptive\tguide\tto\tbuilding\tproduction-ready\tmicroservices.",
      "content_length": 2585,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 10,
      "content": "How\tTo\tUse\tThis\tBook There\tare\tseveral\tways\tyou\tcan\tuse\tthis\tbook.\n\nThe\tfirst\tapproach\tis\tthe\tleast\tinvolved\tone:\tto\tread\tonly\tthe\tchapters\tyou\tare interested\tin,\tand\tskim\tthrough\t(or\tskip)\tthe\trest.\tThere\tis\tmuch\tto\tbe\tgained from\tthis\tapproach:\tyou’ll\tfind\tyourself\tintroduced\tto\tnew\tconcepts,\tgain\tinsight on\tconcepts\tyou\tmay\tbe\tfamiliar\twith,\tand\twalk\taway\twith\tnew\tways\tto\tthink about\taspects\tof\tsoftware\tengineering\tand\tmicroservice\tarchitecture\tthat\tyou may\tfind\tuseful\tin\tyour\tday-to-day\tlife\tand\twork.\n\nAnother\tapproach\tis\ta\tslightly\tmore\tinvolved\tone,\tin\twhich\tyou\tcan\tskim through\tthe\tbook,\treading\tcarefully\tthe\tsections\tthat\tare\trelevant\tto\tyour\tneeds, and\tthen\tapply\tsome\tof\tthe\tprinciples\tand\tstandards\tto\tyour\tmicroservice(s).\tFor example,\tif\tyour\tmicroservice(s)\tis\tin\tneed\tof\timproved\tmonitoring,\tyou\tcould skim\tthrough\tthe\tmajority\tof\tthe\tbook,\treading\tonly\tChapter\t6,\tMonitoring, closely\tand\tthen\tuse\tthe\tmaterial\tin\tthis\tchapter\tto\timprove\tthe\tmonitoring, alerting,\tand\toutage\tresponse\tprocesses\tof\tyour\tservice(s).\n\nThe\tlast\tapproach\tyou\tcould\ttake\tis\t(probably)\tthe\tmost\trewarding\tone,\tand\tthe one\tyou\tshould\ttake\tif\tyour\tgoal\tis\tto\tfully\tstandardize\teither\tthe\tmicroservice you\tare\tresponsible\tfor\tor\tall\tof\tthe\tmicroservices\tat\tyour\tcompany\tso\tthat\tit\tor they\tare\ttruly\tproduction-ready.\tIf\tyour\tgoal\tis\tto\tmake\tyour\tmicroservice(s) stable,\treliable,\tscalable,\tfault\ttolerant,\tperformant,\tproperly\tmonitored,\twell documented,\tand\tprepared\tfor\tany\tcatastrophe,\tyou’ll\twant\tto\ttake\tthis\tapproach. To\taccomplish\tthis,\teach\tchapter\tshould\tbe\tread\tcarefully,\teach\tstandard understood,\tand\teach\trequirement\tadjusted\tand\tapplied\tto\tfit\tthe\tneeds\tof\tyour microservice(s).\n\nAt\tthe\tend\tof\teach\tof\tthe\tstandardization\tchapters\t(Chapters\t3-7),\tyou\twill\tfind\ta section\ttitled\t“Evaluate\tYour\tMicroservice,”\twhich\tcontains\ta\tshort\tlist\tof questions\tyou\tcan\task\tabout\tyour\tmicroservice.\tThe\tquestions\tare\torganized\tby topic\tso\tthat\tyou\t(the\treader)\tcan\tquickly\tpick\tout\tthe\tquestions\trelevant\tto\tyour goals,\tanswer\tthem\tfor\tyour\tmicroservice,\tand\tthen\tdetermine\twhat\tsteps\tyou can\ttake\tto\tmake\tyour\tmicroservice\tproduction-ready.\tAt\tthe\tend\tof\tthe\tbook, you\twill\tfind\ttwo\tappendixes\t(Appendix\tA,\tProduction-Readiness\tChecklist,\tand Appendix\tB,\tEvaluate\tYour\tMicroservice)\tthat\twill\thelp\tyou\tkeep\ttrack\tof\tthe production-readiness\tstandards\tand\tthe\t“Evaluate\tYour\tMicroservices”\tquestions that\tare\tscattered\tthroughout\tthe\tbook.",
      "content_length": 2436,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 11,
      "content": "How\tThis\tBook\tIs\tStructured As\tthe\ttitle\tsuggests,\tChapter\t1,\tMicroservices,\tis\tan\tintroduction\tto microservices.\tIt\tcovers\tthe\tbasics\tof\tmicroservice\tarchitecture,\tcovers\tsome\tof the\tdetails\tof\tsplitting\ta\tmonolith\tinto\tmicroservices,\tintroduces\tthe\tfour\tlayers of\ta\tmicroservice\tecosystem,\tand\tconcludes\twith\ta\tsection\tdevoted\tto illuminating\tsome\tof\tthe\torganizational\tchallenges\tand\ttrade-offs\tthat\tcome\twith adopting\tmicroservice\tarchitecture.\n\nIn\tChapter\t2,\tProduction-Readiness,\tthe\tchallenges\tof\tmicroservice standardization\tare\tpresented,\tand\tthe\teight\tproduction-readiness\tstandards,\tall driven\tby\tmicroservice\tavailability,\tare\tintroduced.\n\nChapter\t3,\tStability\tand\tReliability,\tis\tall\tabout\tthe\tprinciples\tof\tbuilding\tstable and\treliable\tmicroservices.\tThe\tdevelopment\tcycle,\tdeployment\tpipeline,\tdealing with\tdependencies,\trouting\tand\tdiscovery,\tand\tstable\tand\treliable\tdeprecation and\tdecommissioning\tof\tmicroservices\tare\tall\tcovered\there.\n\nChapter\t4,\tScalability\tand\tPerformance,\tnarrows\tin\ton\tthe\trequirements\tfor building\tscalable\tand\tperformant\tmicroservices,\tincluding\tknowing\tthe\tgrowth scales\tof\tmicroservices,\tusing\tresources\tefficiently,\tbeing\tresource\taware, capacity\tplanning,\tdependency\tscaling,\ttraffic\tmanagement,\ttask\thandling\tand processing,\tand\tscalable\tdata\tstorage.\n\nChapter\t5,\tFault\tTolerance\tand\tCatastrophe-Preparedness,\tcovers\tthe\tprinciples of\tbuilding\tfault-tolerant\tmicroservices\tthat\tare\tprepared\tfor\tany\tcatastrophe, including\tcommon\tcatastrophes\tand\tfailure\tscenarios,\tstrategies\tfor\tfailure detection\tand\tremediation,\tthe\tins\tand\touts\tof\tresiliency\ttesting,\tand\tways\tto handle\tincidents\tand\toutages.\n\nChapter\t6,\tMonitoring,\tis\tall\tabout\tthe\tnitty-gritty\tdetails\tof\tmicroservice monitoring\tand\thow\tto\tavoid\tthe\tcomplexities\tof\tmicroservice\tmonitoring through\tstandardization.\tLogging,\tcreating\tuseful\tdashboards,\tand\tappropriately handling\talerting\tare\tall\tcovered\tin\tthis\tchapter.\n\nLast\tbut\tnot\tleast\tis\tChapter\t7,\tDocumentation\tand\tUnderstanding,\twhich\tdives into\tappropriate\tmicroservice\tdocumentation\tand\tways\tto\tincrease\tarchitectural and\toperational\tunderstanding\tin\tdevelopment\tteams\tand\tthroughout\tthe organization,\tand\talso\tcontains\tpractical\tstrategies\tfor\timplementing\tproduction- readiness\tstandards\tacross\tan\tengineering\torganization.\n\nThere\tare\ttwo\tappendixes\tat\tthe\tend\tof\tthis\tbook.\tAppendix\tA,\tProduction-",
      "content_length": 2365,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 12,
      "content": "Readiness\tChecklist,\tis\tthe\tchecklist\tdescribed\tat\tthe\tend\tof\tChapter\t7, Documentation\tand\tUnderstanding,\tand\tis\ta\tconcise\tsummary\tof\tall\tthe production-readiness\tstandards\tthat\tare\tscattered\tthroughout\tthe\tbook,\talong with\ttheir\tcorresponding\trequirements.\tAppendix\tB,\tEvaluate\tYour Microservice,\tis\ta\tcollection\tof\tall\tthe\t“Evaluate\tYour\tMicroservice”\tquestions found\tin\tthe\tcorresponding\tsections\tat\tthe\tend\tof\tChapters\t3-7.",
      "content_length": 427,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 13,
      "content": "Conventions\tUsed\tin\tThis\tBook The\tfollowing\ttypographical\tconventions\tare\tused\tin\tthis\tbook:\tItalic\n\nIndicates\tnew\tterms,\tURLs,\temail\taddresses,\tfilenames,\tand\tfile extensions.\n\nConstant\twidth\n\nUsed\tfor\tprogram\tlistings,\tas\twell\tas\twithin\tparagraphs\tto\trefer\tto program\telements\tsuch\tas\tvariable\tor\tfunction\tnames,\tdatabases,\tdata types,\tenvironment\tvariables,\tstatements,\tand\tkeywords.\n\nConstant\twidth\tbold\n\nShows\tcommands\tor\tother\ttext\tthat\tshould\tbe\ttyped\tliterally\tby\tthe user.\n\nConstant\twidth\titalic\n\nShows\ttext\tthat\tshould\tbe\treplaced\twith\tuser-supplied\tvalues\tor\tby values\tdetermined\tby\tcontext.\n\nTIP\n\nThis\telement\tsignifies\ta\ttip\tor\tsuggestion.\n\nNOTE\n\nThis\telement\tsignifies\ta\tgeneral\tnote.\n\nWARNING\n\nThis\telement\tindicates\ta\twarning\tor\tcaution.",
      "content_length": 753,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 14,
      "content": "O’Reilly\tSafari",
      "content_length": 15,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 15,
      "content": "NOTE\n\nSafari\t(formerly\tSafari\tBooks\tOnline)\tis\ta\tmembership-based\ttraining\tand reference\tplatform\tfor\tenterprise,\tgovernment,\teducators,\tand\tindividuals.\n\nMembers\thave\taccess\tto\tthousands\tof\tbooks,\ttraining\tvideos,\tLearning\tPaths, interactive\ttutorials,\tand\tcurated\tplaylists\tfrom\tover\t250\tpublishers,\tincluding O’Reilly\tMedia,\tHarvard\tBusiness\tReview,\tPrentice\tHall\tProfessional,\tAddison- Wesley\tProfessional,\tMicrosoft\tPress,\tSams,\tQue,\tPeachpit\tPress,\tAdobe,\tFocal Press,\tCisco\tPress,\tJohn\tWiley\t&\tSons,\tSyngress,\tMorgan\tKaufmann,\tIBM Redbooks,\tPackt,\tAdobe\tPress,\tFT\tPress,\tApress,\tManning,\tNew\tRiders, McGraw-Hill,\tJones\t&\tBartlett,\tand\tCourse\tTechnology,\tamong\tothers.\n\nFor\tmore\tinformation,\tplease\tvisit\thttp://oreilly.com/safari.",
      "content_length": 737,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 16,
      "content": "How\tto\tContact\tUs Please\taddress\tcomments\tand\tquestions\tconcerning\tthis\tbook\tto\tthe\tpublisher:\n\nO’Reilly\tMedia,\tInc.\n\n1005\tGravenstein\tHighway\tNorth\n\nSebastopol,\tCA\t95472\n\n800-998-9938\t(in\tthe\tUnited\tStates\tor\tCanada)\n\n707-829-0515\t(international\tor\tlocal)\n\n707-829-0104\t(fax)\n\nWe\thave\ta\tweb\tpage\tfor\tthis\tbook,\twhere\twe\tlist\terrata,\texamples,\tand\tany additional\tinformation.\tYou\tcan\taccess\tthis\tpage\tat\thttp://bit.ly/prod- ready_microservices.\n\nTo\tcomment\tor\task\ttechnical\tquestions\tabout\tthis\tbook,\tsend\temail\tto bookquestions@oreilly.com.\n\nFor\tmore\tinformation\tabout\tour\tbooks,\tcourses,\tconferences,\tand\tnews,\tsee\tour website\tat\thttp://www.oreilly.com.\n\nFind\tus\ton\tFacebook:\thttp://facebook.com/oreilly\n\nFollow\tus\ton\tTwitter:\thttp://twitter.com/oreillymedia\n\nWatch\tus\ton\tYouTube:\thttp://www.youtube.com/oreillymedia",
      "content_length": 818,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 17,
      "content": "Acknowledgments This\tbook\tis\tdedicated\tto\tmy\tbetter\thalf,\tChad\tRigetti,\twho\ttook\ttime\taway\tfrom building\tquantum\tcomputers\tto\tlisten\tto\tall\tof\tmy\trants\tabout\tmicroservices,\tand who\tjoyfully\tencouraged\tme\tevery\tstep\tof\tthe\tway.\tI\tcould\tnot\thave\twritten\tthis book\twithout\tall\tof\this\tlove\tand\twholehearted\tsupport.\n\nIt\tis\talso\tdedicated\tto\tmy\tsisters,\tMartha\tand\tSara,\twhose\tgrit,\tresilience, courage,\tand\tjoy\tinspire\tme\tin\tevery\tmoment\tand\taspect\tof\tmy\tlife,\tand\talso\tto Shalon\tVan\tTine,\twho\thas\tbeen\tmy\tclosest\tfriend\tand\tfiercest\tsupporter\tfor\tso many\tyears.\n\nI\tam\tgreatly\tindebted\tto\tall\tof\tthose\twho\toffered\tfeedback\ton\tearly\tdrafts,\tto\tmy coworkers\tat\tUber,\tand\tto\tengineers\twho\thave\tbravely\tworked\tto\timplement\tthe principles\tand\tstrategies\twithin\tthis\tbook\tat\ttheir\town\tengineering\torganizations. I\tam\tespecially\tthankful\tto\tRoxana\tdel\tToro,\tPatrick\tSchork,\tRick\tBoone,\tTyler Dixon,\tJonah\tHorowitz,\tRyan\tRix,\tKatherine\tHennes,\tIngrid\tAvendano,\tSean Hart,\tShella\tStephens,\tDavid\tCampbell,\tJameson\tLee,\tJane\tArc,\tEamon\tBisson- Donahue,\tand\tAimee\tGonzalez.\n\nNone\tof\tthis\twould\thave\tbeen\tpossible\twithout\tBrian\tFoster,\tNan\tBarber,\tthe technical\treviewers,\tand\tthe\trest\tof\tthe\tamazing\tO’Reilly\tstaff.\tI\tcould\tnot\thave written\tthis\twithout\tyou.",
      "content_length": 1243,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 18,
      "content": "Chapter\t1.\tMicroservices\n\nIn\tthe\tpast\tfew\tyears,\tthe\ttechnology\tindustry\thas\twitnessed\ta\trapid\tchange\tin applied,\tpractical\tdistributed\tsystems\tarchitecture\tthat\thas\tled\tindustry\tgiants (such\tas\tNetflix,\tTwitter,\tAmazon,\teBay,\tand\tUber)\taway\tfrom\tbuilding monolithic\tapplications\tto\tadopting\tmicroservice\tarchitecture.\tWhile\tthe fundamental\tconcepts\tbehind\tmicroservices\tare\tnot\tnew,\tthe\tcontemporary application\tof\tmicroservice\tarchitecture\ttruly\tis,\tand\tits\tadoption\thas\tbeen\tdriven in\tpart\tby\tscalability\tchallenges,\tlack\tof\tefficiency,\tslow\tdeveloper\tvelocity,\tand the\tdifficulties\twith\tadopting\tnew\ttechnologies\tthat\tarise\twhen\tcomplex\tsoftware systems\tare\tcontained\twithin\tand\tdeployed\tas\tone\tlarge\tmonolithic\tapplication.\n\nAdopting\tmicroservice\tarchitecture,\twhether\tfrom\tthe\tground\tup\tor\tby\tsplitting an\texisting\tmonolithic\tapplication\tinto\tindependently\tdeveloped\tand\tdeployed microservices,\tsolves\tthese\tproblems.\tWith\tmicroservice\tarchitecture,\tan application\tcan\teasily\tbe\tscaled\tboth\thorizontally\tand\tvertically,\tdeveloper productivity\tand\tvelocity\tincrease\tdramatically,\tand\told\ttechnologies\tcan\teasily be\tswapped\tout\tfor\tthe\tnewest\tones.\n\nAs\twe\twill\tsee\tin\tthis\tchapter,\tthe\tadoption\tof\tmicroservice\tarchitecture\tcan\tbe seen\tas\ta\tnatural\tstep\tin\tthe\tscaling\tof\tan\tapplication.\tThe\tsplitting\tof\ta monolithic\tapplication\tinto\tmicroservices\tis\tdriven\tby\tscalability\tand\tefficiency concerns,\tbut\tmicroservices\tintroduce\tchallenges\tof\ttheir\town.\tA\tsuccessful, scalable\tmicroservice\tecosystem\trequires\tthat\ta\tstable\tand\tsophisticated infrastructure\tbe\tin\tplace.\tIn\taddition,\tthe\torganizational\tstructure\tof\ta\tcompany adopting\tmicroservices\tmust\tbe\tradically\tchanged\tto\tsupport\tmicroservice architecture,\tand\tthe\tteam\tstructures\tthat\tspring\tfrom\tthis\tcan\tlead\tto\tsiloing\tand sprawl.\tThe\tlargest\tchallenges\tthat\tmicroservice\tarchitecture\tbrings,\thowever, are\tthe\tneed\tfor\tstandardization\tof\tthe\tarchitecture\tof\tthe\tservices\tthemselves, along\twith\trequirements\tfor\teach\tmicroservice\tin\torder\tto\tensure\ttrust\tand availability.",
      "content_length": 2031,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 19,
      "content": "From\tMonoliths\tto\tMicroservices Almost\tevery\tsoftware\tapplication\twritten\ttoday\tcan\tbe\tbroken\tinto\tthree\tdistinct elements:\ta\tfrontend\t(or\tclient-side)\tpiece,\ta\tbackend\tpiece,\tand\tsome\ttype\tof datastore\t(Figure\t1-1).\tRequests\tare\tmade\tto\tthe\tapplication\tthrough\tthe\tclient- side\tpiece,\tthe\tbackend\tcode\tdoes\tall\tthe\theavy\tlifting,\tand\tany\trelevant\tdata\tthat needs\tto\tbe\tstored\tor\taccessed\t(whether\ttemporarily\tin\tmemory\tof\tpermanently in\ta\tdatabase)\tis\tsent\tto\tor\tretrieved\tfrom\twherever\tthe\tdata\tis\tstored.\tWe’ll\tcall this\tthe\tthree-tier\tarchitecture.\n\nFigure\t1-1.\tThree-tier\tarchitecture\n\nThere\tare\tthree\tdifferent\tways\tthese\telements\tcan\tbe\tcombined\tto\tmake\tan application.\tMost\tapplications\tput\tthe\tfirst\ttwo\tpieces\tinto\tone\tcodebase\t(or repository),\twhere\tall\tclient-side\tand\tbackend\tcode\tare\tstored\tand\trun\tas\tone executable\tfile,\twith\ta\tseparate\tdatabase.\tOthers\tseparate\tout\tall\tfrontend,\tclient- side\tcode\tfrom\tthe\tbackend\tcode\tand\tstore\tthem\tas\tseparate\tlogical\texecutables, accompanied\tby\tan\texternal\tdatabase.\tApplications\tthat\tdon’t\trequire\tan\texternal database\tand\tstore\tall\tdata\tin\tmemory\ttend\tto\tcombine\tall\tthree\telements\tinto one\trepository.\tRegardless\tof\tthe\tway\tthese\telements\tare\tdivided\tor\tcombined, the\tapplication\titself\tis\tconsidered\tto\tbe\tthe\tsum\tof\tthese\tthree\tdistinct\telements.\n\nApplications\tare\tusually\tarchitected,\tbuilt,\tand\trun\tthis\tway\tfrom\tthe\tbeginning of\ttheir\tlifecycles,\tand\tthe\tarchitecture\tof\tthe\tapplication\tis\ttypically\tindependent of\tthe\tproduct\toffered\tby\tthe\tcompany\tor\tthe\tpurpose\tof\tthe\tapplication\titself. These\tthree\tarchitectural\telements\tthat\tcomprise\tthe\tthree-tier\tarchitecture\tare present\tin\tevery\twebsite,\tevery\tphone\tapplication,\tevery\tbackend\tand\tfrontend and\tstrange\tenormous\tenterprise\tapplication,\tand\tare\tfound\tas\tone\tof\tthe permutations\tdescribed.\n\nIn\tthe\tearly\tstages,\twhen\ta\tcompany\tis\tyoung,\tits\tapplication(s)\tsimple,\tand\tthe",
      "content_length": 1892,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 20,
      "content": "In\tthe\tearly\tstages,\twhen\ta\tcompany\tis\tyoung,\tits\tapplication(s)\tsimple,\tand\tthe number\tof\tdevelopers\tcontributing\tto\tthe\tcodebase\tis\tsmall,\tdevelopers\ttypically share\tthe\tburden\tof\tcontributing\tto\tand\tmaintaining\tthe\tcodebase.\tAs\tthe company\tgrows,\tmore\tdevelopers\tare\thired,\tnew\tfeatures\tare\tadded\tto\tthe application,\tand\tthree\tsignificant\tthings\thappen.\n\nFirst\tcomes\tan\tincrease\tin\tthe\toperational\tworkload.\tOperational\twork\tis, generally\tspeaking,\tthe\twork\tassociated\twith\trunning\tand\tmaintaining\tthe application.\tThis\tusually\tleads\tto\tthe\thiring\tof\toperational\tengineers\t(system administrators,\tTechOps\tengineers,\tand\tso-called\t“DevOps”\tengineers)\twho\ttake over\tthe\tmajority\tof\tthe\toperational\ttasks,\tlike\tthose\trelated\tto\thardware, monitoring,\tand\ton\tcall.\n\nThe\tsecond\tthing\tthat\thappens\tis\ta\tresult\tof\tsimple\tmathematics:\tadding\tnew features\tto\tyour\tapplication\tincreases\tboth\tthe\tnumber\tof\tlines\tof\tcode\tin\tyour application\tand\tthe\tcomplexity\tof\tthe\tapplication\titself.\n\nThird\tis\tthe\tnecessary\thorizontal\tand/or\tvertical\tscaling\tof\tthe\tapplication. Increases\tin\ttraffic\tplace\tsignificant\tscalability\tand\tperformance\tdemands\ton\tthe application,\trequiring\tthat\tmore\tservers\thost\tthe\tapplication.\tMore\tservers\tare added,\ta\tcopy\tof\tthe\tapplication\tis\tdeployed\tto\teach\tserver,\tand\tload\tbalancers are\tput\tinto\tplace\tso\tthat\tthe\trequests\tare\tdistributed\tappropriately\tamong\tthe servers\thosting\tthe\tapplication\t(see\tFigure\t1-2,\tcontaining\ta\tfrontend\tpiece, which\tmay\tcontain\tits\town\tload-balancing\tlayer,\ta\tbackend\tload-balancing\tlayer, and\tthe\tbackend\tservers).\tVertical\tscaling\tbecomes\ta\tnecessity\tas\tthe\tapplication begins\tprocessing\ta\tlarger\tnumber\tof\ttasks\trelated\tto\tits\tdiverse\tset\tof\tfeatures, so\tthe\tapplication\tis\tdeployed\tto\tlarger,\tmore\tpowerful\tservers\tthat\tcan\thandle CPU\tand\tmemory\tdemands\t(Figure\t1-3).",
      "content_length": 1818,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 21,
      "content": "Figure\t1-2.\tScaling\tan\tapplication\thorizontally",
      "content_length": 47,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 22,
      "content": "Figure\t1-3.\tScaling\tan\tapplication\tvertically\n\nAs\tthe\tcompany\tgrows,\tand\tthe\tnumber\tof\tengineers\tis\tno\tlonger\tin\tthe\tsingle, double,\tor\teven\ttriple\tdigits,\tthings\tstart\tto\tget\ta\tlittle\tmore\tcomplicated.\tThanks",
      "content_length": 209,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 23,
      "content": "to\tall\tthe\tfeatures,\tpatches,\tand\tfixes\tadded\tto\tthe\tcodebase\tby\tthe\tdevelopers, the\tapplication\tis\tnow\tthousands\tupon\tthousands\tof\tlines\tlong.\tThe\tcomplexity of\tthe\tapplication\tis\tgrowing\tsteadily,\tand\thundreds\t(if\tnot\tthousands)\tof\ttests must\tbe\twritten\tin\torder\tto\tensure\tthat\tany\tchange\tmade\t(even\ta\tchange\tof\tone or\ttwo\tlines)\tdoesn’t\tcompromise\tthe\tintegrity\tof\tthe\texisting\tthousands\tupon thousands\tof\tlines\tof\tcode.\tDevelopment\tand\tdeployment\tbecome\ta\tnightmare, testing\tbecomes\ta\tburden\tand\ta\tblocker\tto\tthe\tdeployment\tof\teven\tthe\tmost crucial\tfixes,\tand\ttechnical\tdebt\tpiles\tup\tquickly.\tApplications\twhose\tlifecycles fit\tinto\tthis\tpattern\t(for\tbetter\tor\tfor\tworse)\tare\tfondly\t(and\tappropriately) referred\tto\tin\tthe\tsoftware\tcommunity\tas\tmonoliths.\n\nOf\tcourse,\tnot\tall\tmonolithic\tapplications\tare\tbad,\tand\tnot\tevery\tmonolithic application\tsuffers\tfrom\tthe\tproblems\tlisted,\tbut\tmonoliths\tthat\tdon’t\thit\tthese issues\tat\tsome\tpoint\tin\ttheir\tlifecycle\tare\t(in\tmy\texperience)\tpretty\trare.\tThe reason\tmost\tmonoliths\tare\tsusceptible\tto\tthese\tproblems\tis\tbecause\tthe\tnature\tof a\tmonolith\tis\tdirectly\topposed\tto\tscalability\tin\tthe\tmost\tgeneral\tpossible\tsense. Scalability\trequires\tconcurrency\tand\tpartitioning:\tthe\ttwo\tthings\tthat\tare difficult\tto\taccomplish\twith\ta\tmonolith.\n\nSCALING\tAN\tAPPLICATION\n\nLet’s\tbreak\tthis\tdown\ta\tbit.\n\nThe\tgoal\tof\tany\tsoftware\tapplication\tis\tto\tprocess\ttasks\tof\tsome\tsort.\tRegardless\tof\twhat\tthose\ttasks are,\twe\tcan\tmake\ta\tgeneral\tassumption\tabout\thow\twe\twant\tour\tapplication\tto\thandle\tthem:\tit\tneeds to\tprocess\tthem\tefficiently.\n\nTo\tprocess\ttasks\tefficiently,\tour\tapplication\tneeds\tto\thave\tsome\tkind\tof\tconcurrency.\tThis\tmeans that\twe\tcan’t\thave\tjust\tone\tprocess\tthat\tdoes\tall\tthe\twork,\tbecause\tthen\tthat\tprocess\twill\tpick\tup\tone task\tat\ta\ttime,\tcomplete\tall\tthe\tnecessary\tpieces\tof\tit\t(or\tfail!),\tand\tthen\tmove\tonto\tthe\tnext\t—\tthis isn’t\tefficient\tat\tall!\tTo\tmake\tour\tapplication\tefficient,\twe\tcan\tintroduce\tconcurrency\tso\tthat\teach task\tcan\tbe\tbroken\tup\tinto\tsmaller\tpieces.\n\nThe\tsecond\tthing\twe\tcan\tdo\tto\tprocess\ttasks\tefficiently\tis\tto\tdivide\tand\tconquer\tby\tintroducing partitioning,\twhere\teach\ttask\tis\tnot\tonly\tbroken\tup\tinto\tsmall\tpieces\tbut\tcan\tbe\tprocessed\tin\tparallel. If\twe\thave\ta\tbunch\tof\ttasks,\twe\tcan\tprocess\tthem\tall\tat\tthe\tsame\ttime\tby\tsending\tthem\tto\ta\tset\tof workers\tthat\tcan\tprocess\tthem\tin\tparallel.\tIf\twe\tneed\tto\tprocess\tmore\ttasks,\twe\tcan\teasily\tscale\twith the\tdemand\tby\tadding\tadditional\tworkers\tto\tprocess\tthe\tnew\ttasks\twithout\taffecting\tthe\tefficiency\tof our\tsystem.\n\nConcurrency\tand\tpartitioning\tare\tdifficult\tto\tsupport\twhen\tyou\thave\tone\tlarge\tapplication\tthat\tneeds to\tbe\tdeployed\tto\tevery\tserver,\twhich\tneeds\tto\tprocess\tany\ttype\tof\ttask.\tIf\tyour\tapplication\tis\teven the\tslightest\tbit\tcomplicated,\tthe\tonly\tway\tyou\tcan\tscale\tit\twith\ta\tgrowing\tlist\tof\tfeatures\tand increasing\ttraffic\tis\tto\tscale\tup\tthe\thardware\tthat\tthe\tapplication\tis\tdeployed\tto.\n\nTo\tbe\ttruly\tefficient,\tthe\tbest\tway\tto\tscale\tan\tapplication\tis\tto\tbreak\tit\tinto\tmany\tsmall,\tindependent applications\tthat\teach\tdo\tone\ttype\tof\ttask.\tNeed\tto\tadd\tanother\tstep\tto\tthe\toverall\tprocess?\tEasy",
      "content_length": 3107,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 24,
      "content": "enough:\tjust\tmake\ta\tnew\tapplication\tthat\tonly\tdoes\tthat\tstep!\tNeed\tto\thandle\tmore\ttraffic?\tSimple: add\tmore\tworkers\tto\teach\tapplication!\n\nConcurrency\tand\tpartitioning\tare\tdifficult\tto\tsupport\tin\ta\tmonolithic\tapplication,\twhich\tprevents monolithic\tapplication\tarchitecture\tfrom\tbeing\tas\tefficient\tas\twe\tneed\tit\tto\tbe.\n\nWe’ve\tseen\tthis\tpattern\temerge\tat\tcompanies\tlike\tAmazon,\tTwitter,\tNetflix, eBay,\tand\tUber:\tcompanies\tthat\trun\tapplications\tacross\tnot\thundreds,\tbut thousands,\teven\thundreds\tof\tthousands\tof\tservers\tand\twhose\tapplications\thave evolved\tinto\tmonoliths\tand\thit\tscalability\tchallenges.\tThe\tchallenges\tthey\tfaced were\tremedied\tby\tabandoning\tmonolithic\tapplication\tarchitecture\tin\tfavor\tof microservices.\n\nThe\tbasic\tconcept\tof\ta\tmicroservice\tis\tsimple:\tit’s\ta\tsmall\tapplication\tthat\tdoes one\tthing\tonly,\tand\tdoes\tthat\tone\tthing\twell.\tA\tmicroservice\tis\ta\tsmall component\tthat\tis\teasily\treplaceable,\tindependently\tdeveloped,\tand independently\tdeployable.\tA\tmicroservice\tcannot\tlive\talone,\thowever\t—\tno microservice\tis\tan\tisland\t—\tand\tit\tis\tpart\tof\ta\tlarger\tsystem,\trunning\tand working\talongside\tother\tmicroservices\tto\taccomplish\twhat\twould\tnormally\tbe handled\tby\tone\tlarge\tstandalone\tapplication.\n\nThe\tgoal\tof\tmicroservice\tarchitecture\tis\tto\tbuild\ta\tset\tof\tsmall\tapplications\tthat are\teach\tresponsible\tfor\tperforming\tone\tfunction\t(as\topposed\tto\tthe\ttraditional way\tof\tbuilding\tone\tapplication\tthat\tdoes\teverything),\tand\tto\tlet\teach microservice\tbe\tautonomous,\tindependent,\tand\tself-contained.\tThe\tcore difference\tbetween\ta\tmonolithic\tapplication\tand\tmicroservices\tis\tthis:\ta monolithic\tapplication\t(Figure\t1-4)\twill\tcontain\tall\tfeatures\tand\tfunctions\twithin one\tapplication\tand\tone\tcodebase,\tall\tdeployed\tat\tthe\tsame\ttime,\twith\teach server\thosting\ta\tcomplete\tcopy\tof\tthe\tentire\tapplication,\twhile\ta\tmicroservice (Figure\t1-5)\tcontains\tonly\tone\tfunction\tor\tfeature\tand\tlives\tin\ta\tmicroservice ecosystem\talong\twith\tother\tmicroservices\tthat\teach\tperform\tone\tfunction\tor feature.",
      "content_length": 1982,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 25,
      "content": "Figure\t1-4.\tMonolith",
      "content_length": 20,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 26,
      "content": "Figure\t1-5.\tMicroservices\n\nThere\tare\tnumerous\tbenefits\tto\tadopting\tmicroservice\tarchitecture\t—\tincluding (but\tnot\tlimited\tto)\treduced\ttechnical\tdebt,\timproved\tdeveloper\tproductivity\tand velocity,\tbetter\ttesting\tefficiency,\tincreased\tscalability,\tand\tease\tof\tdeployment",
      "content_length": 268,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 27,
      "content": "—\tand\tcompanies\tthat\tadopt\tmicroservice\tarchitecture\tusually\tdo\tso\tafter\thaving built\tone\tapplication\tand\thitting\tscalability\tand\torganizational\tchallenges.\tThey begin\twith\ta\tmonolithic\tapplication\tand\tthen\tsplit\tthe\tmonolith\tinto microservices.\n\nThe\tdifficulties\tof\tsplitting\ta\tmonolith\tinto\tmicroservices\tdepend\tentirely\ton\tthe complexity\tof\tthe\tmonolithic\tapplication.\tA\tmonolithic\tapplication\twith\tmany features\twill\ttake\ta\tgreat\tdeal\tof\tarchitectural\teffort\tand\tcareful\tdeliberation\tto successfully\tbreak\tup\tinto\tmicroservices,\tand\tadditional\tcomplexity\tis introduced\tby\tthe\tneed\tto\treorganize\tand\trestructure\tteams.\tThe\tdecision\tto move\tto\tmicroservices\tmust\talways\tbecome\ta\tcompany-wide\teffort.\n\nThere\tare\tseveral\tsteps\tin\tbreaking\tapart\ta\tmonolith.\tThe\tfirst\tis\tto\tidentify\tthe components\tthat\tshould\tbe\twritten\tas\tindependent\tservices.\tThis\tis\tperhaps\tthe most\tdifficult\tstep\tin\tthe\tentire\tprocess,\tbecause\twhile\tthere\tmay\tbe\ta\tnumber\tof right\tways\tto\tsplit\tthe\tmonolith\tinto\tcomponent\tservices,\tthere\tare\tfar\tmore wrong\tways.\tThe\trule\tof\tthumb\tin\tidentifying\tcomponents\tis\tto\tpinpoint\tkey overall\tfunctionalities\tof\tthe\tmonolith,\tthen\tsplit\tthose\tfunctionalities\tinto\tsmall independent\tcomponents.\tMicroservices\tmust\tbe\tas\tsimple\tas\tpossible\tor\telse\tthe company\twill\trisk\tthe\tpossibility\tof\treplacing\tone\tmonolith\twith\tseveral\tsmaller monoliths,\twhich\twill\tall\tsuffer\tthe\tsame\tproblems\tas\tthe\tcompany\tgrows.\n\nOnce\tthe\tkey\tfunctions\thave\tbeen\tidentified\tand\tproperly\tcomponentized\tinto independent\tmicroservices,\tthe\torganizational\tstructure\tof\tthe\tcompany\tmust\tbe restructured\tso\tthat\teach\tmicroservice\tis\tstaffed\tby\tan\tengineering\tteam.\tThere are\tseveral\tways\tto\tdo\tthis.\tThe\tfirst\tmethod\tof\tcompany\treorganization\taround microservice\tadoption\tis\tto\tdedicate\tone\tteam\tto\teach\tmicroservice.\tThe\tsize\tof the\tteam\twill\tbe\tdetermined\tcompletely\tby\tthe\tcomplexity\tand\tworkload\tof\tthe microservice\tand\tshould\tbe\tstaffed\tby\tenough\tdevelopers\tand\tsite\treliability engineers\tso\tthat\tboth\tfeature\tdevelopment\tand\tthe\ton-call\trotation\tof\tthe\tservice can\tbe\tmanaged\twithout\tburdening\tthe\tteam.\tThe\tsecond\tis\tto\tassign\tseveral services\tto\tone\tteam\tand\thave\tthat\tteam\tdevelop\tthe\tservices\tin\tparallel.\tThis works\tbest\twhen\tthe\tteams\tare\torganized\taround\tspecific\tproducts\tor\tbusiness domains,\tand\tare\tresponsible\tfor\tdeveloping\tany\tservices\trelated\tto\tthose products\tor\tdomains.\tIf\ta\tcompany\tchooses\tthe\tsecond\tmethod\tof\treorganization, it\tneeds\tto\tmake\tsure\tthat\tdevelopers\taren’t\toverworked\tand\tdon’t\tface\ttask, outage,\tor\toperational\tfatigue.\n\nAnother\timportant\tpart\tof\tmicroservice\tadoption\tis\tthe\tcreation\tof\ta microservice\tecosystem.\tTypically\t(or,\tat\tleast,\thopefully),\ta\tcompany\trunning\ta large\tmonolithic\tapplication\twill\thave\ta\tdedicated\tinfrastructure\torganization",
      "content_length": 2772,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 28,
      "content": "that\tis\tresponsible\tfor\tdesigning,\tbuilding,\tand\tmaintaining\tthe\tinfrastructure\tthat the\tapplication\truns\ton.\tWhen\ta\tmonolith\tis\tsplit\tinto\tmicroservices,\tthe responsibilities\tof\tthe\tinfrastructure\torganization\tfor\tproviding\ta\tstable\tplatform for\tmicroservices\tto\tbe\tdeveloped\tand\trun\ton\tgrows\tdrastically\tin\timportance. The\tinfrastructure\tteams\tmust\tprovide\tmicroservice\tteams\twith\tstable infrastructure\tthat\tabstracts\taway\tthe\tmajority\tof\tthe\tcomplexity\tof\tthe interactions\tbetween\tmicroservices.\n\nOnce\tthese\tthree\tsteps\thave\tbeen\tcompleted\t—\tthe\tcomponentization\tof\tthe application,\tthe\trestructuring\tof\tengineering\tteams\tto\tstaff\teach\tmicroservice, and\tthe\tdevelopment\tof\tthe\tinfrastructure\torganization\twithin\tthe\tcompany\t— the\tmigration\tcan\tbegin.\tSome\tteams\tchoose\tto\tpull\tthe\trelevant\tcode\tfor\ttheir microservice\tdirectly\tfrom\tthe\tmonolith\tand\tinto\ta\tseparate\tservice,\tand\tshadow the\tmonolith’s\ttraffic\tuntil\tthey\tare\tconvinced\tthat\tthe\tmicroservice\tcan\tperform the\tdesired\tfunctionality\ton\tits\town.\tOther\tteams\tchoose\tto\tbuild\tthe\tservice from\tscratch,\tstarting\twith\ta\tclean\tslate,\tand\tshadow\ttraffic\tor\tredirect\tafter\tthe service\thas\tpassed\tappropriate\ttests.\tThe\tbest\tapproach\tto\tmigration\tdepends\ton the\tfunctionality\tof\tthe\tmicroservice,\tand\tI\thave\tseen\tboth\tapproaches\twork equally\twell\tin\tmost\tcases,\tbut\tthe\treal\tkey\tto\ta\tsuccessful\tmigration\tis\tthorough, careful,\tpainstakingly\tdocumented\tplanning\tand\texecution,\talong\twith\tthe realization\tthat\ta\tcomplete\tmigration\tof\ta\tlarge\tmonolith\tcan\ttake\tseveral\tlong years.\n\nWith\tall\tthe\twork\tinvolved\tin\tsplitting\ta\tmonolith\tinto\tmicroservices,\tit\tmay seem\tbetter\tto\tbegin\twith\tmicroservice\tarchitecture,\tskip\tall\tof\tthe\tpainful scalability\tchallenges,\tand\tavoid\tthe\tmicroservice\tmigration\tdrama.\tThis approach\tmay\tturn\tout\tall\tright\tfor\tsome\tcompanies,\tbut\tI\twant\tto\toffer\tseveral words\tof\tcaution.\tSmall\tcompanies\toften\tdo\tnot\thave\tthe\tnecessary infrastructure\tin\tplace\tto\tsustain\tmicroservices,\teven\tat\ta\tvery\tsmall\tscale:\tgood microservice\tarchitecture\trequires\tstable,\toften\tvery\tcomplex,\tinfrastructure. Such\tstable\tinfrastructure\trequires\ta\tlarge,\tdedicated\tteam\twhose\tcost\tcan typically\tbe\tsustained\tonly\tby\tcompanies\tthat\thave\treached\tthe\tscalability challenges\tthat\tjustify\tthe\tmove\tto\tmicroservice\tarchitecture.\tSmall\tcompanies simply\twill\tnot\thave\tenough\toperational\tcapacity\tto\tmaintain\ta\tmicroservice ecosystem.\tFurthermore,\tit’s\textraordinarily\tdifficult\tto\tidentify\tkey\tareas\tand components\tto\tbuild\tinto\tmicroservices\twhen\ta\tcompany\tis\tin\tthe\tearly\tstages: applications\tat\tnew\tcompanies\twill\tnot\thave\tmany\tfeatures,\tnor\tmany\tseparate areas\tof\tfunctionality\tthat\tcan\tbe\tsplit\tappropriately\tinto\tmicroservices.",
      "content_length": 2684,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 29,
      "content": "Microservice\tArchitecture The\tarchitecture\tof\ta\tmicroservice\t(Figure\t1-6)\tis\tnot\tvery\tdifferent\tfrom\tthe standard\tapplication\tarchitecture\tcovered\tin\tthe\tfirst\tsection\tof\tthis\tchapter (Figure\t1-1).\tEach\tand\tevery\tmicroservice\twill\thave\tthree\tcomponents:\ta frontend\t(client-side)\tpiece,\tsome\tbackend\tcode\tthat\tdoes\tthe\theavy\tlifting,\tand\ta way\tto\tstore\tor\tretrieve\tany\trelevant\tdata.\n\nThe\tfrontend,\tclient-side\tpiece\tof\ta\tmicroservice\tis\tnot\tyour\ttypical\tfrontend application,\tbut\trather\tan\tapplication\tprogramming\tinterface\t(API)\twith\tstatic endpoints.\tWell-designed\tmicroservice\tAPIs\tallow\tmicroservices\tto\teasily\tand effectively\tinteract,\tsending\trequests\tto\tthe\trelevant\tAPI\tendpoint(s).\tFor example,\ta\tmicroservice\tthat\tis\tresponsible\tfor\tcustomer\tdata\tmight\thave\ta get_customer_information\tendpoint\tthat\tother\tservices\tcould\tsend\trequests\tto\tin order\tto\tretrieve\tinformation\tabout\tcustomers,\tan\tupdate_customer_information endpoint\tthat\tother\tservices\tcould\tsend\trequests\tto\tin\torder\tto\tupdate\tthe information\tfor\ta\tspecific\tcustomer,\tand\ta\tdelete_customer_information endpoint\tthat\tservices\tcould\tuse\tto\tdelete\ta\tcustomer’s\tinformation.\n\nFigure\t1-6.\tElements\tof\tmicroservice\tarchitecture\n\nThese\tendpoints\tare\tseparated\tout\tin\tarchitecture\tand\ttheory\talone,\tnot\tin practice,\tfor\tthey\tlive\talongside\tand\tas\tpart\tof\tall\tthe\tbackend\tcode\tthat processes\tevery\trequest.\tFor\tour\texample\tmicroservice\tthat\tis\tresponsible\tfor customer\tdata,\ta\trequest\tsent\tto\tthe\tget_customer_information\tendpoint\twould",
      "content_length": 1499,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 30,
      "content": "trigger\ta\ttask\tthat\twould\tprocess\tthe\tincoming\trequest,\tdetermine\tany\tspecific filters\tor\toptions\tthat\twere\tapplied\tin\tthe\trequest,\tretrieve\tthe\tinformation\tfrom\ta database,\tformat\tthe\tinformation,\tand\treturn\tit\tto\tthe\tclient\t(microservice)\tthat requested\tit.\n\nMost\tmicroservices\twill\tstore\tsome\ttype\tof\tdata,\twhether\tin\tmemory\t(perhaps using\ta\tcache)\tor\tan\texternal\tdatabase.\tIf\tthe\trelevant\tdata\tis\tstored\tin\tmemory, there’s\tno\tneed\tto\tmake\tan\textra\tnetwork\tcall\tto\tan\texternal\tdatabase,\tand\tthe microservice\tcan\teasily\treturn\tany\trelevant\tdata\tto\ta\tclient.\tIf\tthe\tdata\tis\tstored\tin an\texternal\tdatabase,\tthe\tmicroservice\twill\tneed\tto\tmake\tanother\trequest\tto\tthe database,\twait\tfor\ta\tresponse,\tand\tthen\tcontinue\tto\tprocess\tthe\ttask.\n\nThis\tarchitecture\tis\tnecessary\tif\tmicroservices\tare\tto\twork\twell\ttogether.\tThe microservice\tarchitecture\tparadigm\trequires\tthat\ta\tset\tof\tmicroservices\twork together\tto\tmake\tup\twhat\twould\totherwise\texist\tas\tone\tlarge\tapplication,\tand\tso there\tare\tcertain\telements\tof\tthis\tarchitecture\tthat\tneed\tto\tbe\tstandardized\tacross an\tentire\torganization\tif\ta\tset\tof\tmicroservices\tis\tto\tinteract\tsuccessfully\tand efficiently.\n\nThe\tAPI\tendpoints\tof\tmicroservices\tshould\tbe\tstandardized\tacross\tan organization.\tThat\tis\tnot\tto\tsay\tthat\tall\tmicroservices\tshould\thave\tthe\tsame specific\tendpoints,\tbut\tthat\tthe\ttype\tof\tendpoint\tshould\tbe\tthe\tsame.\tTwo\tvery common\ttypes\tof\tAPI\tendpoints\tfor\tmicroservices\tare\tREST\tor\tApache\tThrift, and\tI’ve\tseen\tsome\tmicroservices\tthat\thave\tboth\ttypes\tof\tendpoints\t(though\tthis is\trare,\tmakes\tmonitoring\trather\tcomplicated,\tand\tI\tdon’t\tparticularly recommend\tit).\tChoice\tof\tendpoint\ttype\tis\treflective\tof\tthe\tinternal\tworkings\tof the\tmicroservice\titself,\tand\twill\talso\tdictate\tits\tarchitecture:\tit’s\tdifficult\tto\tbuild an\tasynchronous\tmicroservice\tthat\tcommunicates\tvia\tHTTP\tover\tREST endpoints,\tfor\texample,\twhich\twould\tnecessitate\tadding\ta\tmessaging-based endpoint\tto\tthe\tservices\tas\twell.\n\nMicroservices\tinteract\twith\teach\tother\tvia\tremote\tprocedure\tcalls\t(RPCs),\twhich are\tcalls\tover\tthe\tnetwork\tdesigned\tto\tlook\tand\tbehave\texactly\tlike\tlocal procedure\tcalls.\tThe\tprotocols\tused\twill\tbe\tdependent\ton\tarchitectural\tchoices and\torganizational\tsupport,\tas\twell\tas\tthe\tendpoints\tused.\tA\tmicroservice\twith REST\tendpoints,\tfor\texample,\twill\tlikely\tinteract\twith\tother\tmicroservices\tvia HTTP,\twhile\ta\tmicroservice\twith\tThrift\tendpoints\tmay\tcommunicate\twith\tother microservices\tover\tHTTP\tor\ta\tmore\tcustomized,\tin-house\tsolution.",
      "content_length": 2476,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 31,
      "content": "AVOID\tVERSIONING\tMICROSERVICES\tAND\tENDPOINTS\n\nA\tmicroservice\tis\tnot\ta\tlibrary\t(it\tis\tnot\tloaded\tinto\tmemory\tat\tcompilation-time\tor\tduring runtime)\tbut\tan\tindependent\tsoftware\tapplication.\tDue\tto\tthe\tfast-paced\tnature\tof\tmicroservice development,\tversioning\tmicroservices\tcan\teasily\tbecome\tan\torganizational\tnightmare,\twith developers\ton\tclient\tservices\tpinning\tspecific\t(outdated,\tunmaintained)\tversions\tof\ta microservice\tin\ttheir\town\tcode.\tMicroservices\tshould\tbe\ttreated\tas\tliving,\tchanging\tthings,\tnot static\treleases\tor\tlibraries.\tVersioning\tof\tAPI\tendpoints\tis\tanother\tanti-pattern\tthat\tshould\tbe avoided\tfor\tthe\tsame\treasons.\n\nAny\ttype\tof\tendpoint\tand\tany\tprotocol\tused\tto\tcommunicate\twith\tother microservices\twill\thave\tbenefits\tand\ttrade-offs.\tThe\tarchitectural\tdecisions\there shouldn’t\tbe\tmade\tby\tthe\tindividual\tdeveloper\twho\tis\tbuilding\ta\tmicroservice, but\tshould\tbe\tpart\tof\tthe\tarchitectural\tdesign\tof\tthe\tmicroservice\tecosystem\tas\ta whole\t(we’ll\tget\tto\tthis\tin\tthe\tnext\tsection).\n\nWriting\ta\tmicroservice\tgives\tthe\tdeveloper\ta\tgreat\tdeal\tof\tfreedom:\taside\tfrom any\torganizational\tchoices\tregarding\tAPI\tendpoints\tand\tcommunication protocols,\tdevelopers\tare\tfree\tto\twrite\tthe\tinternal\tworkings\tof\ttheir\tmicroservice however\tthey\twish.\tIt\tcan\tbe\twritten\tin\tany\tlanguage\twhatsoever\t—\tit\tcan\tbe written\tin\tGo,\tin\tJava,\tin\tErlang,\tin\tHaskell\t—\tas\tlong\tas\tthe\tendpoints\tand communication\tprotocols\tare\ttaken\tcare\tof.\tDeveloping\ta\tmicroservice\tis\tnot\tall that\tdifferent\tfrom\tdeveloping\ta\tstandalone\tapplication.\tThere\tare\tsome\tcaveats to\tthis,\tas\twe\twill\tsee\tin\tthe\tfinal\tsection\tof\tthis\tchapter\t(“Organizational Challenges”),\tbecause\tdeveloper\tfreedom\twith\tregard\tto\tlanguage\tchoice\tcomes at\ta\thefty\tcost\tto\tthe\tengineering\torganization.\n\nIn\tthis\tway,\ta\tmicroservice\tcan\tbe\ttreated\tby\tothers\tas\ta\tblack\tbox:\tyou\tput\tsome information\tin\tby\tsending\ta\trequest\tto\tone\tof\tits\tendpoints,\tand\tyou\tget something\tout.\tIf\tyou\tget\twhat\tyou\twant\tand\tneed\tout\tof\tthe\tmicroservice\tin\ta reasonable\ttime\tand\twithout\tany\tcrazy\terrors,\tit\thas\tdone\tits\tjob,\tand\tthere’s\tno need\tto\tunderstand\tanything\tfurther\tthan\tthe\tendpoints\tyou\tneed\tto\thit\tand whether\tor\tnot\tthe\tservice\tis\tworking\tproperly.\n\nOur\tdiscussion\tof\tthe\tspecifics\tof\tmicroservice\tarchitecture\twill\tend\there\t—\tnot because\tthis\tis\tall\tthere\tis\tto\tmicroservice\tarchitecture,\tbut\tbecause\teach\tof\tthe following\tchapters\twithin\tthis\tbook\tis\tdevoted\tto\tbringing\tmicroservices\tto\tthis ideal\tblack-box\tstate.",
      "content_length": 2448,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 32,
      "content": "The\tMicroservice\tEcosystem Microservices\tdo\tnot\tlive\tin\tisolation.\tThe\tenvironment\tin\twhich\tmicroservices are\tbuilt,\tare\trun,\tand\tinteract\tis\twhere\tthey\tlive.\tThe\tcomplexities\tof\tthe\tlarge- scale\tmicroservice\tenvironment\tare\ton\tpar\twith\tthe\tecological\tcomplexities\tof\ta rainforest,\ta\tdesert,\tor\tan\tocean,\tand\tconsidering\tthis\tenvironment\tas\tan ecosystem\t—\ta\tmicroservice\tecosystem\t—\tis\tbeneficial\tin\tadopting\tmicroservice architecture.\n\nIn\twell-designed,\tsustainable\tmicroservice\tecosystems,\tthe\tmicroservices\tare abstracted\taway\tfrom\tall\tinfrastructure.\tThey\tare\tabstracted\taway\tfrom\tthe hardware,\tabstracted\taway\tfrom\tthe\tnetworks,\tabstracted\taway\tfrom\tthe\tbuild and\tdeployment\tpipeline,\tabstracted\taway\tfrom\tservice\tdiscovery\tand\tload balancing.\tThis\tis\tall\tpart\tof\tthe\tinfrastructure\tof\tthe\tmicroservice\tecosystem, and\tbuilding,\tstandardizing,\tand\tmaintaining\tthis\tinfrastructure\tin\ta\tstable, scalable,\tfault-tolerant,\tand\treliable\tway\tis\tessential\tfor\tsuccessful\tmicroservice operation.\n\nThe\tinfrastructure\thas\tto\tsustain\tthe\tmicroservice\tecosystem.\tThe\tgoal\tof\tall infrastructure\tengineers\tand\tarchitects\tmust\tbe\tto\tremove\tthe\tlow-level operational\tconcerns\tfrom\tmicroservice\tdevelopment\tand\tbuild\ta\tstable infrastructure\tthat\tcan\tscale,\tone\tthat\tdevelopers\tcan\teasily\tbuild\tand\trun microservices\ton\ttop\tof.\tDeveloping\ta\tmicroservice\twithin\ta\tstable\tmicroservice ecosystem\tshould\tbe\tjust\tlike\tdeveloping\ta\tsmall\tstandalone\tapplication.\tThis requires\tvery\tsophisticated,\ttop-notch\tinfrastructure.\n\nThe\tmicroservice\tecosystem\tcan\tbe\tsplit\tinto\tfour\tlayers\t(Figure\t1-7),\tthough\tthe boundaries\tof\teach\tare\tnot\talways\tclearly\tdefined:\tsome\telements\tof\tthe infrastructure\twill\ttouch\tevery\tpart\tof\tthe\tstack.\tThe\tlower\tthree\tlayers\tare\tthe infrastructure\tlayers:\tat\tthe\tbottom\tof\tthe\tstack\twe\tfind\tthe\thardware\tlayer,\tand on\ttop\tof\tthat,\tthe\tcommunication\tlayer\t(which\tbleeds\tup\tinto\tthe\tfourth\tlayer), followed\tby\tthe\tapplication\tplatform.\tThe\tfourth\t(top)\tlayer\tis\twhere\tall individual\tmicroservices\tlive.",
      "content_length": 2006,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 33,
      "content": "Figure\t1-7.\tFour-layer\tmodel\tof\tthe\tmicroservice\tecosystem",
      "content_length": 58,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 34,
      "content": "Layer\t1:\tHardware At\tthe\tvery\tbottom\tof\tthe\tmicroservice\tecosystem,\twe\tfind\tthe\thardware\tlayer. These\tare\tthe\tactual\tmachines,\tthe\treal,\tphysical\tcomputers\tthat\tall\tinternal\ttools and\tall\tmicroservices\trun\ton.\tThese\tservers\tare\tlocated\ton\tracks\twithin datacenters,\tbeing\tcooled\tby\texpensive\tHVAC\tsystems\tand\tpowered\tby electricity.\tMany\tdifferent\ttypes\tof\tservers\tcan\tlive\there:\tsome\tare\toptimized\tfor databases;\tothers\tfor\tprocessing\tCPU-intensive\ttasks.\tThese\tservers\tcan\teither\tbe owned\tby\tthe\tcompany\titself,\tor\t“rented”\tfrom\tso-called\tcloud\tproviders\tlike Amazon\tWeb\tServices’\tElastic\tCompute\tCloud\t(AWS\tEC2),\tGoogle\tCloud Platform\t(GCP),\tor\tMicrosoft\tAzure.\n\nThe\tchoice\tof\tspecific\thardware\tis\tdetermined\tby\tthe\towners\tof\tthe\tservers.\tIf your\tcompany\tis\trunning\tyour\town\tdatacenters,\tthe\tchoice\tof\thardware\tis\tyour own,\tand\tyou\tcan\toptimize\tthe\tserver\tchoice\tfor\tyour\tspecific\tneeds.\tIf\tyou\tare running\tservers\tin\tthe\tcloud\t(which\tis\tthe\tmore\tcommon\tscenario),\tyour\tchoice is\tlimited\tto\twhatever\thardware\tis\toffered\tby\tthe\tcloud\tprovider.\tChoosing between\tbare\tmetal\tand\ta\tcloud\tprovider\t(or\tproviders)\tis\tnot\tan\teasy\tdecision\tto make,\tand\tcost,\tavailability,\treliability,\tand\toperational\texpenses\tare\tthings\tthat need\tto\tbe\tconsidered.\n\nManaging\tthese\tservers\tis\tpart\tof\tthe\thardware\tlayer.\tEach\tserver\tneeds\tto\thave an\toperating\tsystem\tinstalled,\tand\tthe\toperating\tsystem\tshould\tbe\tstandardized across\tall\tservers.\tThere\tis\tno\tcorrect,\tright\tanswer\tas\tto\twhich\toperating\tsystem a\tmicroservice\tecosystem\tshould\tuse:\tthe\tanswer\tto\tthis\tquestion\tdepends entirely\ton\tthe\tapplications\tyou\twill\tbe\tbuilding,\tthe\tlanguages\tthey\twill\tbe written\tin,\tand\tthe\tlibraries\tand\ttools\tthat\tyour\tmicroservices\trequire.\tThe majority\tof\tmicroservice\tecosystems\trun\tsome\tvariant\tof\tLinux,\tcommonly CentOS,\tDebian,\tor\tUbuntu,\tbut\ta\t.NET\tcompany\twill,\tobviously,\tchoose differently.\tAdditional\tabstractions\tcan\tbe\tbuilt\tand\tlayered\tatop\tthe\thardware: resource\tisolation\tand\tresource\tabstraction\t(as\toffered\tby\ttechnologies\tlike Docker\tand\tApache\tMesos)\talso\tbelong\tin\tthis\tlayer,\tas\tdo\tdatabases\t(dedicated or\tshared).\n\nInstalling\tan\toperating\tsystem\tand\tprovisioning\tthe\thardware\tis\tthe\tfirst\tlayer\ton top\tof\tthe\tservers\tthemselves.\tEach\thost\tmust\tbe\tprovisioned\tand\tconfigured, and\tafter\tthe\toperating\tsystem\tis\tinstalled,\ta\tconfiguration\tmanagement\ttool (such\tas\tAnsible,\tChef,\tor\tPuppet)\tshould\tbe\tused\tto\tinstall\tall\tof\tthe",
      "content_length": 2414,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 35,
      "content": "applications\tand\tset\tall\tthe\tnecessary\tconfigurations.\n\nThe\thosts\tneed\tproper\thost-level\tmonitoring\t(using\tsomething\tlike\tNagios)\tand host-level\tlogging\tso\tthat\tif\tanything\thappens\t(disk\tfailure,\tnetwork\tfailure,\tor\tif CPU\tutilization\tgoes\tthrough\tthe\troof),\tproblems\twith\tthe\thosts\tcan\tbe\teasily diagnosed,\tmitigated,\tand\tresolved.\tHost-level\tmonitoring\tis\tcovered\tin\tgreater detail\tin\tChapter\t6,\tMonitoring.\n\nSUMMARY\tOF\tLAYER\t1:\tTHE\tHARDWARE\tLAYER\n\nThe\thardware\tlayer\t(layer\t1)\tof\tthe\tmicroservice\tecosystem\tcontains:\n\nThe\tphysical\tservers\t(owned\tby\tthe\tcompany\tor\trented\tfrom\tcloud\tproviders)\n\nDatabases\t(dedicated\tand/or\tshared)\n\nThe\toperating\tsystem\n\nResource\tisolation\tand\tabstraction\n\nConfiguration\tmanagement\n\nHost-level\tmonitoring\n\nHost-level\tlogging",
      "content_length": 759,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 36,
      "content": "Layer\t2:\tCommunication The\tsecond\tlayer\tof\tthe\tmicroservice\tecosystem\tis\tthe\tcommunication\tlayer.\tThe communication\tlayer\tbleeds\tinto\tall\tof\tthe\tother\tlayers\tof\tthe\tecosystem (including\tthe\tapplication\tplatform\tand\tmicroservices\tlayers),\tbecause\tit\tis where\tall\tcommunication\tbetween\tservices\tis\thandled;\tthe\tboundaries\tbetween the\tcommunication\tlayer\tand\teach\tother\tlayer\tof\tthe\tmicroservice\tecosystem\tare poorly\tdefined.\tWhile\tthe\tboundaries\tmay\tnot\tbe\tclear,\tthe\telements\tare\tclear: the\tsecond\tlayer\tof\ta\tmicroservice\tecosystem\talways\tcontains\tthe\tnetwork,\tDNS, RPCs\tand\tAPI\tendpoints,\tservice\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing.\n\nDiscussing\tthe\tnetwork\tand\tDNS\telements\tof\tthe\tcommunication\tlayer\tis beyond\tthe\tscope\tof\tthis\tbook,\tso\twe\twill\tbe\tfocusing\ton\tRPCs,\tAPI\tendpoints, service\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\tin\tthis\tsection.\n\nRPCs,\tendpoints,\tand\tmessaging\tMicroservices\tinteract\twith\tone\tanother\tover the\tnetwork\tusing\tremote\tprocedure\tcalls\t(RPCs)\tor\tmessaging\tto\tthe\tAPI endpoints\tof\tother\tmicroservices\t(or,\tas\twe\twill\tsee\tin\tthe\tcase\tof\tmessaging,\tto a\tmessage\tbroker\twhich\twill\troute\tthe\tmessage\tappropriately).\tThe\tbasic\tidea\tis this:\tusing\ta\tspecified\tprotocol,\ta\tmicroservice\twill\tsend\tsome\tdata\tin\ta standardized\tformat\tover\tthe\tnetwork\tto\tanother\tservice\t(perhaps\tto\tanother microservice’s\tAPI\tendpoint)\tor\tto\ta\tmessage\tbroker\twhich\twill\tmake\tsure\tthat the\tdata\tis\tsend\tto\tanother\tmicroservice’s\tAPI\tendpoint.\n\nThere\tare\tseveral\tmicroservice\tcommunication\tparadigms.\tThe\tfirst\tis\tthe\tmost common:\tHTTP+REST/THRIFT.\tIn\tHTTP+REST/THRIFT,\tservices communicate\twith\teach\tother\tover\tthe\tnetwork\tusing\tthe\tHypertext\tTransfer Protocol\t(HTTP),\tand\tsending\trequests\tand\treceiving\tresponses\tto\tor\tfrom\teither specific\trepresentational\tstate\ttransfer\t(REST)\tendpoints\t(using\tvarious methods,\tlike\tGET,\tPOST,\tetc.)\tor\tspecific\tApache\tThrift\tendpoints\t(or\tboth). The\tdata\tis\tusually\tformatted\tand\tsent\tas\tJSON\t(or\tprotocol\tbuffers)\tover\tHTTP.\n\nHTTP+REST\tis\tthe\tmost\tconvenient\tform\tof\tmicroservice\tcommunication. There\taren’t\tany\tsurprises,\tit’s\teasy\tto\tset\tup,\tand\tis\tthe\tmost\tstable\tand\treliable —\tmostly\tbecause\tit’s\tdifficult\tto\timplement\tincorrectly.\tThe\tdownside\tof adopting\tthis\tparadigm\tis\tthat\tit\tis,\tby\tnecessity,\tsynchronous\t(blocking).\n\nThe\tsecond\tcommunication\tparadigm\tis\tmessaging.\tMessaging\tis\tasynchronous (nonblocking),\tbut\tit’s\ta\tbit\tmore\tcomplicated.\tMessaging\tworks\tthe\tfollowing",
      "content_length": 2441,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 37,
      "content": "way:\ta\tmicroservice\twill\tsend\tdata\t(a\tmessage)\tover\tthe\tnetwork\t(HTTP\tor other)\tto\ta\tmessage\tbroker,\twhich\twill\troute\tthe\tcommunication\tto\tother microservices.\n\nMessaging\tcomes\tin\tseveral\tflavors,\tthe\ttwo\tmost\tpopular\tbeing\tpublish– subscribe\t(pubsub)\tmessaging\tand\trequest–response\tmessaging.\tIn\tpubsub models,\tclients\twill\tsubscribe\tto\ta\ttopic\tand\twill\treceive\ta\tmessage\twhenever\ta publisher\tpublishes\ta\tmessage\tto\tthat\ttopic.\tRequest–response\tmodels\tare\tmore straightforward,\twhere\ta\tclient\twill\tsend\ta\trequest\tto\ta\tservice\t(or\tmessage broker),\twhich\twill\trespond\twith\tthe\tinformation\trequested.\tThere\tare\tsome messaging\ttechnologies\tthat\tare\ta\tunique\tblend\tof\tboth\tmodels,\tlike\tApache Kafka.\tCelery\tand\tRedis\t(or\tCelery\twith\tRabbitMQ)\tcan\tbe\tused\tfor\tmessaging (and\ttask\tprocessing)\tfor\tmicroservices\twritten\tin\tPython:\tCelery\tprocesses\tthe tasks\tand/or\tmessages\tusing\tRedis\tor\tRabbitMQ\tas\tthe\tbroker.\n\nMessaging\tcomes\twith\tseveral\tsignificant\tdownsides\tthat\tmust\tbe\tmitigated. Messaging\tcan\tbe\tjust\tas\tscalable\t(if\tnot\tmore\tscalable)\tthan\tHTTP+REST solutions,\tif\tit\tis\tarchitected\tfor\tscalability\tfrom\tthe\tget-go.\tInherently, messaging\tis\tnot\tas\teasy\tto\tchange\tand\tupdate,\tand\tits\tcentralized\tnature\t(while it\tmay\tseem\tlike\ta\tbenefit)\tcan\tlead\tto\tits\tqueues\tand\tbrokers\tbecoming\tpoints\tof failure\tfor\tthe\tentire\tecosystem.\tThe\tasynchronous\tnature\tof\tmessaging\tcan\tlead to\trace\tconditions\tand\tendless\tloops\tif\tnot\tprepared\tfor.\tIf\ta\tmessaging\tsystem\tis implemented\twith\tprotections\tagainst\tthese\tproblems,\tit\tcan\tbecome\tas\tstable and\tefficient\tas\ta\tsynchronous\tsolution.\n\nService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\tIn\tmonolithic architecture,\ttraffic\tonly\tneeds\tto\tbe\tsent\tto\tone\tapplication\tand\tdistributed appropriately\tto\tthe\tservers\thosting\tthe\tapplication.\tIn\tmicroservice\tarchitecture, traffic\tneeds\tto\tbe\trouted\tappropriately\tto\ta\tlarge\tnumber\tof\tdifferent applications,\tand\tthen\tdistributed\tappropriately\tto\tthe\tservers\thosting\teach specific\tmicroservice.\tIn\torder\tfor\tthis\tto\tbe\tdone\tefficiently\tand\teffectively, microservice\tarchitecture\trequires\tthree\ttechnologies\tbe\timplemented\tin\tthe communication\tlayer:\tservice\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing.\n\nIn\tgeneral,\twhen\ta\tmicroservice\tA\tneeds\tto\tmake\ta\trequest\tto\tanother microservice\tB,\tmicroservice\tA\tneeds\tto\tknow\tthe\tIP\taddress\tand\tport\tof\ta specific\tinstance\twhere\tmicroservice\tB\tis\thosted.\tMore\tspecifically,\tthe communication\tlayer\tbetween\tthe\tmicroservices\tneeds\tto\tknow\tthe\tIP\taddresses and\tports\tof\tthese\tmicroservices\tso\tthat\tthe\trequests\tbetween\tthem\tcan\tbe\trouted appropriately.\tThis\tis\taccomplished\tthrough\tservice\tdiscovery\t(such\tas\tetcd, Consul,\tHyperbahn,\tor\tZooKeeper),\twhich\tensures\tthat\trequests\tare\trouted\tto",
      "content_length": 2720,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 38,
      "content": "exactly\twhere\tthey\tare\tsupposed\tto\tbe\tsent\tand\tthat\t(very\timportantly)\tthey\tare only\trouted\tto\thealthy\tinstances.\tService\tdiscovery\trequires\ta\tservice\tregistry, which\tis\ta\tdatabase\tthat\ttracks\tall\tports\tand\tIPs\tof\tall\tmicroservices\tacross\tthe ecosystem.",
      "content_length": 253,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 39,
      "content": "DYNAMIC\tSCALING\tAND\tASSIGNED\tPORTS\n\nIn\tmicroservice\tarchitecture,\tports\tand\tIPs\tcan\t(and\tdo)\tchange\tall\tof\tthe\ttime,\tespecially\tas microservices\tare\tscaled\tand\tre-deployed\t(especially\twith\ta\thardware\tabstraction\tlayer\tlike Apache\tMesos).\tOne\tway\tto\tapproach\tthe\tdiscovery\tand\trouting\tis\tto\tassign\tstatic\tports\t(both frontend\tand\tbackend)\tto\teach\tmicroservice.\n\nUnless\tyou\thave\teach\tmicroservice\thosted\ton\tonly\tone\tinstance\t(which\tis\thighly unlikely),\tyou’ll\tneed\tload\tbalancing\tin\tplace\tin\tvarious\tparts\tof\tthe communication\tlayer\tacross\tthe\tmicroservice\tecosystem.\tLoad\tbalancing\tworks, at\ta\tvery\thigh\tlevel,\tlike\tthis:\tif\tyou\thave\t10\tdifferent\tinstances\thosting\ta microservice,\tload-balancing\tsoftware\t(and/or\thardware)\twill\tensure\tthat\tthe traffic\tis\tdistributed\t(balanced)\tacross\tall\tof\tthe\tinstances.\tLoad\tbalancing\twill be\tneeded\tat\tevery\tlocation\tin\tthe\tecosystem\tin\twhich\ta\trequest\tis\tbeing\tsent\tto an\tapplication,\twhich\tmeans\tthat\tany\tlarge\tmicroservice\tecosystem\twill\tcontain many,\tmany\tlayers\tof\tload\tbalancing.\tCommonly\tused\tload\tbalancers\tfor\tthis purpose\tare\tAmazon\tWeb\tServices\tElastic\tLoad\tBalancer,\tNetflix\tEureka, HAProxy,\tand\tNginx.\n\nSUMMARY\tOF\tLAYER\t2:\tTHE\tCOMMUNICATION\tLAYER\n\nThe\tcommunication\tlayer\t(layer\t2)\tof\tthe\tmicroservice\tecosystem\tcontains:\n\nNetwork\n\nDNS\n\nRemote\tprocedure\tcalls\t(RPCs)\n\nEndpoints\n\nMessaging\n\nService\tdiscovery\n\nService\tregistry\n\nLoad\tbalancing",
      "content_length": 1391,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 40,
      "content": "Layer\t3:\tThe\tApplication\tPlatform The\tapplication\tplatform\tis\tthe\tthird\tlayer\tof\tthe\tmicroservice\tecosystem\tand contains\tall\tof\tthe\tinternal\ttooling\tand\tservices\tthat\tare\tindependent\tof\tthe microservices.\tThis\tlayer\tis\tfilled\twith\tcentralized,\tecosystem-wide\ttools\tand services\tthat\tmust\tbe\tbuilt\tin\tsuch\ta\tway\tthat\tmicroservice\tdevelopment\tteams do\tnot\thave\tto\tdesign,\tbuild,\tor\tmaintain\tanything\texcept\ttheir\town microservices.\n\nA\tgood\tapplication\tplatform\tis\tone\twith\tself-service\tinternal\ttools\tfor developers,\ta\tstandardized\tdevelopment\tprocess,\ta\tcentralized\tand\tautomated build\tand\trelease\tsystem,\tautomated\ttesting,\ta\tstandardized\tand\tcentralized deployment\tsolution,\tand\tcentralized\tlogging\tand\tmicroservice-level\tmonitoring. Many\tof\tthe\tdetails\tof\tthese\telements\tare\tcovered\tin\tlater\tchapters,\tbut\twe’ll cover\tseveral\tof\tthem\tbriefly\there\tto\tprovide\tsome\tintroduction\tto\tthe\tbasic concepts.\n\nSelf-service\tinternal\tdevelopment\ttools\tQuite\ta\tfew\tthings\tcan\tbe\tcategorized as\tself-service\tinternal\tdevelopment\ttools,\tand\twhich\tparticular\tthings\tfall\tinto this\tcategory\tdepends\tnot\tonly\ton\tthe\tneeds\tof\tthe\tdevelopers,\tbut\tthe\tlevel\tof abstraction\tand\tsophistication\tof\tboth\tthe\tinfrastructure\tand\tthe\tecosystem\tas\ta whole.\tThe\tkey\tto\tdetermining\twhich\ttools\tneed\tto\tbe\tbuilt\tis\tto\tfirst\tdivide\tthe realms\tof\tresponsibility\tand\tthen\tdetermine\twhich\ttasks\tdevelopers\tneed\tto\tbe able\tto\taccomplish\tin\torder\tto\tdesign,\tbuild,\tand\tmaintain\ttheir\tservices.\n\nWithin\ta\tcompany\tthat\thas\tadopted\tmicroservice\tarchitecture,\tresponsibilities need\tto\tbe\tcarefully\tdelegated\tto\tdifferent\tengineering\tteams.\tAn\teasy\tway\tto\tdo this\tis\tto\tcreate\tan\tengineering\tsuborganization\tfor\teach\tlayer\tof\tthe microservice\tecosystem,\talong\twith\tother\tteams\tthat\tbridge\teach\tlayer.\tEach\tof these\tengineering\torganizations,\tfunctioning\tsemi-independently,\twill\tbe responsible\tfor\teverything\twithin\ttheir\tlayer:\tTechOps\tteams\twill\tbe\tresponsible for\tlayer\t1,\tinfrastructure\tteams\twill\tbe\tresponsible\tfor\tlayer\t2,\tapplication platform\tteams\twill\tbe\tresponsible\tfor\tlayer\t3,\tand\tmicroservice\tteams\twill\tbe responsible\tfor\tlayer\t4\t(this\tis,\tof\tcourse,\ta\tvery\tsimplified\tview,\tbut\tyou\tget\tthe general\tidea).\n\nWithin\tthis\torganizational\tscheme,\tany\ttime\tthat\tan\tengineer\tworking\ton\tone\tof the\thigher\tlayers\tneeds\tto\tset\tup,\tconfigure,\tor\tutilize\tsomething\ton\tone\tof\tthe lower\tlayers,\tthere\tshould\tbe\ta\tself-service\ttool\tin\tplace\tthat\tthe\tengineer\tcan use.\tFor\texample,\tthe\tteam\tworking\ton\tmessaging\tfor\tthe\tecosystem\tshould",
      "content_length": 2494,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 41,
      "content": "use.\tFor\texample,\tthe\tteam\tworking\ton\tmessaging\tfor\tthe\tecosystem\tshould build\ta\tself-service\ttool\tso\tthat\tif\ta\tdeveloper\ton\ta\tmicroservice\tteam\tneeds\tto configure\tmessaging\tfor\ther\tservice,\tshe\tcan\teasily\tconfigure\tthe\tmessaging without\thaving\tto\tunderstand\tall\tof\tthe\tintricacies\tof\tthe\tmessaging\tsystem.\n\nThere\tare\tmany\treasons\tto\thave\tthese\tcentralized,\tself-service\ttools\tin\tplace\tfor each\tlayer.\tIn\ta\tdiverse\tmicroservice\tecosystem,\tthe\taverage\tengineer\ton\tany given\tteam\twill\thave\tno\t(or\tvery\tlittle)\tknowledge\tof\thow\tthe\tservices\tand systems\tin\tother\tteams\twork,\tand\tthere\tis\tsimply\tno\tway\tthey\tcould\tbecome experts\tin\teach\tservice\tand\tsystem\twhile\tworking\ton\ttheir\town\t—\tit\tsimply\tcan’t be\tdone.\tEach\tindividual\tdeveloper\twill\tknow\talmost\tnothing\texcept\ther\town service,\tbut\ttogether,\tall\tof\tthe\tdevelopers\tworking\twithin\tthe\tecosystem\twill collectively\tknow\teverything.\tRather\tthan\ttrying\tto\teducate\teach\tdeveloper about\tthe\tintricacies\tof\teach\ttool\tand\tservice\twithin\tthe\tecosystem,\tbuild sustainable,\teasy-to-use\tuser\tinterfaces\tfor\tevery\tpart\tof\tthe\tecosystem,\tand\tthen educate\tand\ttrain\tthem\ton\thow\tto\tuse\tthose.\tTurn\teverything\tinto\ta\tblack\tbox, and\tdocument\texactly\thow\tit\tworks\tand\thow\tto\tuse\tit.\n\nThe\tsecond\treason\tto\tbuild\tthese\ttools\tand\tbuild\tthem\twell\tis\tthat,\tin\tall\thonesty, you\tdo\tnot\twant\ta\tdeveloper\tfrom\tanother\tteam\tto\tbe\table\tto\tmake\tsignificant changes\tto\tyour\tservice\tor\tsystem,\tespecially\tnot\tone\tthat\tcould\tcause\tan\toutage. This\tis\tespecially\ttrue\tand\tcompelling\tfor\tservices\tand\tsystems\tbelonging\tto\tthe lower\tlayers\t(layer\t1,\tlayer\t2,\tand\tlayer\t3).\tAllowing\tnonexperts\tto\tmake changes\tto\tthings\twithin\tthese\tlayers,\tor\trequiring\t(or\tworse,\texpecting)\tthem\tto become\texperts\tin\tthese\tareas\tis\ta\trecipe\tfor\tdisaster.\tAn\texample\tof\twhere\tthis can\tgo\tterribly\twrong\tis\tin\tconfiguration\tmanagement:\tallowing\tdevelopers\ton microservice\tteams\tto\tmake\tchanges\tto\tsystem\tconfigurations\twithout\thaving\tthe expertise\tto\tdo\tso\tcan\tand\twill\tlead\tto\tlarge-scale\tproduction\toutages\tif\ta\tchange is\tmade\tthat\taffects\tsomething\tother\tthan\ttheir\tservice\talone.\n\nThe\tdevelopment\tcycle\tWhen\tdevelopers\tare\tmaking\tchanges\tto\texisting microservices,\tor\tcreating\tnew\tones,\tdevelopment\tcan\tbe\tmade\tmore\teffective by\tstreamlining\tand\tstandardizing\tthe\tdevelopment\tprocess\tand\tautomating away\tas\tmuch\tas\tpossible.\tThe\tdetails\tof\tstandardizing\tthe\tprocess\tof\tstable\tand reliable\tdevelopment\titself\tare\tcovered\tin\tChapter\t4,\tScalability\tand Performance,\tbut\tthere\tare\tseveral\tthings\tthat\tneed\tto\tbe\tin\tplace\twithin\tthe\tthird layer\tof\ta\tmicroservice\tecosystem\tin\torder\tfor\tstable\tand\treliable\tdevelopment\tto be\tpossible.\n\nThe\tfirst\trequirement\tis\ta\tcentralized\tversion\tcontrol\tsystem\twhere\tall\tcode\tcan be\tstored,\ttracked,\tversioned,\tand\tsearched.\tThis\tis\tusually\taccomplished",
      "content_length": 2782,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 42,
      "content": "through\tsomething\tlike\tGitHub,\tor\ta\tself-hosted\tgit\tor\tsvn\trepository\tlinked\tto some\tkind\tof\tcollaboration\ttool\tlike\tPhabrictor,\tand\tthese\ttools\tmake\tit\teasy\tto maintain\tand\treview\tcode.\n\nThe\tsecond\trequirement\tis\ta\tstable,\tefficient\tdevelopment\tenvironment. Development\tenvironments\tare\tnotoriously\tdifficult\tto\timplement\tin microservice\tecosystems,\tdue\tto\tthe\tcomplicated\tdependencies\teach microservice\twill\thave\ton\tother\tservices,\tbut\tthey\tare\tabsolutely\tessential.\tSome engineering\torganizations\tprefer\twhen\tall\tdevelopment\tis\tdone\tlocally\t(on\ta developer’s\tlaptop),\tbut\tthis\tcan\tlead\tto\tbad\tdeploys\tbecause\tit\tdoesn’t\tgive\tthe developer\tan\taccurate\tpicture\tof\thow\ther\tcode\tchanges\twill\tperform\tin\tthe production\tworld.\tThe\tmost\tstable\tand\treliable\tway\tto\tdesign\ta\tdevelopment environment\tis\tto\tcreate\ta\tmirror\tof\tthe\tproduction\tenvironment\t(one\tthat\tis\tnot staging,\tnor\tcanary,\tnor\tproduction)\tcontaining\tall\tof\tthe\tintricate\tdependency chains.\n\nTest,\tbuild,\tpackage,\tand\trelease\tThe\ttest,\tbuild,\tpackage,\tand\trelease\tsteps\tin between\tdevelopment\tand\tdeployment\tshould\tbe\tstandardized\tand\tcentralized\tas much\tas\tpossible.\tAfter\tthe\tdevelopment\tcycle,\twhen\tany\tcode\tchange\thas\tbeen committed,\tall\tthe\tnecessary\ttests\tshould\tbe\trun,\tand\tnew\treleases\tshould\tbe automatically\tbuilt\tand\tpackaged.\tContinuous\tintegration\ttooling\texists\tfor precisely\tthis\tpurpose,\tand\texisting\tsolutions\t(like\tJenkins)\tare\tvery\tadvanced and\teasy\tto\tconfigure.\tThese\ttools\tmake\tit\teasy\tto\tautomate\tthe\tentire\tprocess, leaving\tvery\tlittle\troom\tfor\thuman\terror.\n\nDeployment\tpipeline\tThe\tdeployment\tpipeline\tis\tthe\tprocess\tby\twhich\tnew code\tmakes\tits\tway\tto\tproduction\tservers\tafter\tthe\tdevelopment\tcycle\tand following\tthe\ttest,\tbuild,\tpackage,\tand\trelease\tsteps.\tDeployment\tcan\tquickly become\tvery\tcomplicated\tin\ta\tmicroservice\tecosystem,\twhere\thundreds\tof deployments\tper\tday\tare\tnot\tout\tof\tthe\tordinary.\tBuilding\ttooling\taround deployment,\tand\tstandardizing\tdeployment\tpractices\tfor\tall\tdevelopment\tteams is\toften\tnecessary.\tThe\tprinciples\tof\tbuilding\tstable\tand\treliable\t(production- ready)\tdeployment\tpipelines\tare\tcovered\tin\tdetail\tin\tChapter\t3,\tStability\tand Reliability.\n\nLogging\tand\tmonitoring\tAll\tmicroservices\tshould\thave\tmicroservice-level logging\tof\tall\trequests\tmade\tto\tthe\tmicroservice\t(including\tall\trelevant\tand important\tinformation)\tand\tits\tresponses.\tDue\tto\tthe\tfast-paced\tnature\tof microservice\tdevelopment,\tit’s\toften\timpossible\tto\treproduce\tbugs\tin\tthe\tcode because\tit’s\timpossible\tto\treconstruct\tthe\tstate\tof\tthe\tsystem\tat\tthe\ttime\tof",
      "content_length": 2536,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 43,
      "content": "failure.\tGood\tmicroservice-level\tlogging\tgives\tdevelopers\tthe\tinformation\tthey need\tto\tfully\tunderstand\tthe\tstate\tof\ttheir\tservice\tat\ta\tcertain\ttime\tin\tthe\tpast\tor present.\tMicroservice-level\tmonitoring\tof\tall\tkey\tmetrics\tof\tthe\tmicroservices\tis essential\tfor\tsimilar\treasons:\taccurate,\treal-time\tmonitoring\tallows\tdevelopers\tto always\tknow\tthe\thealth\tand\tstatus\tof\ttheir\tservice.\tMicroservice-level\tlogging and\tmonitoring\tare\tcovered\tin\tgreater\tdetail\tin\tChapter\t6,\tMonitoring.\n\nSUMMARY\tOF\tLAYER\t3:\tTHE\tAPPLICATION\tPLATFORM\tLAYER\n\nThe\tapplication\tplatform\tlayer\t(layer\t3)\tof\tthe\tmicroservice\tecosystem\tcontains:\n\nSelf-service\tinternal\tdevelopment\ttools\n\nDevelopment\tenvironment\n\nTest,\tpackage,\tbuild,\tand\trelease\ttools\n\nDeployment\tpipeline\n\nMicroservice-level\tlogging\n\nMicroservice-level\tmonitoring",
      "content_length": 799,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 44,
      "content": "Layer\t4:\tMicroservices At\tthe\tvery\ttop\tof\tthe\tmicroservice\tecosystem\tlies\tthe\tmicroservice\tlayer\t(layer 4).\tThis\tlayer\tis\twhere\tthe\tmicroservices\t—\tand\tanything\tspecific\tto\tthem\t— live,\tcompletely\tabstracted\taway\tfrom\tthe\tlower\tinfrastructure\tlayers.\tHere\tthey are\tabstracted\tfrom\tthe\thardware,\tfrom\tdeployment,\tfrom\tservice\tdiscovery, from\tload\tbalancing,\tand\tfrom\tcommunication.\tThe\tonly\tthings\tthat\tare\tnot abstracted\taway\tfrom\tthe\tmicroservice\tlayer\tare\tthe\tconfigurations\tspecific\tto each\tservice\tfor\tusing\tthe\ttools.\n\nIt\tis\tcommon\tpractice\tin\tsoftware\tengineering\tto\tcentralize\tall\tapplication configurations\tso\tthat\tthe\tconfigurations\tfor\ta\tspecific\ttool\tor\tset\tof\ttools\t(like configuration\tmanagement,\tresource\tisolation,\tor\tdeployment\ttools)\tare\tall stored\twith\tthe\ttool\titself.\tFor\texample,\tcustom\tdeployment\tconfigurations\tfor applications\tare\toften\tstored\tnot\twith\tthe\tapplication\tcode\tbut\twith\tthe\tcode\tfor the\tdeployment\ttool.\tThis\tpractice\tworks\twell\tfor\tmonolithic\tarchitecture,\tand even\tfor\tsmall\tmicroservice\tecosystems,\tbut\tin\tvery\tlarge\tmicroservice ecosystems\tcontaining\thundreds\tof\tmicroservices\tand\tdozens\tof\tinternal\ttools (each\twith\ttheir\town\tcustom\tconfigurations),\tthis\tpractice\tbecomes\trather\tmessy: developers\ton\tmicroservice\tteams\tare\trequired\tto\tmake\tchanges\tto\tcodebases\tof tools\tin\tthe\tlayers\tbelow,\tand\toftentimes\twill\tforget\twhere\tcertain\tconfigurations live\t(or\tthat\tthey\texist\tat\tall).\tTo\tmitigate\tthis\tproblem,\tall\tmicroservice-specific configurations\tcan\tlive\tin\tthe\trepository\tof\tthe\tmicroservice\tand\tshould\tbe accessed\tthere\tby\tthe\ttools\tand\tsystems\tof\tthe\tlayers\tbelow.\n\nSUMMARY\tOF\tLAYER\t4:\tTHE\tMICROSERVICE\tLAYER\n\nThe\tmicroservice\tlayer\t(layer\t4)\tof\tthe\tmicroservice\tecosystem\tcontains:\n\nThe\tmicroservices\n\nAll\tmicroservice-specific\tconfigurations",
      "content_length": 1790,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 45,
      "content": "Organizational\tChallenges The\tadoption\tof\tmicroservice\tarchitecture\tresolves\tthe\tmost\tpressing\tchallenges presented\tby\tmonolithic\tapplication\tarchitecture.\tMicroservices\taren’t\tplagued by\tthe\tsame\tscalability\tchallenges,\tthe\tlack\tof\tefficiency,\tor\tthe\tdifficulties\tin adopting\tnew\ttechnologies:\tthey\tare\toptimized\tfor\tscalability,\toptimized\tfor efficiency,\toptimized\tfor\tdeveloper\tvelocity.\tIn\tan\tindustry\twhere\tnew technologies\trapidly\tgain\tmarket\ttraction,\tthe\tpure\torganizational\tcost\tof maintaining\tand\tattempting\tto\timprove\ta\tcumbersome\tmonolithic\tapplication\tis simply\tnot\tpractical.\tWith\tthese\tthings\tin\tmind,\tit’s\thard\tto\timagine\twhy\tanyone would\tbe\treluctant\tto\tsplit\ta\tmonolith\tinto\tmicroservices,\twhy\tanyone\twould\tbe wary\tabout\tbuilding\ta\tmicroservice\tecosystem\tfrom\tthe\tground\tup.\n\nMicroservices\tseem\tlike\ta\tmagical\t(and\tsomewhat\tobvious)\tsolution,\tbut\twe know\tbetter\tthan\tthat.\tIn\tThe\tMythical\tMan-Month,\tFrederick\tBrooks\texplained why\tthere\tare\tno\tsilver\tbullets\tin\tsoftware\tengineering,\tan\tidea\the\tsummarized as\tfollows:\t“There\tis\tno\tsingle\tdevelopment,\tin\teither\ttechnology\tor management\ttechnique,\twhich\tby\titself\tpromises\teven\tone\torder-of-magnitude improvement\twithin\ta\tdecade\tin\tproductivity,\tin\treliability,\tin\tsimplicity.”\n\nWhen\twe\tfind\tourselves\tpresented\twith\ttechnology\tthat\tpromises\tto\toffer\tus drastic\timprovements,\twe\tneed\tto\tlook\tfor\tthe\ttrade-offs.\tMicroservices\tpromise greater\tscalability\tand\tgreater\tefficiency,\tbut\twe\tknow\tthat\tthose\twill\tcome\tat\ta cost\tto\tsome\tpart\tof\tthe\toverall\tsystem.\n\nThere\tare\tfour\tespecially\tsignificant\ttrade-offs\tthat\tcome\twith\tmicroservice architecture.\tThe\tfirst\tis\tthe\tchange\tin\torganizational\tstructure\tthat\ttends\ttoward isolation\tand\tpoor\tcross-team\tcommunication\t—\ta\tconsequence\tof\tthe\tinverse\tof Conway’s\tLaw.\tThe\tsecond\tis\tthe\tdramatic\tincrease\tin\ttechnical\tsprawl,\tsprawl that\tis\textraordinarily\tcostly\tnot\tonly\tto\tthe\tentire\torganization\tbut\twhich\talso presents\tsignificant\tcosts\tto\teach\tengineer.\tThe\tthird\ttrade-off\tis\tthe\tincreased ability\tof\tthe\tsystem\tto\tfail.\tThe\tfourth\tis\tthe\tcompetition\tfor\tengineering\tand infrastructure\tresources.",
      "content_length": 2112,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 46,
      "content": "The\tInverse\tConway’s\tLaw The\tidea\tbehind\tConway’s\tLaw\t(named\tafter\tprogrammer\tMelvin\tConway\tin 1968)\tis\tthis:\tthat\tthe\tarchitecture\tof\ta\tsystem\twill\tbe\tdetermined\tby\tthe communication\tand\torganizational\tstructures\tof\tthe\tcompany.\tThe\tinverse\tof Conway’s\tLaw\t(which\twe’ll\tcall\tthe\tInverse\tConway’s\tLaw)\tis\talso\tvalid\tand\tis especially\trelevant\tto\tthe\tmicroservice\tecosystem:\tthe\torganizational\tstructure\tof a\tcompany\tis\tdetermined\tby\tthe\tarchitecture\tof\tits\tproduct.\tOver\t40\tyears\tafter Conway’s\tLaw\twas\tfirst\tintroduced,\tboth\tit\tand\tits\tinverse\tstill\tappear\tto\thold true.\tMicrosoft’s\torganizational\tstructure,\tif\tsketched\tout\tas\tif\tit\twere\tthe architecture\tof\ta\tsystem,\tlooks\tremarkably\tlike\tthe\tarchitecture\tof\tits\tproducts\t— the\tsame\tgoes\tfor\tGoogle,\tfor\tAmazon,\tand\tfor\tevery\tother\tlarge\ttechnology company.\tCompanies\tthat\tadopt\tmicroservice\tarchitecture\twill\tnever\tbe\tan exception\tto\tthis\trule.\n\nMicroservice\tarchitecture\tis\tcomprised\tof\ta\tlarge\tnumber\tof\tsmall,\tisolated, independent\tmicroservices.\tThe\tInverse\tConway’s\tLaw\tdemands\tthat\tthe organizational\tstructure\tof\tany\tcompany\tusing\tmicroservice\tarchitecture\twill\tbe made\tup\tof\ta\tlarge\tnumber\tof\tvery\tsmall,\tisolated,\tand\tindependent\tteams.\tThe team\tstructures\tthat\tspring\tfrom\tthis\tinevitably\tlead\tto\tsiloing\tand\tsprawl, problems\tthat\tare\tmade\tworse\tevery\ttime\tthe\tmicroservice\tecosystem\tbecomes more\tsophisticated,\tmore\tcomplex,\tmore\tconcurrent,\tand\tmore\tefficient.\n\nInverse\tConway’s\tLaw\talso\tmeans\tthat\tdevelopers\twill\tbe,\tin\tsome\tways,\tjust like\tmicroservices:\tthey\twill\tbe\table\tto\tdo\tone\tthing,\tand\t(hopefully)\tdo\tthat\tone thing\tvery\twell,\tbut\tthey\twill\tbe\tisolated\t(in\tresponsibility,\tin\tdomain knowledge,\tand\texperience)\tfrom\tthe\trest\tof\tthe\tecosystem.\tWhen\tconsidered together,\tall\tof\tthe\tdevelopers\tcollectively\tworking\twithin\ta\tmicroservice ecosystem\twill\tknow\teverything\tthere\tis\tto\tknow\tabout\tit,\tbut\tindividually\tthey will\tbe\textremely\tspecialized,\tknowing\tonly\tthe\tpieces\tof\tthe\tecosystem\tthey\tare responsible\tfor.\n\nThis\tposes\tan\tunavoidable\torganizational\tproblem:\teven\tthough\tmicroservices must\tbe\tdeveloped\tin\tisolation\t(leading\tto\tisolated,\tsiloed\tteams),\tthey\tdon’t\tlive in\tisolation\tand\tmust\tinteract\twith\tone\tanother\tseamlessly\tif\tthe\toverall\tproduct is\tto\tfunction\tat\tall.\tThis\trequires\tthat\tthese\tisolated,\tindependently\tfunctioning teams\twork\ttogether\tclosely\tand\toften\t—\tsomething\tthat\tis\tdifficult\tto accomplish,\tgiven\tthat\tmost\tteam’s\tgoals\tand\tprojects\t(codified\tin\ttheir\tteam’s objectives\tand\tkey\tresults,\tor\tOKRs)\tare\tspecific\tto\ta\tparticular\tmicroservice they\tare\tworking\ton.",
      "content_length": 2565,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 47,
      "content": "they\tare\tworking\ton.\n\nThere\tis\talso\ta\tlarge\tcommunication\tgap\tbetween\tmicroservice\tteams\tand infrastructure\tteams\tthat\tneeds\tto\tbe\tclosed.\tApplication\tplatform\tteams,\tfor example,\tneed\tto\tbuild\tplatform\tservices\tand\ttools\tthat\tall\tof\tthe\tmicroservice teams\twill\tuse,\tbut\tgaining\tthe\trequirements\tand\tneeds\tfrom\thundreds\tof microservice\tteams\tbefore\tbuilding\tone\tsmall\tproject\tcan\ttake\tmonths\t(even years).\tGetting\tdevelopers\tand\tinfrastructure\tteams\tto\twork\ttogether\tis\tnot\tan easy\ttask.\n\nThere’s\ta\trelated\tproblem\tthat\tarises\tthanks\tto\tInverse\tConway’s\tLaw,\tone\tthat is\tonly\trarely\tfound\tin\tcompanies\twith\tmonolithic\tarchitecture:\tthe\tdifficulty\tof running\tan\toperations\torganization.\tWith\ta\tmonolith,\tan\toperations\torganization can\teasily\tbe\tstaffed\tand\ton\tcall\tfor\tthe\tapplication,\tbut\tthis\tis\tvery\tdifficult\tto achieve\twith\tmicroservice\tarchitecture\tbecause\tit\twould\trequire\tevery\tsingle microservice\tto\tbe\tstaffed\tby\tboth\ta\tdevelopment\tteam\tand\tan\toperational\tteam. Consequently,\tmicroservice\tdevelopment\tteams\tneed\tto\tbe\tresponsible\tfor\tthe operational\tduties\tand\ttasks\tassociated\twith\ttheir\tmicroservice.\tThere\tis\tno separate\tops\torg\tto\ttake\tover\tthe\ton\tcall,\tno\tseparate\tops\torg\tresponsible\tfor monitoring:\tdevelopers\twill\tneed\tto\tbe\ton\tcall\tfor\ttheir\tservices.",
      "content_length": 1269,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 48,
      "content": "Technical\tSprawl The\tsecond\ttrade-off,\ttechnical\tsprawl,\tis\trelated\tto\tthe\tfirst.\tWhile\tConway’s Law\tand\tits\tinverse\tpredict\torganizational\tsprawl\tand\tsiloing\tfor\tmicroservices, a\tsecond\ttype\tof\tsprawl\t(related\tto\ttechnologies,\ttools,\tand\tthe\tlike)\tis\talso unavoidable\tin\tmicroservice\tarchitecture.\tThere\tare\tmany\tdifferent\tways\tin which\ttechnical\tsprawl\tcan\tmanifest.\tWe’ll\tcover\ta\tfew\tof\tthe\tmost\tcommon ways\there.\n\nIt’s\teasy\tto\tsee\twhy\tmicroservice\tarchitecture\tleads\tto\ttechnical\tsprawl\tif\twe consider\ta\tlarge\tmicroservice\tecosystem,\tone\tcontaining\t1,000\tmicroservices. Suppose\teach\tof\tthese\tmicroservices\tis\tstaffed\tby\ta\tdevelopment\tteam\tof\tsix developers,\tand\teach\tdeveloper\tuses\ttheir\town\tset\tof\tfavorite\ttools,\tfavorite libraries,\tand\tworks\tin\ttheir\town\tfavorite\tlanguages.\tEach\tof\tthese\tdevelopment teams\thas\ttheir\town\tway\tof\tdeploying,\ttheir\town\tspecified\tmetrics\tto\tmonitor and\talert\ton,\ttheir\town\texternal\tlibraries\tand\tinternal\tdependencies\tthey\tuse, custom\tscripts\tto\trun\ton\tproduction\tmachines,\tand\tso\ton.\n\nIf\tyou\thave\ta\tthousand\tof\tthese\tteams,\tthis\tmeans\tthat\twithin\tone\tsystem\tthere are\ta\tthousand\tways\tto\tdo\tone\tthing.\tThere\twill\tbe\ta\tthousand\tways\tto\tdeploy,\ta thousand\tlibraries\tto\tmaintain,\ta\tthousand\tdifferent\tways\tof\talerting\tand monitoring\tand\ttesting\tand\thandling\toutages.\tThe\tonly\tway\tto\tcut\tdown\ton technical\tsprawl\tis\tthrough\tstandardization\tat\tevery\tlevel\tof\tthe\tmicroservice ecosystem.\n\nThere’s\tanother\tkind\tof\ttechnical\tsprawl\tassociated\twith\tlanguage\tchoice. Microservices\tinfamously\tcome\twith\tthe\tpromise\tof\tgreater\tdeveloper\tfreedom, freedom\tto\tchoose\twhichever\tlanguages\tand\tlibraries\tone\twants.\tThis\tis\tpossible in\tprinciple,\tand\tcan\tbe\ttrue\tin\tpractice,\tbut\tas\ta\tmicroservice\tecosystem\tgrows\tit often\tbecomes\timpractical,\tcostly,\tand\tdangerous.\tTo\tsee\twhy\tthis\tcan\tbecome\ta problem,\tconsider\tthe\tfollowing\tscenario.\tSuppose\twe\thave\ta\tmicroservice ecosystem\tcontaining\t200\tservices,\tand\timagine\tthat\tsome\tof\tthese microservices\tare\twritten\tin\tPython,\tothers\tin\tJavaScript,\tsome\tin\tHaskell,\ta\tfew in\tGo,\tand\ta\tcouple\tmore\tin\tRuby,\tJava,\tand\tC++.\tFor\teach\tinternal\ttool,\tfor each\tsystem\tand\tservice\twithin\tevery\tlayer\tof\tthe\tecosystem,\tlibraries\twill\thave to\tbe\twritten\tfor\teach\tone\tof\tthese\tlanguages.\n\nTake\ta\tmoment\tto\tcontemplate\tthe\tsheer\tamount\tof\tmaintenance\tand development\tthat\twill\thave\tto\tbe\tdone\tin\torder\tfor\teach\tlanguage\tto\treceive\tthe support\tit\trequires:\tit’s\textraordinary,\tand\tvery\tfew\tengineering\torganizations could\tafford\tto\tdedicate\tthe\tengineering\tresources\tnecessary\tto\tmake\tit\thappen.",
      "content_length": 2544,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 49,
      "content": "could\tafford\tto\tdedicate\tthe\tengineering\tresources\tnecessary\tto\tmake\tit\thappen. It’s\tmore\trealistic\tto\tchoose\ta\tsmall\tnumber\tof\tsupported\tlanguages\tand\tensure that\tall\tlibraries\tand\ttools\tare\tcompatible\twith\tand\texist\tfor\tthese\tlanguages\tthan to\tattempt\tto\tsupport\ta\tlarge\tnumber\tof\tlanguages.\n\nThe\tlast\ttype\tof\ttechnical\tsprawl\twe\twill\tcover\there\tis\ttechnical\tdebt,\twhich usually\trefers\tto\twork\tthat\tneeds\tto\tbe\tdone\tbecause\tsomething\twas implemented\tin\ta\tway\tthat\tgot\tthe\tjob\tdone\tquickly,\tbut\tnot\tin\tthe\tbest\tor\tmost optimal\tway.\tGiven\tthat\tmicroservice\tdevelopment\tteams\tcan\tchurn\tout\tnew features\tat\ta\tfast\tpace,\ttechnical\tdebt\toften\tbuilds\tup\tquietly\tin\tthe\tbackground. When\toutages\thappen,\twhen\tthings\tbreak,\tany\twork\tthat\tcomes\tout\tof\tan incident\treview\twill\tonly\trarely\tbe\tthe\tbest\toverall\tsolution:\tas\tfar\tas microservice\tdevelopment\tteams\tare\tconcerned,\twhatever\tfixes\t(or\tfixed)\tthe problem\tquickly\tand\tin\tthe\tmoment\twas\tgood\tenough,\tand\tany\tbetter\tsolutions are\tpawned\toff\tto\tthe\tfuture.",
      "content_length": 1000,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 50,
      "content": "More\tWays\tto\tFail Microservices\tare\tlarge,\tcomplex,\tdistributed\tsystems\twith\tmany\tsmall, independent\tpieces\tthat\tare\tconstantly\tchanging.\tThe\treality\tof\tworking\twith complex\tsystems\tof\tthis\tsort\tis\tthat\tindividual\tcomponents\twill\tfail,\tthey\twill\tfail often,\tand\tthey\twill\tfail\tin\tways\tthat\tnobody\tcould\thave\tpredicted.\tThis\tis\twhere the\tthird\ttrade-off\tcomes\tinto\tplay:\tmicroservice\tarchitecture\tintroduces\tmore ways\tyour\tsystem\tcan\tfail.\n\nThere\tare\tways\tto\tprepare\tfor\tfailure,\tto\tmitigate\tfailures\twhen\tthey\toccur,\tand to\ttest\tthe\tlimits\tand\tboundaries\tof\tboth\tthe\tindividual\tcomponents\tand\tthe overall\tecosystem,\twhich\tI\tcover\tin\tChapter\t5,\tFault\tTolerance\tand Catastrophe-Preparedness.\tHowever,\tit\tis\timportant\tto\tunderstand\tthat\tno matter\thow\tmany\tresiliency\ttests\tyou\trun,\tno\tmatter\thow\tmany\tfailures\tand catastrophe\tscenarios\tyou’ve\tscoped\tout,\tyou\tcannot\tescape\tthe\tfact\tthat\tthe system\twill\tfail.\tYou\tcan\tonly\tdo\tyour\tbest\tto\tprepare\tfor\twhen\tit\tdoes.",
      "content_length": 960,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 51,
      "content": "Competition\tfor\tResources Just\tlike\tany\tother\tecosystem\tin\tthe\tnatural\tworld,\tcompetition\tfor\tresources\tin the\tmicroservice\tecosystem\tis\tfierce.\tEach\tengineering\torganization\thas\tfinite resources:\tit\thas\tfinite\tengineering\tresources\t(teams,\tdevelopers)\tand\tfinite hardware\tand\tinfrastructure\tresources\t(physical\tmachines,\tcloud\thardware, database\tstorage,\tetc.),\tand\teach\tresource\tcosts\tthe\tcompany\ta\tgreat\tdeal\tof money.\n\nWhen\tyour\tmicroservice\tecosystem\thas\ta\tlarge\tnumber\tof\tmicroservices\tand\ta large\tand\tsophisticated\tapplication\tplatform,\tcompetition\tbetween\tteams\tfor hardware\tand\tinfrastructure\tresources\tis\tinevitable:\tevery\tservice,\tevery\ttool\twill be\tpresented\tas\tequally\timportant,\tits\tscaling\tneeds\tpresented\tas\tbeing\tof\tthe highest\tpriority.\n\nLikewise,\twhen\tapplication\tplatform\tteams\tare\tasking\tfor\tspecifications\tand needs\tfrom\tmicroservice\tteams\tso\tthat\tthey\tcan\tdesign\ttheir\tsystems\tand\ttools appropriately,\tevery\tmicroservice\tdevelopment\tteam\twill\targue\tthat\ttheir\tneeds are\tthe\tmost\timportant\tand\twill\tbe\tdisappointed\t(and\tpotentially\tvery\tfrustrated) if\tthey\tare\tnot\tincluded.\tThis\tkind\tof\tcompetition\tfor\tengineering\tresources\tcan lead\tto\tresentment\tbetween\tteams.\n\nThe\tlast\tkind\tof\tcompetition\tfor\tresources\tis\tperhaps\tthe\tmost\tobvious\tone:\tthe competition\tbetween\tmanagers,\tbetween\tteams,\tand\tbetween\tdifferent engineering\tdepartments/organization\tfor\tengineering\theadcount.\tEven\twith\tthe increase\tin\tcomputer\tscience\tgraduates\tand\tthe\trise\tof\tdeveloper\tbootcamps, truly\tgreat\tdevelopers\tare\tdifficult\tto\tfind,\tand\trepresent\tone\tof\tthe\tmost irreplaceable\tand\tscarce\tresources.\tWhen\tthere\tare\thundreds\tor\tthousands\tof teams\tthat\tcould\tuse\tan\textra\tengineer\tor\ttwo,\tevery\tsingle\tteam\twill\tinsist\tthat their\tteam\tneeds\tan\textra\tengineer\tmore\tthan\tany\tof\tthe\tother\tteams.\n\nThere\tis\tno\tway\tto\tavoid\tcompetition\tfor\tresources,\tthough\tthere\tare\tways\tto mitigate\tcompetition\tsomewhat.\tThe\tmost\teffective\tseems\tto\tbe\torganizing\tor categorizing\tteams\tin\tterms\tof\ttheir\timportance\tand\tcriticality\tto\tthe\toverall business,\tand\tthen\tgiving\tteams\taccess\tto\tresources\tbased\ton\ttheir\tpriority\tor importance.\tThere\tare\tdownsides\tto\tthis,\tbecause\tit\ttends\tto\tresult\tin\tpoorly staffed\tdevelopment\ttools\tteams,\tand\tin\tprojects\twhose\timportance\tlies\tin shaping\tthe\tfuture\t(such\tas\tadopting\tnew\tinfrastructure\ttechnologies)\tbeing abandoned.",
      "content_length": 2341,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 52,
      "content": "Chapter\t2.\tProduction-Readiness\n\nWhile\tthe\tadoption\tof\tmicroservice\tarchitecture\tbrings\tconsiderable\tfreedom\tto developers,\tensuring\tavailability\tacross\tthe\tmicroservice\tecosystem\trequires holding\tindividual\tmicroservices\tto\thigh\tarchitectural,\toperational,\tand organizational\tstandards.\tThis\tchapter\tcovers\tthe\tchallenges\tof\tmicroservice standardization,\tintroduces\tavailability\tas\tthe\tgoal\tof\tstandardization,\tpresents the\teight\tproduction-readiness\tstandards,\tand\tproposes\tstrategies\tfor implementing\tproduction-readiness\tstandardization\tacross\tan\tengineering organization.",
      "content_length": 576,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 53,
      "content": "The\tChallenges\tof\tMicroservice\tStandardization The\tarchitecture\tof\ta\tmonolithic\tapplication\tis\tusually\tdetermined\tat\tthe beginning\tof\tthe\tapplication’s\tlifecycle.\tFor\tmany\tapplications,\tthe\tarchitecture is\tdetermined\tat\tthe\ttime\ta\tcompany\tbegins.\tAs\tthe\tbusiness\tgrows,\tand\tthe application\tscales,\tdevelopers\twho\tare\tadding\tnew\tfeatures\toften\tfind themselves\tconstrained\tand\tlimited\tby\tthe\tchoices\tmade\twhen\tthe\tapplication was\tfirst\tdesigned.\tThey\tare\tconstrained\tby\tchoice\tof\tlanguage,\tby\tthe\tlibraries they\tare\table\tto\tuse,\tby\tthe\tdevelopment\ttools\tthey\tcan\twork\twith,\tand\tby\tthe need\tfor\textensive\tregression\ttesting\tto\tensure\tthat\tevery\tnew\tfeature\tthey\tadd does\tnot\tdisturb\tor\tcompromise\tthe\tentirety\tof\tthe\tapplication.\tAny\trefactoring that\thappens\tto\tthe\tstandalone,\tmonolithic\tapplication\tis\tstill\tessentially constrained\tby\tinitial\tarchitectural\tdecisions:\tinitial\tconditions\texclusively determine\tthe\tfuture\tof\tthe\tapplication.\n\nThe\tadoption\tof\tmicroservice\tarchitecture\tbrings\ta\tconsiderable\tamount\tof freedom\tto\tdevelopers.\tThey\tare\tno\tlonger\ttied\tto\tthe\tarchitectural\tdecisions\tof the\tpast,\tthey\tcan\tarchitect\ttheir\tservice\thowever\tthey\twish,\tand\tthey\thave\tfree reign\tin\tdecisions\tof\tlanguage,\tof\tdatabase,\tof\tdevelopment\ttools,\tand\tthe\tlike. The\tmessage\taccompanying\tthe\tadoption\tof\tmicroservice\tarchitecture\tis\tusually understood\tand\theard\tby\tdevelopers\tas\tfollows:\tbuild\tan\tapplication\tthat\tdoes one\tthing\t—\tone\tthing\tonly\t—\tand\tdoes\tthat\tone\tthing\textraordinarily\twell;\tdo whatever\tyou\tneed\tto\tdo,\tbuild\tit\thowever\tyou\twant\t—\tjust\tmake\tsure\tit\tgets\tthe job\tdone.\n\nWhile\tthis\tromantic\tidealization\tof\tmicroservice\tdevelopment\tis\ttrue\tin principle,\tnot\tall\tmicroservices\tare\tcreated\tequal\t—\tnor\tshould\tthey\tbe.\tEach microservice\tis\tpart\tof\ta\tmicroservice\tecosystem,\tand\tcomplex\tdependency chains\tare\ta\tnecessary\tinevitability.\tWhen\tyou\thave\t100,\t1,000,\tor\teven\t10,000 microservices,\teach\tof\tthem\twill\tbe\tplaying\ta\tsmall\trole\tin\ta\tvery\tlarge\tsystem. The\tservices\tmust\tinteract\tseamlessly\twith\tone\tanother,\tand\t—\tmost\timportantly —\tno\tservice\tor\tset\tof\tservices\tshould\tcompromise\tthe\tintegrity\tof\tthe\toverall system\tor\tproduct\tthat\tthey\tcomprise.\tIf\tthe\toverall\tsystem\tor\tproduct\tis\tto\tbe any\tgood,\tit\tmust\tbe\theld\tto\tcertain\tstandards,\tand\tconsequently,\teach\tof\tits\tparts must\tabide\tby\tthese\tstandards\tas\twell.\n\nIt’s\trelatively\tsimple\tto\tdetermine\tstandards\tand\tgive\trequirements\tto\ta microservice\tteam\tif\twe\tfocus\ton\tthe\tneeds\tof\tthat\tspecific\tteam\tand\tthe\trole their\tservice\tis\tto\tplay.\tWe\tcan\tsay,\t“your\tmicroservice\tmust\tdo\tx,\ty,\tand\tz,\tand",
      "content_length": 2559,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 54,
      "content": "to\tdo\tx,\ty,\tand\tz\twell,\tyou\tneed\tto\tmake\tsure\tyou\tmeet\tthis\tset\tS\tof requirements,”\tgiving\teach\tteam\ta\tset\tof\trequirements\tthat\tis\trelevant\tto\ttheir service,\tand\tto\ttheir\tservice\talone.\tUnfortunately,\tthis\tapproach\tsimply\tisn’t scalable\tand\tneglects\tto\trecognize\tthe\timportant\tfact\tthat\ta\tmicroservice\tis\tbut\ta very\tsmall\tpiece\tof\tan\tabsurdly\tlarge\tand\tdistributed\tpuzzle.\tWe\tmust\tdefine standards\tand\trequirements\tfor\tour\tmicroservices,\tand\tthey\tmust\tbe\tgeneral enough\tto\tapply\tto\tevery\tsingle\tmicroservice\tyet\tspecific\tenough\tto\tbe quantifiable\tand\tproduce\tmeasurable\tresults.\tThis\tis\twhere\tthe\tconcept\tof production-readiness\tcomes\tin.",
      "content_length": 638,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 55,
      "content": "Availability:\tThe\tGoal\tof\tStandardization Within\tmicroservice\tecosystems,\tservice-level\tagreements\t(SLAs)\tregarding\tthe availability\tof\ta\tservice\tare\tthe\tmost\tcommonly\tused\tmethods\tof\tmeasuring\ta service’s\tsuccess:\tif\ta\tservice\tis\thighly\tavailable\t(that\tis,\thas\tvery\tlittle downtime),\tthen\twe\tcan\tsay\twith\treasonable\tconfidence\t(and\ta\tfew\tcaveats)\tthat the\tservice\tis\tdoing\tits\tjob.\n\nCalculating\tand\tmeasuring\tavailability\tis\teasy.\tYou\tneed\tto\tcalculate\tonly\tthree measurable\tquantities:\tuptime\t(the\tlength\tof\ttime\tthat\tthe\tmicroservice\tworked correctly),\tdowntime\t(the\tlength\tof\ttime\tthat\tthe\tmicroservice\twas\tnot\tworking correctly),\tand\tthe\ttotal\ttime\ta\tservice\twas\toperational\t(the\tsum\tof\tuptime\tand downtime).\tAvailability\tis\tthen\tthe\tuptime\tdivided\tby\tthe\ttotal\ttime\ta\tservice was\toperational\t(uptime\t+\tdowntime).\n\nAs\tuseful\tas\tit\tis,\tavailability\tis\tnot\tin\titself\ta\tprinciple\tof\tmicroservice standardization,\tbut\tthe\tgoal.\tIt\tcan’t\tbe\ta\tprinciple\tof\tstandardization\tbecause\tit gives\tno\tguidance\tas\tto\thow\tto\tarchitect,\tbuild,\tor\trun\tthe\tmicroservice:\ttelling developers\tto\tmake\ttheir\tmicroservice\tmore\tavailable\twithout\ttelling\tthem\thow (or\twhy)\tto\tdo\tso\tis\tuseless.\tAvailability\talone\tcomes\twith\tno\tconcrete, applicable\tsteps,\tbut\tas\twe\twill\tsee\tin\tthe\tfollowing\tsections,\tthere\tare\tconcrete, applicable\tsteps\tthat\tcan\tbe\ttaken\ttoward\treaching\tthe\tgoal\tof\tbuilding\tan available\tmicroservice.\n\nCALCULATING\tAVAILABILITY\n\nAvailability\tis\tmeasured\tin\tso-called\tnines\tnotation,\twhich\tcorresponds\tto\tthe\tpercentage\tof\ttime\tthat a\tservice\tis\tavailable.\tFor\texample,\ta\tservice\tthat\tis\tavailable\t99%\tof\tthe\ttime\tis\tsaid\tto\thave\t“two- nines\tavailability.”\n\nThis\tnotation\tis\tuseful\tbecause\tit\tgives\tus\ta\tspecific\tamount\tof\tdowntime\tthat\ta\tservice\tis\tallowed\tto have.\tIf\tyour\tservice\tis\trequired\tto\thave\tfour-nines\tavailability,\tthen\tit\tis\tallowed\t52.56\tminutes\tof downtime\tper\tyear,\twhich\tis\t4.38\tminutes\tof\tdowntime\tper\tmonth,\t1.01\tminutes\tof\tdowntime\tper week,\tand\t8.66\tseconds\tof\tdowntime\tper\tday.\n\nHere\tare\tthe\tavailability\tand\tdowntime\tcalculations\tfor\t99%\tavailability\tto\t99.999%\tavailability:\n\n99%\tavailability:\t(two-nines)\n\n3.65\tdays/year\t(of\tallowed\tdowntime)\n\n7.20\thours/month",
      "content_length": 2182,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 56,
      "content": "1.68\thours/week\n\n14.4\tminutes/day\n\n99.9%\tavailability\t(three-nines):\n\n8.76\thours/year\n\n43.8\tminutes/month\n\n10.1\tminutes/week\n\n1.44\tminutes/day\n\n99.99%\tavailability\t(four-nines):\n\n52.56\tminutes/year\n\n4.38\tminutes/month\n\n1.01\tminutes/week\n\n8.66\tseconds/day\n\n99.999%\tavailability\t(five-nines):\n\n5.26\tminutes/year\n\n25.9\tseconds/month\n\n6.05\tseconds/week\n\n864.3\tmilliseconds/day",
      "content_length": 372,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 57,
      "content": "Production-Readiness\tStandards The\tbasic\tidea\tbehind\tproduction-readiness\tis\tthis:\ta\tproduction-ready application\tor\tservice\tis\tone\tthat\tcan\tbe\ttrusted\tto\tserve\tproduction\ttraffic.\tWhen we\trefer\tto\tan\tapplication\tor\tmicroservice\tas\t“production-ready,”\twe\tconfer\ta great\tdeal\tof\ttrust\tupon\tit:\twe\ttrust\tit\tto\tbehave\treasonably,\twe\ttrust\tit\tto\tperform reliably,\twe\ttrust\tit\tto\tget\tthe\tjob\tdone\tand\tto\tdo\tits\tjob\twell\twith\tvery\tlittle downtime.\tProduction-readiness\tis\tthe\tkey\tto\tmicroservice\tstandardization,\tthe key\tto\tachieving\tavailability\tacross\tthe\tmicroservice\tecosystem.\n\nHowever,\tthe\tidea\tof\tproduction-readiness\tas\tstated\tisn’t\tuseful\tenough\ton\tits own\tto\tserve\tas\tthe\texhaustive\tdefinition\twe\tneed,\tand\twithout\tfurther explication,\tthe\tconcept\tisn’t\tvery\thelpful.\tWe\tneed\tto\tknow\texactly\twhat requirements\tevery\tservice\tmust\tmeet\tin\torder\tto\tbe\tdeemed\tproduction-ready and\tto\tbe\ttrusted\tto\tserve\tproduction\ttraffic\tin\ta\treliable,\tappropriate\tway\t—\ta trust\tthat\tcan’t\tbe\tgiven\tfreely,\tbut\thas\tto\tbe\tearned.\tThe\trequirements\tmust themselves\tbe\tprinciples\tthat\tare\ttrue\tfor\tevery\tmicroservice,\tfor\tevery application,\tand\tfor\tevery\tdistributed\tsystem:\tstandardization\twithout\tprinciple\tis meaningless.\n\nIt\tturns\tout\tthat\tthere\tis\ta\tset\tof\teight\tprinciples\tthat,\twhen\tadopted\ttogether,\tfits these\tcriteria.\tEach\tof\tthese\tprinciples\tis\tquantifiable,\tgives\trise\tto\ta\tset\tof actionable\trequirements,\tand\tproduces\tmeasurable\tresults.\tThey\tare:\tstability, reliability,\tscalability,\tfault\ttolerance,\tcatastrophe-preparedness,\tperformance, monitoring,\tand\tdocumentation.\tThe\tdriving\tforce\tbehind\teach\tof\tthese principles\tis\tthat,\ttogether,\tthey\tcontribute\tto\tand\tdrive\tthe\tavailability\tof\ta microservice.\n\nAvailability\tis,\tin\tsome\tways,\tan\temergent\tproperty\tof\ta\tproduction-ready microservice.\tIt\temerges\tfrom\tbuilding\ta\tscalable,\treliable,\tfault-tolerant, performant,\tmonitored,\tdocumented,\tand\tcatastrophe-prepared\tmicroservice. Any\tone\tof\tthese\tprinciples\tindividually\tis\tnot\tenough\tto\tensure\tavailability,\tbut together\tthey\tare:\tbuilding\ta\tmicroservice\twith\tthese\tprinciples\tas\tthe\tdriving architectural\tand\toperational\trequirements\tguarantees\ta\thighly\tavailable\tsystem that\tcan\tbe\ttrusted\twith\tproduction\ttraffic.",
      "content_length": 2214,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 58,
      "content": "Stability With\tthe\tintroduction\tof\tmicroservice\tarchitecture,\tdevelopers\tare\tgiven\tfreedom to\tdevelop\tand\tdeploy\tat\ta\tvery\thigh\tvelocity.\tNew\tfeatures\tcan\tbe\tadded\tand deployed\teach\tday,\tbugs\tcan\tbe\tquickly\tfixed,\tany\told\ttechnologies\tswapped\tout for\tthe\tnewest\tones,\tand\toutdated\tmicroservices\tcan\tbe\trewritten\tand\tthe\told versions\tdeprecated\tand\tdecommissioned.\tWith\tthis\tincreased\tvelocity\tcomes increased\tinstability,\tand\tin\tmicroservice\tecosystems\tthe\tmajority\tof\toutages\tcan usually\tbe\ttraced\tback\tto\ta\tbad\tdeployment\tthat\tcontained\tbuggy\tcode\tor\tother serious\terrors.\tTo\tensure\tavailability,\twe\tneed\tto\tcarefully\tguard\tagainst\tthis instability\tthat\tstems\tfrom\tincreased\tdeveloper\tvelocity\tand\tthe\tconstant evolution\tof\tthe\tmicroservice\tecosystem.\n\nStability\tallows\tus\tto\treach\tavailability\tby\tgiving\tus\tways\tto\tresponsibly\thandle changes\tto\tmicroservices.\tA\tstable\tmicroservice\tis\tone\tin\twhich\tdevelopment, deployment,\tthe\taddition\tof\tnew\ttechnologies,\tand\tthe\tdecommissioning\tand deprecation\tof\tmicroservices\tdo\tnot\tgive\trise\tto\tinstability\twithin\tand\tacross\tthe larger\tmicroservice\tecosystem.\tWe\tcan\tdetermine\tstability\trequirements\tfor\teach microservice\tto\tmitigate\tthe\tnegative\tside\teffects\tthat\tmay\taccompany\teach change.\n\nTo\tmitigate\tany\tproblems\tthat\tmay\tarise\tfrom\tthe\tdevelopment\tcycle,\tstable development\tprocedures\tcan\tbe\tput\tinto\tplace.\tTo\tcounteract\tany\tinstability introduced\tby\tdeployment,\twe\tcan\tensure\tour\tmicroservices\tare\tdeployed carefully\twith\tproper\tstaging,\tcanary\t(a\tsmall\tpool\tof\t2%–5%\tof\tproduction hosts),\tand\tproduction\trollouts.\tTo\tprevent\tthe\tintroduction\tof\tnew\ttechnologies and\tthe\tdeprecation\tand\tdecommissioning\tof\told\tmicroservices\tfrom compromising\tthe\tavailability\tof\tother\tservices,\twe\tcan\tenforce\tstable introduction\tand\tdeprecation\tprocedures.\n\nSTABILITY\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\tstable\tmicroservice\tare:\n\nA\tstable\tdevelopment\tcycle\n\nA\tstable\tdeployment\tprocess\n\nStable\tintroduction\tand\tdeprecation\tprocedures",
      "content_length": 1976,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 59,
      "content": "The\tdetails\tof\tstability\trequirements\tare\tcovered\tin\tChapter\t3,\tStability\tand\tReliability.",
      "content_length": 90,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 60,
      "content": "Reliability Stability\talone\tisn’t\tenough\tto\tensure\ta\tmicroservice’s\tavailability:\tthe\tservice must\talso\tbe\treliable.\tA\treliable\tmicroservice\tis\tone\tthat\tcan\tbe\ttrusted\tby\tits clients,\tby\tits\tdependencies,\tand\tby\tthe\tmicroservice\tecosystem\tas\ta\twhole.\tA reliable\tmicroservice\tis\tone\tthat\thas\ttruly\tearned\tthe\ttrust\tthat\tis\tessential\tand required\tin\torder\tfor\tit\tto\tserve\tproduction\ttraffic.\n\nWhile\tstability\tis\trelated\tto\tmitigating\tthe\tnegative\tside\teffects\taccompanying change,\tand\treliability\tis\trelated\tto\ttrust,\tthe\ttwo\tare\tinextricably\tlinked.\tEach stability\trequirement\talso\tcarries\ta\treliability\trequirement\talongside\tit:\tfor example,\tdevelopers\tshould\tnot\tonly\tseek\tto\thave\tstable\tdeployment\tprocesses, they\tshould\talso\tensure\tthat\teach\tdeployment\tis\treliable\tfrom\tthe\tpoint\tof\tview of\tone\tof\ttheir\tclients\tor\tdependencies.\n\nThe\ttrust\tthat\treliability\tsecures\tcan\tbe\tbroken\tinto\tseveral\trequirements,\tthe same\tway\twe\tdetermined\trequirements\tfor\tstability.\tFor\texample,\twe\tcan\tmake our\tdeployment\tprocesses\treliable\tby\tmaking\tsure\tthat\tour\tintegration\ttests\tare comprehensive\tand\tour\tstaging\tand\tcanary\tdeployment\tphases\tare\tsuccessful\tso that\tevery\tchange\tintroduced\tinto\tproduction\tcan\tbe\ttrusted\tnot\tto\tcontain\tany errors\tthat\tmight\tcompromise\tits\tclients\tand\tdependencies.\n\nBy\tbuilding\treliability\tinto\tour\tmicroservices,\twe\tcan\tprotect\ttheir\tavailability. We\tcan\tcache\tdata\tso\tthat\tit\twill\tbe\treadily\tavailable\tto\tclient\tservices,\thelping them\tprotect\ttheir\tSLAs\tby\tmaking\tour\town\tservices\thighly\tavailable.\tTo\tprotect our\town\tSLA\tfrom\tany\tproblems\twith\tthe\tavailability\tof\tour\tdependencies,\twe can\timplement\tdefensive\tcaching.\n\nThe\tlast\treliability\trequirement\tis\trelated\tto\trouting\tand\tdiscovery.\tAvailability requires\tthat\tthe\tcommunication\tand\trouting\tbetween\tdifferent\tservices\tbe reliable:\thealth\tchecks\tshould\tbe\taccurate,\trequests\tand\tresponses\tshould\treach their\tdestinations,\tand\terrors\tshould\tbe\thandled\tcarefully\tand\tappropriately.\n\nRELIABILITY\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\treliable\tmicroservice\tare:\n\nA\treliable\tdeployment\tprocess\n\nPlanning,\tmitigating,\tand\tprotecting\tagainst\tthe\tfailures\tof\tdependencies",
      "content_length": 2146,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 61,
      "content": "Reliable\trouting\tand\tdiscovery\n\nThe\tdetails\tof\tproduction-ready\treliability\trequirements\tare\tcovered\tin\tChapter\t3,\tStability\tand Reliability.",
      "content_length": 141,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 62,
      "content": "Scalability Microservice\ttraffic\tis\trarely\tstatic\tor\tconstant,\tand\tone\tof\tthe\thallmarks\tof\ta successful\tmicroservice\t(and\tof\ta\tsuccessful\tmicroservice\tecosystem)\tis\ta\tsteady increase\tin\ttraffic.\tMicroservices\tneed\tto\tbe\tbuilt\tin\tpreparation\tfor\tthis\tgrowth, they\tneed\tto\taccommodate\tit\teasily,\tand\tthey\tneed\tto\tbe\table\tto\tactively\tscale with\tit.\tA\tmicroservice\tthat\tcan’t\tscale\twith\tgrowth\texperiences\tincreased latency,\tpoor\tavailability,\tand\tin\textreme\tcases,\ta\tdrastic\tincrease\tin\tincidents and\toutages.\tScalability\tis\tessential\tfor\tavailability,\tmaking\tit\tour\tthird production-readiness\tstandard.\n\nA\tscalable\tmicroservice\tis\tone\tthat\tcan\thandle\ta\tlarge\tnumber\tof\ttasks\tor requests\tat\tthe\tsame\ttime.\tTo\tensure\ta\tmicroservice\tis\tscalable,\twe\tneed\tto\tknow both\t(1)\tits\tqualitative\tgrowth\tscale\t(e.g.,\twhether\tit\tscales\twith\tpage\tviews\tor customer\torders)\tand\t(2)\tits\tquantitative\tgrowth\tscale\t(e.g.,\thow\tmany\trequests per\tsecond\tit\tcan\thandle).\tOnce\twe\tknow\tthe\tgrowth\tscale,\twe\tcan\tplan\tfor future\tcapacity\tneeds\tand\tidentify\tresource\tbottlenecks\tand\trequirements.\n\nThe\tway\ta\tmicroservice\thandles\ttraffic\tshould\talso\tbe\tscalable.\tIt\tshould\tbe prepared\tfor\tbursts\tof\ttraffic,\thandle\tthem\tcarefully,\tand\tprevent\tthem\tfrom taking\tdown\tthe\tservice\tentirely.\tIt’s\teasier\tsaid\tthan\tdone,\tbut\twithout\tscalable traffic\thandling,\tdevelopers\tcan\t(and\twill)\tfind\tthemselves\tlooking\tat\ta\tbroken microservice\tecosystem.\n\nAdditional\tcomplexity\tis\tintroduced\tby\tthe\trest\tof\tthe\tmicroservice\tecosystem. The\tinevitable\tadditional\ttraffic\tand\tgrowth\tfrom\ta\tservice’s\tclients\thave\tto\tbe prepared\tfor.\tLikewise,\tany\tdependencies\tof\tthe\tservice\tshould\tbe\talerted\twhen increases\tin\ttraffic\tare\texpected.\tCross-team\tcommunication\tand\tcollaboration are\tessential\tfor\tscalability:\tregularly\tcommunicating\twith\tclients\tand dependencies\tabout\ta\tservice’s\tscalability\trequirements,\tstatus,\tand\tany bottlenecks\tensures\tthat\tany\tservices\trelying\ton\teach\tother\tare\tprepared\tfor growth\tand\tfor\tpotential\tpitfalls.\n\nLast\tbut\tnot\tleast,\tthe\tway\ta\tmicroservice\tstores\tand\thandles\tdata\tneeds\tto\tbe scalable\tas\twell.\tBuilding\ta\tscalable\tstorage\tsolution\tgoes\ta\tlong\tway\ttoward ensuring\tthe\tavailability\tof\ta\tmicroservice,\tand\tis\tone\tof\tthe\tmost\tessential components\tof\ta\ttruly\tproduction-ready\tsystem.\n\nSCALABILITY\tREQUIREMENTS",
      "content_length": 2292,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 63,
      "content": "The\trequirements\tof\tbuilding\ta\tscalable\tmicroservice\tare:\n\nWell-defined\tquantitative\tand\tqualitative\tgrowth\tscales\n\nIdentification\tof\tresource\tbottlenecks\tand\trequirements\n\nCareful,\taccurate\tcapacity\tplanning\n\nScalable\thandling\tof\ttraffic\n\nThe\tscaling\tof\tdependencies\n\nScalable\tdata\tstorage\n\nThe\tdetails\tof\tproduction-ready\tscalability\trequirements\tare\tcovered\tin\tChapter\t4,\tScalability\tand Performance.",
      "content_length": 403,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 64,
      "content": "Fault\tTolerance\tand\tCatastrophe-Preparedness Even\tthe\tsimplest\tof\tmicroservices\tis\ta\tfairly\tcomplex\tsystem.\tAs\twe\tknow\tquite well,\tcomplex\tsystems\tfail,\tthey\tfail\toften,\tand\tany\tpotential\tfailure\tscenario\tcan and\twill\thappen\tat\tsome\tpoint\tin\tthe\tmicroservice’s\tlifetime.\tMicroservices don’t\tlive\tin\tisolation,\tbut\twithin\tdependency\tchains\tas\tpart\tof\ta\tlarger, incredibly\tcomplex\tmicroservice\tecosystem.\tThe\tcomplexity\tscales\tlinearly\twith the\tnumber\tof\tmicroservice\tin\tthe\toverall\tecosystem,\tand\tensuring\tthe availability\tof\tnot\tonly\tan\tindividual\tmicroservice,\tbut\tthe\tecosystem\tas\ta\twhole, requires\tthat\twe\timpose\tyet\tanother\tproduction-readiness\tstandard\tonto\teach microservice.\tEvery\tmicroservice\twithin\tthe\tecosystem\tmust\tbe\tfault\ttolerant and\tprepared\tfor\tany\tcatastrophe.\n\nA\tfault-tolerant,\tcatastrophe-prepared\tmicroservice\tis\tone\tthat\tcan\twithstand both\tinternal\tand\texternal\tfailures.\tInternal\tfailures\tare\tthose\tthat\tthe microservice\tbrings\ton\titself:\tfor\texample,\tcode\tbugs\tthat\taren’t\tcaught\tby proper\ttesting\tlead\tto\tbad\tdeploys,\tcausing\toutages\tthat\taffect\tthe\tentire ecosystem.\tExternal\tcatastrophes,\tsuch\tas\tdatacenter\toutages\tand/or\tpoor configuration\tmanagement\tacross\tthe\tecosystem,\tlead\tto\toutages\tthat\taffect\tthe availability\tof\tevery\tmicroservice\tand\tthe\tentire\torganization.\n\nFailure\tscenarios\tand\tpotential\tcatastrophes\tcan\tbe\tquite\tadequately\t(though\tnot exhaustively)\tprepared\tfor.\tIdentifying\tfailure\tand\tcatastrophe\tscenarios\tis\tthe first\trequirement\tof\tbuilding\ta\tfault-tolerant,\tproduction-ready\tmicroservice. Once\tthese\tscenarios\thave\tbeen\tidentified,\tthe\thard\twork\tof\tstrategizing\tand planning\tfor\twhen\tthey\twill\toccur\tbegins.\tThis\thas\tto\thappen\tat\tevery\tlevel\tof the\tmicroservice\tecosystem,\tand\tany\tshared\tstrategies\tshould\tbe\tcommunicated across\tthe\torganization\tso\tthat\tmitigation\tis\tstandardized\tand\tpredictable.\n\nStandardization\tof\tfailure\tmitigation\tand\tresolution\tat\tthe\torganizational\tlevel means\tthat\tincidents\tand\toutages\tof\tindividual\tmicroservices,\tinfrastructure components,\tor\tthe\tecosystem\tas\ta\twhole\tneed\tto\tbe\twrapped\tinto\tcarefully executed,\teasily\tunderstandable\tprocedures.\tIncident\tresponse\tprocedures\tneed to\tbe\thandled\tin\ta\tcoordinated,\tplanned,\tand\tthoroughly\tcommunicated\tmanner. If\tincidents\tand\toutages\tare\thandled\tin\tthis\tway,\tand\tthe\tstructure\tof\tincident response\tis\twell\tdefined,\torganizations\tcan\tavoid\tlengthy\tdowntimes\tand\tprotect the\tavailability\tof\tthe\tmicroservices.\tIf\tevery\tdeveloper\tknows\texactly\twhat\tthey are\tsupposed\tto\tdo\tin\tan\toutage,\tknows\thow\tto\tmitigate\tand\tresolve\tproblems",
      "content_length": 2555,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 65,
      "content": "quickly\tand\tappropriately,\tand\tknows\thow\tto\tescalate\tif\tan\tissue\tis\tbeyond\ttheir capabilities\tor\tcontrol,\tthen\tthe\ttime\tto\tmitigation\tand\ttime\tto\tresolution\tdrop drastically.\n\nMaking\tfailures\tand\tcatastrophes\tpredictable\tmeans\tgoing\tone\tstep\tfurther\tafter identifying\tfailure\tand\tcatastrophe\tscenarios\tand\tplanning\tfor\tthem.\tIt\tmeans forcing\tthe\tmicroservices,\tthe\tinfrastructure,\tand\tthe\tecosystem\tto\tfail\tin\tany\tand all\tknown\tways\tto\ttest\tthe\tavailability\tof\tthe\tentire\tsystem.\tThis\tis\taccomplished through\tvarious\ttypes\tof\tresiliency\ttesting.\tCode\ttesting\t(including\tunit\ttests, regression\ttests,\tand\tintegration\ttests)\tis\tthe\tfirst\tstep\tin\ttesting\tfor\tresiliency. The\tsecond\tstep\tis\tload\ttesting,\twhere\tmicroservices\tand\tinfrastructure components\tare\ttested\tfor\ttheir\tability\tto\thandle\tdrastic\tchanges\tin\ttraffic.\tThe last,\tmost\tintense,\tand\tmost\trelevant\ttype\tof\tresiliency\ttesting\tis\tchaos\ttesting,\tin which\tfailure\tscenarios\tare\trun\t(both\tscheduled\tand\trandomly)\ton\tproduction services\tto\tensure\tthat\tmicroservices\tand\tinfrastructure\tcomponents\tare\ttruly prepared\tfor\tall\tknown\tfailure\tscenarios.\n\nFAULT\tTOLERANCE\tAND\tCATASTROPHE-PREPAREDNESS\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\tfault-tolerant\tmicroservice\tthat\tis\tprepared\tfor\tany\tcatastrophe\tare:\n\nPotential\tcatastrophes\tand\tfailure\tscenarios\tare\tidentified\tand\tplanned\tfor.\n\nSingle\tpoints\tof\tfailure\tare\tidentified\tand\tresolved.\n\nFailure\tdetection\tand\tremediation\tstrategies\tare\tin\tplace.\n\nIt\tis\ttested\tfor\tresiliency\tthrough\tcode\ttesting,\tload\ttesting,\tand\tchaos\ttesting.\n\nTraffic\tis\tmanaged\tcarefully\tin\tpreparation\tfor\tfailure.\n\nIncidents\tand\toutages\tare\thandled\tappropriately\tand\tproductively.\n\nThe\tdetails\tof\tproduction-ready\tfault\ttolerance\tand\tcatastrophe-preparedness\trequirements\tare covered\tin\tChapter\t5,\tFault\tTolerance\tand\tCatastrophe-Preparedness.",
      "content_length": 1829,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 66,
      "content": "Performance In\tthe\tcontext\tof\tthe\tmicroservice\tecosystem,\tscalability\t(which\twe\tcovered\tin brief\tdetail\tearlier),\tis\trelated\tto\thow\tmany\trequests\ta\tmicroservice\tcan\thandle. Our\tnext\tproduction-readiness\tprinciple\t—\tperformance\t—\trefers\tto\thow\twell the\tmicroservice\thandles\tthose\trequests.\tA\tperformant\tmicroservice\tis\tone\tthat handles\trequests\tquickly,\tprocesses\ttasks\tefficiently,\tand\tproperly\tutilizes resources\t(such\tas\thardware\tand\tother\tinfrastructure\tcomponents).\n\nA\tmicroservice\tthat\tmakes\ta\tlarge\tnumber\tof\texpensive\tnetwork\tcalls,\tfor example,\tis\tnot\tperformant.\tNeither\tis\ta\tmicroservice\tthat\tprocesses\tand\thandles tasks\tsynchronously\tin\tcases\twhen\tasynchronous\t(nonblocking)\ttask\tprocessing would\tincrease\tthe\tperformance\tand\tavailability\tof\tthe\tservice.\tIdentifying\tand architecting\taway\tthese\tperformance\tproblems\tis\ta\tstrict\tproduction-readiness requirement.\n\nSimilarly,\tdedicating\ta\tlarge\tnumber\tof\tresources\t(like\tCPU)\tto\ta\tmicroservice that\tdoesn’t\tutilize\tit\tis\tinefficient.\tInefficiency\treduces\tperformance:\tif\tit’s\tnot clear\tat\tthe\tmicroservice\tlevel\tin\tevery\tcase,\tit’s\tpainful\tand\tcostly\tat\tthe ecosystem\tlevel.\tUnderutilized\thardware\tresources\taffects\tthe\tbottom\tline,\tand hardware\tis\tnot\tcheap.\tThere’s\ta\tfine\tline\tbetween\tunderutilization\tand\tproper capacity\tplanning,\tand\tso\tthe\ttwo\tmust\tbe\tplanned\tand\tunderstood\ttogether\tin order\tfor\tthe\tavailability\tof\tthe\tmicroservice\tto\tnot\tbe\tcompromised\tand\tthe\tcost of\tunderutilization\treasonable.\n\nPERFORMANCE\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\tperformant\tmicroservice\tare:\n\nAppropriate\tservice-level\tagreements\t(SLAs)\tfor\tavailability\n\nProper\ttask\thandling\tand\tprocessing\n\nEfficient\tutilization\tof\tresources\n\nThe\tdetails\tof\tproduction-ready\tperformance\trequirements\tare\tcovered\tin\tChapter\t4,\tScalability\tand Performance.",
      "content_length": 1800,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 67,
      "content": "Monitoring Another\tprinciple\tnecessary\tfor\tguaranteeing\tmicroservice\tavailability\tis\tproper microservice\tmonitoring.\tGood\tmonitoring\thas\tthree\tcomponents:\tproper logging\tof\tall\timportant\tand\trelevant\tinformation;\tuseful\tgraphical\tdisplays (dashboards)\tthat\tare\teasily\tunderstood\tby\tany\tdeveloper\tin\tthe\tcompany\tand that\taccurately\treflect\tthe\thealth\tof\tthe\tservices;\tand\talerting\ton\tkey\tmetrics\tthat is\teffective\tand\tactionable.\n\nLogging\tbelongs\tand\tbegins\tin\tthe\tcodebase\tof\teach\tmicroservice.\tDetermining precisely\twhat\tinformation\tto\tlog\twill\tdiffer\tfor\teach\tservice,\tbut\tthe\tgoal\tof logging\tis\tquite\tsimple:\twhen\tfaced\twith\ta\tbug\t—\teven\tone\tfrom\tmany deployments\tin\tthe\tpast\t—\tyou\twant\tand\tneed\tyour\tlogging\tto\tbe\tsuch\tthat\tyou can\tdetermine\tfrom\tthe\tlogs\texactly\twhat\twent\twrong\tand\twhere\tthings\tfell apart.\tIn\tmicroservice\tecosystems,\tthe\tversioning\tof\tmicroservices\tis discouraged,\tso\tyou\twon’t\thave\ta\tprecise\tversion\tto\trefer\tto\tin\twhich\tto\tfind\tany bugs\tor\tproblems.\tCode\tis\trevised\tfrequently,\tdeployments\thappen\tmultiple times\tper\tweek,\tfeatures\tare\tadded\tconstantly,\tand\tdependencies\tare\tever- changing,\tbut\tlogs\twill\tstay\tthe\tsame,\tpreserving\tthe\tinformation\tneeded\tto pinpoint\tany\tproblems.\tJust\tmake\tsure\tyour\tlogs\tcontain\tthe\tinformation necessary\tto\tdetermine\tpossible\tproblems.\n\nAll\tkey\tmetrics\t(such\tas\thardware\tutilization,\tdatabase\tconnections,\tresponses and\taverage\tresponse\ttimes,\tand\tthe\tstatus\tof\tAPI\tendpoints)\tshould\tbe graphically\tdisplayed\tin\treal\ttime\ton\tan\teasily\taccessible\tdashboard.\tDashboards are\tan\timportant\tcomponent\tof\tbuilding\ta\twell-monitored,\tproduction-ready microservice:\tthey\tmake\tit\teasy\tto\tdetermine\tthe\thealth\tof\ta\tmicroservice\twith one\tglance\tand\tenable\tdevelopers\tto\tdetect\tstrange\tpatterns\tand\tanomalies\tthat may\tnot\tbe\textreme\tenough\tto\ttrigger\talerting\tthresholds.\tWhen\tused\twisely, dashboards\tallow\tdevelopers\tto\tdetermine\twhether\tor\tnot\ta\tmicroservice\tis working\tcorrectly\tsimply\tby\tlooking\tat\tthe\tdashboard,\tbut\tdevelopers\tshould never\tneed\tto\twatch\tthe\tdashboard\tin\torder\tto\tdetect\tincidents\tand\toutages,\tand rollbacks\tto\tstable\tprevious\tbuilds\tshould\tbe\tfully\tautomated.\n\nThe\tactual\tdetection\tof\tfailures\tis\taccomplished\tthrough\talerting.\tAll\tkey\tmetrics must\tbe\talerted\ton,\tincluding\t(at\tthe\tvery\tleast)\tCPU\tand\tRAM\tutilization, number\tof\tfile\tdescriptors,\tnumber\tof\tdatabase\tconnections,\tthe\tSLA\tof\tthe service,\trequests\tand\tresponses,\tthe\tstatus\tof\tAPI\tendpoints,\terrors\tand",
      "content_length": 2435,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 68,
      "content": "exceptions,\tthe\thealth\tof\tthe\tservice’s\tdependencies,\tinformation\tabout\tany database(s),\tand\tthe\tnumber\tof\ttasks\tbeing\tprocessed\t(if\tapplicable).\n\nNormal,\twarning,\tand\tcritical\tthresholds\tneed\tto\tbe\tset\tfor\teach\tof\tthese\tkey metrics,\tand\tany\tdeviation\tfrom\tthe\tnorm\t(i.e.,\thitting\tthe\twarning\tor\tcritical thresholds)\tshould\ttrigger\tan\talert\tto\tthe\tdevelopers\twho\tare\ton\tcall\tfor\tthe service.\tThresholds\tshould\tbe\tsignal-providing:\thigh\tenough\tto\tavoid\tnoise,\tbut low\tenough\tto\tcatch\tany\tand\tall\treal\tproblems.\n\nAlerts\tneed\tto\tbe\tuseful\tand\tactionable.\tA\tnonactionable\talert\tis\tnot\ta\tuseful alert,\tand\ta\twaste\tof\tengineering\thours.\tEvery\tactionable\talert\t—\tthat\tis,\tevery alert\t—\tshould\tbe\taccompanied\tby\ta\trunbook.\tFor\texample,\tif\tan\talert\tis triggered\ton\ta\thigh\tnumber\tof\texceptions\tof\ta\tcertain\ttype,\tthen\tthere\tneeds\tto\tbe a\trunbook\tcontaining\tmitigation\tstrategies\tthat\tany\ton-call\tdeveloper\tcan\trefer\tto while\tattempting\tto\tresolve\tthe\tproblem.\n\nMONITORING\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\tproperly\tmonitored\tmicroservice\tare:\n\nProper\tlogging\tand\ttracing\tthroughout\tthe\tstack\n\nWell-designed\tdashboards\tthat\tare\teasy\tto\tunderstand\tand\taccurately\treflect\tthe\thealth\tof\tthe\tservice\n\nEffective,\tactionable\talerting\taccompanied\tby\trunbooks\n\nImplementing\tand\tmaintaining\tan\ton-call\trotation\n\nThe\tdetails\tof\tproduction-ready\tmonitoring\trequirements\tare\tcovered\tin\tChapter\t6,\tMonitoring.",
      "content_length": 1396,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 69,
      "content": "Documentation Microservice\tarchitecture\tcarries\tthe\tpotential\tfor\tincreased\ttechnical\tdebt\t—\tit’s one\tof\tthe\tkey\ttrade-offs\tthat\tcome\twith\tadopting\tmicroservices.\tAs\ta\trule, technical\tdebt\ttends\tto\tincrease\twith\tdeveloper\tvelocity:\tthe\tmore\tquickly\ta service\tcan\tbe\titerated\ton,\tchanged,\tand\tdeployed,\tthe\tmore\tfrequently\tshortcuts and\tpatches\twill\tbe\tput\tinto\tplace.\tOrganizational\tclarity\tand\tstructure\taround the\tdocumentation\tand\tunderstanding\tof\ta\tmicroservice\tcut\tthrough\tthis technical\tdebt\tand\tshave\toff\ta\tlot\tof\tthe\tconfusion,\tlack\tof\tawareness,\tand\tlack of\tarchitectural\tcomprehension\tthat\ttend\tto\taccompany\tit.\n\nReducing\ttechnical\tdebt\tisn’t\tthe\tonly\treason\tto\tmake\tgood\tdocumentation\ta production-readiness\tprinciple:\tdoing\tso\twould\tmake\tit\tsomewhat\tof\tan afterthought\t(an\timportant\tafterthought,\tbut\tan\tafterthought\tnonetheless).\tNo, just\tlike\teach\tof\tthe\tother\tproduction-readiness\tstandards,\tdocumentation\tand\tits counterpart\t(understanding)\tdirectly\tand\tmeasurably\tinfluence\tthe\tavailability\tof a\tmicroservice.\n\nTo\tsee\twhy\tthis\tis\ttrue,\twe\tcan\tthink\tabout\thow\tteams\tof\tdevelopers\twork together\tand\tshare\ttheir\tknowledge\tand\tunderstanding\tof\ta\tmicroservice.\tYou can\tdo\tthis\tyourself\tby\tsitting\tone\tof\tyour\tdevelopment\tteams\tin\ta\troom,\tin\tfront of\ta\twhiteboard,\tand\tasking\tthem\tto\tsketch\tthe\tarchitecture\tand\tall\timportant details\tof\tthe\tservice.\tI\tpromise\tyou\twill\tbe\tsurprised\tby\tthe\tresult\tof\tthis exercise,\tand\tyou\twill\tmost\tlikely\tfind\tthat\tknowledge\tand\tunderstanding\tof\tthe service\tis\tnot\tcohesive\tor\tcoherent\tacross\tthe\tgroup.\tOne\tdeveloper\twill\tknow one\tthing\tabout\tthe\tapplication\tthat\tnobody\telse\tdoes,\twhile\ta\tsecond\tdeveloper will\thave\tsuch\ta\tdifferent\tunderstanding\tof\tthe\tmicroservice\tthat\tyou\twill wonder\tif\tthey\tare\teven\tcontributing\tto\tthe\tsame\tcodebase.\tWhen\tit’s\ttime\tfor code\tchanges\tto\tbe\treviewed,\ttechnologies\tto\tbe\tswapped,\tor\tfeatures\tto\tbe added,\tthe\tlack\tof\talignment\tof\tknowledge\tand\tunderstanding\twill\tlead\tto\tthe design\tand/or\tevolution\tof\tmicroservices\tthat\tare\tnot\tproduction-ready, containing\tserious\tflaws\tthat\tundermine\tthe\tservice’s\tability\tto\treliably\tserve production\ttraffic.\n\nThis\tconfusion\tand\tthe\tproblems\tthat\tit\tcreates\tcan\tbe\tsuccessfully\tand\trather easily\tavoided\tby\trequiring\tthat\tevery\tmicroservice\tfollow\ta\tvery\tstrictly standardized\tset\tof\tdocumentation\trequirements.\tDocumentation\tneeds\tto contain\tall\tthe\tessential\tknowledge\t(facts)\tabout\ta\tmicroservice,\tincluding\tan architecture\tdiagram,\tan\tonboarding\tand\tdevelopment\tguide,\tdetails\tabout\tthe",
      "content_length": 2511,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 70,
      "content": "architecture\tdiagram,\tan\tonboarding\tand\tdevelopment\tguide,\tdetails\tabout\tthe request\tflow\tand\tany\tAPI\tendpoints,\tand\tan\ton-call\trunbook\tfor\teach\tof\tthe service’s\talerts.\n\nUnderstanding\tof\ta\tmicroservice\tcan\tbe\taccomplished\tin\tseveral\tways.\tThe\tfirst is\tby\tdoing\tthe\texercise\tI\tjust\tmentioned:\tstick\tthe\tdevelopment\tteam\tin\ta conference\troom,\tand\task\tthem\tto\twhiteboard\tthe\tarchitecture\tof\tthe\tservice. Thanks\tto\tour\told\tfriend,\tthe\tever-present\tincreased\tdeveloper\tvelocity, microservices\tchange\tradically\tat\tdifferent\ttimes\tthroughout\ttheir\tlifecycle.\tBy making\tthese\tarchitecture\treviews\tpart\tof\teach\tteam’s\tprocess\tand\tscheduling them\tregularly,\tyou\tcan\tguarantee\tthat\tknowledge\tand\tunderstanding\tabout\tany changes\tin\tthe\tmicroservice\twill\tbe\tdisseminated\tto\tthe\tentire\tteam.\n\nTo\tcover\tthe\tsecond\taspect\tof\tmicroservice\tunderstanding,\twe\tneed\tto\tjump\tup by\tone\tlevel\tof\tabstraction\tand\tconsider\tthe\tproduction-readiness\tstandards themselves.\tA\tgreat\tdeal\tof\tmicroservice\tunderstanding\tis\tcaptured\tby determining\twhether\ta\tmicroservice\tis\tproduction-ready\tand\twhere\tit\tstands\twith regard\tto\tthe\tproduction-readiness\tstandards\tand\ttheir\tindividual\trequirements. This\tcan\tbe\taccomplished\tin\ta\tmyriad\tof\tways,\tone\tof\twhich\tis\trunning\taudits\tof whether\ta\tmicroservice\tmeets\tthe\trequirements,\tand\tthen\tcreating\ta\troadmap\tfor the\tservice\tdetailing\thow\tto\tbring\tit\tto\ta\tproduction-ready\tstate.\tChecking\tthe requirements\tcan\talso\tbe\tautomated\tacross\tthe\torganization.\tWe’ll\tdive\tinto other\taspects\tof\tthis\tin\tmore\tdetail\tin\tthe\tnext\tsection\ton\tthe\timplementation\tof production-readiness\tstandards\tin\tan\torganization\tthat\thas\tadopted\tmicroservice architecture.\n\nDOCUMENTATION\tREQUIREMENTS\n\nThe\trequirements\tof\tbuilding\ta\twell-documented\tmicroservice\tare:\n\nThorough,\tupdated,\tand\tcentralized\tdocumentation\tcontaining\tall\tof\tthe\trelevant\tand\tessential\n\ninformation\tabout\tthe\tmicroservice\n\nOrganizational\tunderstanding\tat\tthe\tdeveloper,\tteam,\tand\tecosystem\tlevels\n\nThe\tdetails\tof\tproduction-ready\tdocumentation\trequirements\tare\tcovered\tin\tChapter\t7, Documentation\tand\tUnderstanding.",
      "content_length": 2072,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 71,
      "content": "Implementing\tProduction-Readiness We\tnow\thave\ta\tset\tof\tstandards\tthat\tapply\tto\tevery\tmicroservice\tin\tany microservice\tecosystem,\teach\twith\tits\town\tset\tof\tspecific\trequirements.\tAny microservice\tthat\tsatisfies\tthese\trequirements\tcan\tbe\ttrusted\tto\tserve\tproduction traffic\tand\tguarantee\ta\thigh\tlevel\tof\tavailability.\n\nNow\tthat\twe\thave\tthe\tproduction-readiness\tstandards,\tthe\tquestion\tthat\tremains is\thow\twe\tcan\timplement\tthem\tin\ta\tspecialized,\treal-world\tmicroservice ecosystem.\tGoing\tfrom\tprinciple\tto\tpractice\tand\tapplying\ttheory\tto\treal-world applications\talways\tpresents\tus\twith\tsome\tsignificant\tlevel\tof\tdifficulty. However,\tthe\tpower\tof\tthese\tproduction-readiness\tstandards\tand\tthe requirements\tthey\timpose\tlies\tin\ttheir\tremarkable\tapplicability\tand\tstrict granularity:\tthey\tare\tboth\tgeneral\tenough\tto\tapply\tto\tany\tecosystem,\tyet\tspecific enough\tto\tprovide\tconcrete\tstrategies\tfor\timplementation.\n\nStandardization\trequires\tbuy-in\tfrom\tall\tlevels\tof\tthe\torganization,\tand\tmust\tbe adopted\tand\tdriven\tboth\tfrom\tthe\ttop-down\tand\tfrom\tthe\tbottom-up.\tAt\tthe executive\tand\tleadership\t(managerial\tand\ttechnical)\tlevels,\tthese\tprinciples\tneed to\tbe\tdriven\tand\tsupported\tas\tarchitectural\trequirements\tfor\tthe\tengineering organization.\tOn\tthe\tground\tfloor,\twithin\tindividual\tdevelopment\tteams, standardization\tneeds\tto\tbe\tembraced\tand\timplemented.\tImportantly, standardization\tneeds\tto\tbe\tseen\tand\tcommunicated\tnot\tas\ta\thindrance\tor\tgate\tto development\tand\tdeployment,\tbut\tas\ta\tguide\tfor\tproduction-ready\tdevelopment and\tdeployment.\n\nMany\tdevelopers\tmay\tresist\tstandardization.\tAfter\tall,\tthey\tmay\targue,\tisn’t\tthe point\tof\tadopting\tmicroservice\tarchitecture\tto\tprovide\tgreater\tdeveloper velocity,\tfreedom,\tand\tproductivity?\tThe\tanswer\tto\tthese\tsorts\tof\tobjections\tis not\tto\tdeny\tthat\tthe\tadoption\tof\tmicroservice\tarchitecture\tbrings\tfreedom\tand velocity\tto\tdevelopment\tteams,\tbut\tto\tagree\tand\tpoint\tout\tthat\tthat\tis\texactly\twhy production-readiness\tstandards\tneed\tto\tbe\tin\tplace.\tDeveloper\tvelocity\tand productivity\tgrind\tto\ta\thalt\twhenever\tan\toutage\tbrings\ta\tservice\tdown,\twhenever a\tbad\tdeploy\tcompromises\tthe\tavailability\tof\ta\tmicroservice’s\tclients\tand dependencies,\twhenever\ta\tfailure\tthat\tcould\thave\tbeen\tavoided\twith\tproper resiliency\ttesting\tbrings\tthe\tentire\tmicroservice\tecosystem\tdown.\tIf\twe’ve learned\tanything\tin\tthe\tpast\t50\tyears\tabout\tsoftware\tdevelopment,\twe’ve\tlearned",
      "content_length": 2379,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 72,
      "content": "that\tstandardization\tbrings\tfreedom\tand\treduces\tentropy.\tAs\tBrooks\tsays\tin\tThe Mythical\tMan-Month,\tperhaps\tthe\tgreatest\tcollection\tof\tessays\ton\tthe\tpractice\tof software\tengineering,\t“form\tis\tliberating.”\n\nOnce\tthe\tengineering\torganization\thas\tadopted\tand\tagreed\tto\tfollow\tproduction- readiness\tstandards,\tthe\tnext\tstep\tis\tto\tevaluate\tand\telaborate\ton\teach\tstandard’s requirements.\tThe\trequirements\tpresented\there\tand\tdetailed\tthroughout\tthis\tbook are\tvery\tgeneral\tand\tneed\tthe\taddition\tof\tcontext\tand\torganization-specific details\tand\timplementation\tstrategies.\tWhat\tneeds\tto\tbe\tdone\tis\tto\twork\tthrough each\tproduction-readiness\tstandard\tand\tits\trequirements\tand\tto\tfigure\tout\thow each\trequirement\tcan\tbe\timplemented\tin\tthe\tengineering\torganization.\tFor example,\tif\tthe\torganization’s\tmicroservice\tecosystem\thas\ta\tself-service deployment\ttool,\tthen\timplementing\ta\tstable\tand\treliable\tdeployment\tprocess needs\tto\tbe\tcommunicated\tin\tterms\tof\tthe\tinternal\tdeployment\ttool\tand\thow\tit works.\tRebuilding\tinternal\ttools\tand/or\tadding\tfeatures\tto\tthem\tmay\talso\tcome out\tof\tthis\texercise.\n\nThe\tactual\timplementation\tof\tthe\trequirements\tand\tdetermining\twhether\tor\tnot\ta given\tmicroservice\tmeets\tthem\tcan\tbe\tdone\tby\tthe\tdevelopers\tthemselves,\tby team\tleads,\tby\tmanagement,\tor\tby\toperations\t(systems,\tDevOps,\tor\tsite reliability)\tengineers.\tAt\tboth\tUber\tand\tthe\tseveral\tother\tcompanies\tI\tknow\tthat have\tadopted\tproduction-readiness\tstandardization,\tthe\timplementation\tand enforcement\tof\tthe\tproduction-readiness\tstandards\tis\tdriven\tby\tthe\tsite\treliability engineering\t(SRE)\torganizations.\tTypically,\tSREs\tare\tresponsible\tfor\tthe availability\tof\tthe\tservices,\tand\tso\tdriving\tthese\tstandards\tacross\tthe microservice\tecosystem\tfits\tin\tquite\twell\twith\texisting\tresponsibilities.\tThat\tisn’t to\tsay\tthat\tthe\tdevelopers\tor\tdevelopment\tteams\thave\tno\tresponsibility\tfor ensuring\ttheir\tservices\tare\tproduction-ready;\trather,\tSREs\tinform,\tdrive,\tand enforce\tproduction-readiness\twithin\tthe\tmicroservice\tecosystem,\tand\tthe responsibility\tof\timplementation\tfalls\ton\tboth\tthe\tSREs\tembedded\twithin development\tteams\tand\ton\tthe\tdevelopers\tthemselves.\n\nBuilding\tand\tmaintaining\ta\tproduction-ready\tmicroservice\tecosystem\tis\tnot\tan easy\tchallenge\tto\tundertake,\tbut\tthe\trewards\tare\tgreat,\tand\tthe\timpact\tcan\tbe seen\tso\tclearly\tin\tthe\tincreased\tavailability\tof\teach\tmicroservice.\tImplementing production-readiness\tstandards\tand\ttheir\trequirements\tprovides\tmeasurable results,\tand\tmeans\tthat\tdevelopment\tteams\tcan\twork\tknowing\tthat\tthe\tservices they\tdepend\ton\tare\ttrustworthy,\tthat\tthey\tare\tstable,\treliable,\tfault\ttolerant, performant,\tmonitored,\tdocumented,\tand\tprepared\tfor\tany\tcatastrophe.",
      "content_length": 2659,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 73,
      "content": "Chapter\t3.\tStability\tand\tReliability\n\nA\tproduction-ready\tmicroservice\tis\tstable\tand\treliable.\tBoth\tindividual microservices\tand\tthe\toverall\tmicroservice\tecosystem\tare\tconstantly\tchanging and\tevolving,\tand\tany\tefforts\tmade\tto\tincrease\tthe\tstability\tand\treliability\tof\ta microservice\tgo\ta\tlong\tway\ttoward\tensuring\tthe\thealth\tand\tavailability\tof\tthe overall\tecosystem.\tIn\tthis\tchapter,\tdifferent\tways\tto\tbuild\tand\trun\ta\tstable\tand reliable\tmicroservice\tare\texplored,\tincluding\tstandardizing\tthe\tdevelopment process,\tbuilding\tcomprehensive\tdeployment\tpipelines,\tunderstanding dependencies\tand\tprotecting\tagainst\ttheir\tfailures,\tbuilding\tstable\tand\treliable routing\tand\tdiscovery,\tand\testablishing\tappropriate\tdeprecation\tand decommissioning\tprocedures\tfor\told\tor\toutdated\tmicroservices\tand/or\ttheir endpoints.",
      "content_length": 805,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 74,
      "content": "Principles\tof\tBuilding\tStable\tand\tReliable Microservices Microservice\tarchitecture\tlends\titself\tto\tfast-paced\tdevelopment.\tThe\tfreedom offered\tby\tmicroservices\tmeans\tthat\tthe\tecosystem\twill\tbe\tin\ta\tstate\tof continuous\tchange,\tnever\tstatic,\talways\tevolving.\tFeatures\twill\tbe\tadded\tevery day,\tnew\tbuilds\twill\tbe\tdeployed\tmultiple\ttimes\tper\tday,\tand\told\ttechnologies will\tbe\tswapped\tfor\tnewer\tand\tbetter\tones\tat\tan\tastounding\tpace.\tThis\tfreedom and\tflexibility\tgives\trise\tto\treal,\ttangible\tinnovation,\tbut\tcomes\tat\ta\tgreat\tcost.\n\nInnovation,\tincreased\tdeveloper\tvelocity\tand\tproductivity,\trapid\ttechnological advancement,\tand\tthe\tever-changing\tmicroservice\tecosystem\tcan\tall\tvery quickly\tbe\tbrought\tto\ta\tscreeching\thalt\tif\tany\tpiece\tof\tthe\tmicroservice ecosystem\tbecomes\tunstable\tor\tunreliable.\tIn\tsome\tcases,\tall\tit\ttakes\tto\tbring\tthe entire\tbusiness\tdown\tis\tdeploying\ta\tbroken\tbuild\tor\ta\tbuild\tcontaining\ta\tbug\tto one\tbusiness-critical\tmicroservice.\n\nA\tstable\tmicroservice\tis\tone\tfor\twhich\tdevelopment,\tdeployment,\tthe\tadoption of\tnew\ttechnologies,\tand\tthe\tdecommissioning\tor\tdeprecation\tof\tother\tservices do\tnot\tgive\trise\tto\tinstability\tacross\tthe\tlarger\tmicroservice\tecosystem.\tThis requires\tputting\tmeasures\tinto\tplace\tto\tprotect\tagainst\tthe\tnegative\tconsequences that\tmay\tbe\tintroduced\tby\tthese\ttypes\tof\tchanges.\tA\treliable\tmicroservice\tis\tone that\tcan\tbe\ttrusted\tby\tother\tmicroservices\tand\tby\tthe\toverall\tecosystem.\tStability goes\thand\tin\thand\twith\treliability\tbecause\teach\tstability\trequirement\tcarries\twith it\ta\treliability\trequirement\t(and\tvice\tversa):\tfor\texample,\tstable\tdeployment processes\tare\taccompanied\tby\ta\trequirement\tthat\teach\tnew\tdeployment\tdoes\tnot compromise\tthe\treliability\tof\tthe\tmicroservice\tfrom\tthe\tpoint\tof\tview\tof\tone\tof their\tclients\tor\tdependencies.\n\nThere\tare\tseveral\tthings\tthat\tcan\tbe\tdone\tto\tensure\tthat\ta\tmicroservice\tis\tstable and\treliable.\tA\tstandardized\tdevelopment\tcycle\tcan\tbe\timplemented\tto\tprotect against\tpoor\tdevelopment\tpractices.\tThe\tdeployment\tprocess\tcan\tbe\tdesigned\tso that\tchanges\tto\tthe\tcode\tare\tforced\tto\tpass\tthrough\tmultiple\tstages\tbefore\tbeing rolled\tout\tto\tall\tproduction\tservers.\tDependency\tfailures\tcan\tbe\tprotected against.\tHealth\tchecks,\tproper\trouting,\tand\tcircuit\tbreaking\tcan\tbe\tbuilt\tinto\tthe routing\tand\tdiscovery\tchannels\tto\thandle\tanomalous\ttraffic\tpatterns.\tFinally, microservices\tand\ttheir\tendpoints\tcan\tbe\tdeprecated\tand/or\tdecommissioned without\tcausing\tany\tfailures\tfor\tother\tmicroservices.",
      "content_length": 2461,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 75,
      "content": "A\tPRODUCTION-READY\tSERVICE\tIS\tSTABLE\tAND\tRELIABLE\n\nIt\thas\ta\tstandardized\tdevelopment\tcycle.\n\nIts\tcode\tis\tthoroughly\ttested\tthrough\tlint,\tunit,\tintegration,\tand\tend-to-end\ttesting.\n\nIts\ttest,\tpackaging,\tbuild,\tand\trelease\tprocess\tis\tcompletely\tautomated.\n\nIt\thas\ta\tstandardized\tdeployment\tpipeline,\tcontaining\tstaging,\tcanary,\tand\tproduction\tphases.\n\nIts\tclients\tare\tknown.\n\nIts\tdependencies\tare\tknown,\tand\tthere\tare\tbackups,\talternatives,\tfallbacks,\tand\tcaching\tin\tplace\tin\n\ncase\tof\tfailures.\n\nIt\thas\tstable\tand\treliable\trouting\tand\tdiscovery\tin\tplace.",
      "content_length": 552,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 76,
      "content": "The\tDevelopment\tCycle The\tstability\tand\treliability\tof\ta\tmicroservice\tbegins\twith\tthe\tindividual developer\twho\tis\tcontributing\tcode\tto\tthe\tservice.\tThe\tmajority\tof\toutages\tand microservice\tfailures\tare\tcaused\tby\tbugs\tintroduced\tinto\tthe\tcode\tthat\twere\tnot caught\tin\tthe\tdevelopment\tphase,\tin\tany\tof\tthe\ttests,\tor\tat\tany\tstep\tin\tthe deployment\tprocess.\tMitigating\tand\tresolving\tthese\toutages\tand\tfailures\tusually entails\tnothing\tmore\tthan\trolling\tback\tto\tthe\tlatest\tstable\tbuild,\treverting whatever\tcommit\tcontained\tthe\tbug,\tand\tre-deploying\ta\tnew\t(bug-less)\tversion of\tthe\tcode.",
      "content_length": 578,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 77,
      "content": "THE\tTRUE\tCOST\tOF\tUNSTABLE\tAND\tUNRELIABLE DEVELOPMENT\n\nA\tmicroservice\tecosystem\tis\tnot\tthe\tWild\tWest.\tEvery\toutage,\tevery\tincident,\tand\tevery\tbug can\tand\twill\tcost\tthe\tcompany\tthousands\t(if\tnot\tmillions)\tof\tdollars\tin\tengineering\thours\tand lost\trevenue.\tSafeguards\tneed\tto\tbe\tin\tplace\tduring\tthe\tdevelopment\tcycle\t(and,\tas\twe\twill\tsee, in\tthe\tdeployment\tpipeline)\tto\tcatch\tevery\tbug\tbefore\tit\thits\tproduction.\n\nA\tstable\tand\treliable\tdevelopment\tcycle\thas\tseveral\tsteps\t(Figure\t3-1).",
      "content_length": 481,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 79,
      "content": "Figure\t3-1.\tThe\tdevelopment\tcycle\n\nFirst,\tthe\tdeveloper\tmakes\ta\tchange\tto\tthe\tcode.\tThis\twill\tusually\tbegin\twith checking\ta\tcopy\tof\tthe\tcode\tout\tfrom\ta\tcentral\trepository\t(usually\tusing\tgit\tor svn),\tcreating\tan\tindividual\tbranch\twhere\tthey\twill\tmake\tchanges,\tadding\ttheir changes\tto\ttheir\tbranch,\tand\trunning\tany\tunit\tand\tintegration\ttests.\tThis\tstage\tof development\tcan\thappen\tanywhere:\tlocally\ton\ta\tdeveloper’s\tlaptop\tor\ton\ta server\tin\ta\tdevelopment\tenvironment.\tA\treliable\tdevelopment\tenvironment\t— one\tthat\taccurately\tmirrors\tthe\tproduction\tworld\t—\tis\tkey,\tespecially\tif\ttesting the\tservice\tin\tquestion\trequires\tmaking\trequests\tto\tother\tmicroservices\tor reading\tor\twriting\tdata\tto\ta\tdatabase.\n\nOnce\tthe\tcode\thas\tbeen\tcommitted\tto\tthe\tcentral\trepository,\tthe\tsecond\tstep consists\tin\thaving\tthe\tchange(s)\treviewed\tcarefully\tand\tthoroughly\tby\tother engineers\ton\tthe\tteam.\tIf\tall\treviewers\thave\tapproved\tthe\tchange(s),\tand\tall\tlint, unit,\tand\tintegration\ttests\thave\tpassed\ton\ta\tnew\tbuild,\tthe\tchange\tcan\tbe\tmerged into\tthe\trepository\t(see\tChapter\t5,\tFault\tTolerance\tand\tCatastrophe- Preparedness,\tfor\tmore\ton\tlint,\tunit,\tand\tintegration\ttests).\tThen,\tand\tonly\tthen, can\tthe\tnew\tchange\tbe\tintroduced\tinto\tthe\tdeployment\tpipeline.",
      "content_length": 1228,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 80,
      "content": "TEST\tBEFORE\tCODE\tREVIEW\n\nOne\tway\tto\tensure\tthat\tall\tbugs\tare\tcaught\tbefore\tthey\thit\tproduction\tis\tto\trun\tall\tlint,\tunit, integration,\tand\tend-to-end\ttests\tbefore\tthe\tcode\treview\tphase.\tThis\tcan\tbe\taccomplished\tby having\tdevelopers\twork\ton\ta\tseparate\tbranch,\tkicking\toff\tall\ttests\ton\tthat\tbranch\tas\tsoon\tas\tthe developer\tsubmits\tit\tfor\tcode\treview,\tand\tthen\tonly\tallowing\tit\tto\treach\tcode\treview\t(or\tonly allowing\tit\tto\tbe\tbuilt)\tafter\tit\tsuccessfully\tpasses\tall\ttests.\n\nAs\tmentioned\tin\tthe\tsection\ton\tlayer\t4\tof\tthe\tmicroservice\tecosystem\tin Chapter\t1,\tMicroservices,\ta\tlot\thappens\tin\tbetween\tthe\tdevelopment\tcycle\tand the\tdeployment\tpipeline.\tThe\tnew\trelease\tneeds\tto\tbe\tpackaged,\tbuilt,\tand thoroughly\ttested\tbefore\treaching\tthe\tfirst\tstage\tof\tthe\tdeployment\tpipeline.",
      "content_length": 770,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 81,
      "content": "The\tDeployment\tPipeline There\tis\ta\tgreat\tdeal\tof\troom\tfor\thuman\terror\tin\tmicroservice\tecosystems, especially\twhere\tdeployment\tpractices\tare\tconcerned,\tand\t(as\tI\tmentioned earlier)\tthe\tmajority\tof\toutages\tin\tlarge-scale\tproduction\tsystems\tare\tcaused\tby bad\tdeployments.\tConsider\tthe\torganizational\tsprawl\tthat\taccompanies\tthe adoption\tof\tmicroservice\tarchitecture\tand\twhat\tit\tentails\tfor\tthe\tdeployment process:\tyou\thave,\tat\tthe\tvery\tleast,\tdozens\t(if\tnot\thundreds\tor\tthousands)\tof independent,\tisolated\tteams\twho\tare\tdeploying\tchanges\tto\ttheir\tmicroservices\ton their\town\tschedules,\tand\toften\twithout\tcross-team\tcoordination\tbetween\tclients and\tdependencies.\tIf\tsomething\tgoes\twrong,\tif\ta\tbug\tis\tintroduced\tinto production,\tor\tif\ta\tservice\tis\ttemporarily\tunavailable\tduring\tdeployment,\tthen the\tentire\tecosystem\tcan\tbe\tnegatively\taffected.\tTo\tensure\tthat\tthings\tgo\twrong with\tless\tfrequency,\tand\tthat\tany\tfailures\tcan\tbe\tcaught\tbefore\tbeing\trolled\tout to\tall\tproduction\tservers,\tintroducing\ta\tstandardized\tdeployment\tpipeline\tacross the\tengineering\torganization\tcan\thelp\tensure\tstability\tand\treliability\tacross\tthe ecosystem.\n\nI\trefer\tto\tthe\tdeployment\tprocess\there\tas\ta\t“pipeline”\tbecause\tthe\tmost trustworthy\tdeployments\tare\tthose\tthat\thave\tbeen\trequired\tto\tpass\ta\tset\tof\ttests before\treaching\tproduction\tservers.\tWe\tcan\tfit\tthree\tseparate\tstages\tor\tphases into\tthis\tpipeline\t(Figure\t3-2):\tfirst,\twe\tcan\ttest\ta\tnew\trelease\tin\ta\tstaging environment;\tsecond,\tif\tit\tpasses\tthe\tstaging\tphase,\twe\tcan\tdeploy\tit\tto\ta\tsmall canary\tenvironment,\twhere\tit\twill\tserve\t5%–10%\tof\tproduction\ttraffic;\tand third,\tif\tit\tpasses\tthe\tcanary\tphase,\twe\tcan\tslowly\troll\tit\tout\tto\tproduction\tservers until\tit\thas\tbeen\tdeployed\tto\tevery\thost.",
      "content_length": 1719,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 82,
      "content": "Figure\t3-2.\tStages\tof\ta\tstable\tand\treliable\tdeployment\tpipeline",
      "content_length": 63,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 83,
      "content": "Staging Any\tnew\trelease\tcan\tfirst\tbe\tdeployed\tto\ta\tstaging\tenvironment.\tA\tstaging environment\tshould\tbe\tan\texact\tcopy\tof\tthe\tproduction\tenvironment:\tit\tis\ta reflection\tof\tthe\tstate\tof\tthe\treal\tworld,\tbut\twithout\treal\ttraffic.\tStaging environments\tusually\taren’t\trunning\tat\tthe\tsame\tscale\tas\tproduction\t(i.e.,\tthey typically\taren’t\trun\twith\tthe\tsame\tnumber\tof\thosts\tas\tproduction,\ta\tphenomenon also\tknown\tas\thost\tparity),\tbecause\trunning\twhat\twould\tamount\tto\ttwo\tseparate ecosystems\tcan\tpresent\ta\tlarge\thardware\tcost\tto\tthe\tcompany.\tHowever,\tsome engineering\torganizations\tmay\tdetermine\tthat\tthe\tonly\tway\tto\taccurately\tcopy the\tproduction\tenvironment\tin\ta\tstable\tand\treliable\tway\tis\tto\tbuild\tan\tidentical staging\tenvironment\twith\thost\tparity.\n\nFor\tmost\tengineering\torganizations,\tdetermining\tthe\thardware\tcapacity\tand\tscale of\tthe\tstaging\tenvironment\tas\ta\tpercentage\tof\tproduction\tis\tusually\taccurate enough.\tThe\tnecessary\tstaging\tcapacity\tcan\tbe\tdetermined\tby\tthe\tmethod\twe will\tuse\tto\ttest\tthe\tmicroservice\twithin\tthe\tstaging\tphase.\tTo\ttest\tin\tthe\tstaging environment,\twe\thave\tseveral\toptions:\twe\tcan\trun\tmock\t(or\trecorded)\ttraffic through\tthe\tmicroservice;\twe\tcan\ttest\tit\tmanually\tby\thitting\tits\tendpoints\tand evaluating\tits\tresponses;\twe\tcan\trun\tautomated\tunit,\tintegration,\tand\tother specialized\ttests;\tor\twe\tcan\ttest\teach\tnew\trelease\twith\tany\tcombination\tof\tthese methods.",
      "content_length": 1377,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 84,
      "content": "TREAT\tSTAGING\tAND\tPRODUCTION\tAS\tSEPARATE DEPLOYMENTS\tOF\tTHE\tSAME\tSERVICE\n\nYou\tmay\tbe\ttempted\tto\trun\tstaging\tand\tproduction\tas\tseparate\tservices\tand\tstore\tthem\tin separate\trepositories.\tThis\tcan\tbe\tdone\tsuccessfully,\tbut\tit\trequires\tthat\tchanges\tbe synchronized\tacross\tboth\tservices\tand\trepositories,\tincluding\tconfiguration\tchanges\t(which are\toften\tforgotten\tabout).\tIt’s\tmuch\teasier\tto\ttreat\tstaging\tand\tproduction\tas\tseparate “deployments”\tor\t“phases”\tof\tthe\tsame\tmicroservice.\n\nEven\tthough\tstaging\tenvironments\tare\ttesting\tenvironments,\tthey\tdiffer\tfrom both\tthe\tdevelopment\tphase\tand\tthe\tdevelopment\tenvironment\tin\tthat\ta\trelease that\thas\tbeen\tdeployed\tto\tstaging\tis\ta\trelease\tthat\tis\ta\tcandidate\tfor\tproduction. A\tcandidate\tfor\tproduction\tmust\thave\talready\tsuccessfully\tpassed\tlint\ttests,\tunit tests,\tintegration\ttests,\tand\tcode\treview\tbefore\tbeing\tdeployed\tto\ta\tstaging environment.\n\nDeploying\tto\ta\tstaging\tenvironment\tshould\tbe\ttreated\tby\tdevelopers\twith\tthe same\tseriousness\tand\tcaution\tas\tdeploying\tto\tproduction.\tIf\ta\trelease\tis successfully\tdeployed\tto\tstaging,\tit\tcan\tbe\tautomatically\tdeployed\tto\tcanaries, which\twill\tbe\trunning\tproduction\ttraffic.\n\nSetting\tup\tstaging\tenvironments\tin\ta\tmicroservice\tecosystem\tcan\tbe\tdifficult, due\tto\tthe\tcomplexities\tintroduced\tby\tdependencies.\tIf\tyour\tmicroservice depends\ton\tnine\tother\tmicroservices,\tthen\tit\trelies\ton\tthose\tdependencies\tto\tgive accurate\tresponses\twhen\trequests\tare\tsent\tand\treads\tor\twrites\tto\tthe\trelevant database(s)\tare\tmade.\tAs\ta\tconsequence\tof\tthese\tcomplexities,\tthe\tsuccess\tof\ta staging\tenvironment\thinges\ton\tthe\tway\tstaging\tis\tstandardized\tacross\tthe company.\n\nFull\tstaging\tThere\tare\tseveral\tways\tthat\tthe\tstaging\tphase\tof\tthe\tdeployment pipeline\tcan\tbe\tconfigured.\tThe\tfirst\tis\tfull\tstaging\t(Figure\t3-3),\twhere\ta separate\tstaging\tecosystem\tis\trunning\tas\ta\tcomplete\tmirror\tcopy\tof\tthe\tentire production\tecosystem\t(though\tnot\tnecessarily\twith\thost\tparity).\tFull\tstaging\tstill runs\ton\tthe\tsame\tcore\tinfrastructure\tas\tproduction,\tbut\tthere\tare\tseveral\tkey differences.\tStaging\tenvironments\tof\tthe\tservices\tare,\tat\tthe\tvery\tleast,\tmade accessible\tto\tother\tservices\tby\tstaging-specific\tfrontend\tand\tbackend\tports. Importantly,\tstaging\tenvironments\tin\ta\tfull-staging\tecosystem\tcommunicate\tonly with\tthe\tstaging\tenvironments\tof\tother\tservices,\tand\tnever\tsend\tany\trequests\tor",
      "content_length": 2341,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 85,
      "content": "receive\tany\tresponses\tfrom\tany\tservices\trunning\tin\tproduction\t(which\tmeans sending\ttraffic\tto\tproduction\tports\tfrom\tstaging\tis\toff\tlimits).\n\nFigure\t3-3.\tFull\tstaging\n\nFull\tstaging\trequires\tevery\tmicroservice\tto\thave\ta\tfully\tfunctional\tstaging environment\tthat\tother\tmicroservices\tcan\tcommunicate\twith\twhen\tnew\treleases are\tdeployed.\tCommunicating\twith\tother\tmicroservices\twithin\tthe\tstaging",
      "content_length": 390,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 86,
      "content": "are\tdeployed.\tCommunicating\twith\tother\tmicroservices\twithin\tthe\tstaging ecosystem\tcan\tbe\taccomplished\teither\tby\twriting\tspecific\ttests\tthat\tare\tkicked off\twhen\ta\tnew\tbuild\tis\tdeployed\tto\tthe\tstaging\tenvironment,\tor\tas\tmentioned, by\trunning\told\trecorded\tproduction\ttraffic\tor\tmock\ttraffic\tthrough\tthe\tservice being\tdeployed\talong\twith\tall\tupstream\tand\tdownstream\tdependencies.\n\nFull\tstaging\talso\trequires\tcareful\thandling\tof\ttest\tdata:\tstaging\tenvironments should\tnever\thave\twrite\taccess\tto\tany\tproduction\tdatabases,\tand\tgranting\tread access\tto\tproduction\tdatabases\tis\tdiscouraged\tas\twell.\tBecause\tfull\tstaging\tis designed\tto\tbe\ta\tcomplete\tmirror\tcopy\tof\tproduction,\tevery\tmicroservice\tstaging environment\tshould\tcontain\ta\tseparate\ttest\tdatabase\tthat\tit\tcan\tread\tfrom\tand write\tto.",
      "content_length": 780,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 87,
      "content": "RISKS\tOF\tFULL\tSTAGING\n\nCaution\tneeds\tto\tbe\ttaken\twhen\timplementing\tand\tdeploying\tfull\tstaging\tenvironments, because\tnew\treleases\tof\tservices\twill\talmost\talways\tbe\tcommunicating\twith\tother\tnew releases\tof\tany\tupstream\tand\tdownstream\tdependencies\t—\tthis\tmay\tnot\tbe\tan\taccurate reflection\tof\tthe\treal\tworld.\tEngineering\torganizations\tmay\tneed\tto\trequire\tteams\tto coordinate\tand/or\tschedule\tdeployments\tto\tstaging\tto\tavoid\tthe\tdeployment\tof\tone\tservice breaking\tthe\tstaging\tenvironment\tfor\tall\tother\trelated\tservices.\n\nPartial\tstaging\tThe\tsecond\ttype\tof\tstaging\tenvironment\tis\tknown\tas\tpartial staging.\tAs\tthe\tname\tsuggests,\tit\tis\tnot\ta\tcomplete\tmirror\tcopy\tof\tthe\tproduction environment.\tRather,\teach\tmicroservice\thas\tits\town\tstaging\tenvironment,\twhich is\ta\tpool\tof\tservers\twith\t(at\tthe\tvery\tleast)\tstaging-specific\tfrontend\tand\tbackend ports,\tand\twhen\tnew\tbuilds\tare\tintroduced\tinto\tthe\tstaging\tphase,\tthey communicate\twith\tthe\tupstream\tclients\tand\tdownstream\tdependencies\tthat\tare running\tin\tproduction\t(Figure\t3-4).",
      "content_length": 1015,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 88,
      "content": "Figure\t3-4.\tPartial\tstaging\n\nPartial\tstaging\tdeployments\tshould\thit\tall\tproduction\tendpoints\tof\ta",
      "content_length": 97,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 89,
      "content": "Partial\tstaging\tdeployments\tshould\thit\tall\tproduction\tendpoints\tof\ta microservice’s\tclients\tand\tdependencies\tto\tmimic\tthe\tstate\tof\tthe\tactual\tworld\tas accurately\tas\tpossible.\tSpecific\tstaging\ttests\twill\tneed\tto\tbe\twritten\tand\trun\tto accomplish\tthis,\tand\tevery\tnew\tfeature\tadded\tshould\tprobably\tbe\taccompanied by\tat\tleast\tone\tadditional\tstaging\ttest\tto\tensure\tthat\tit\tis\ttested\tthoroughly.",
      "content_length": 388,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 90,
      "content": "RISKS\tOF\tPARTIAL\tSTAGING\n\nBecause\tmicroservices\twith\tpartial\tstaging\tenvironments\tcommunicate\twith\tproduction microservices,\textreme\tcare\tmust\tbe\ttaken.\tEven\tthough\tpartial\tstaging\tis\trestricted\tto\tread- only\trequests,\tproduction\tservices\tcan\teasily\tbe\ttaken\tdown\tby\tbad\tstaging\tdeploys\tthat\tsend bad\trequests\tand/or\toverload\tproduction\tservices\twith\ttoo\tmany\trequests.\n\nThese\ttypes\tof\tstaging\tenvironments\tshould\talso\tbe\trestricted\tto\tread-only database\taccess:\ta\tstaging\tenvironment\tshould\tnever\twrite\tto\ta\tproduction database.\tHowever,\tsome\tmicroservices\tmay\tbe\tvery\twrite-heavy,\tand\ttesting the\twrite\tfunctionality\tof\ta\tnew\tbuild\twill\tbe\tessential.\tThe\tmost\tcommon\tway of\tdoing\tthis\tis\tto\tmark\tany\tdata\twritten\tby\ta\tstaging\tenvironment\tas\ttest\tdata (this\tis\tknown\tas\ttest\ttenancy),\tbut\tthe\tsafest\tway\tto\tdo\tthis\tis\tto\twrite\tto\ta separate\ttest\tdatabase,\tsince\tgiving\twrite\taccess\tto\ta\tstaging\tenvironment\tstill runs\tthe\trisk\tof\taltering\treal-world\tdata.\tSee\tTable\t3-1\tfor\ta\tcomparison\tof\tfull and\tpartial\tstaging\tenvironments.\n\nTable\t3-1.\tFull\tversus\tpartial\tstaging\tenvironments\n\nFull\tstaging\t \tPartial\tstaging\n\nComplete\tcopy\tof\tproduction\tenvironment\n\nYes\n\nNo\n\nSeparate\tstaging\tfrontend\tand\tbackend\tports\n\nYes\n\nYes\n\nAccess\tto\tproduction\tservices\n\nNo\n\nYes\n\nRead\taccess\tto\tproduction\tdatabases\n\nNo\n\nYes\n\nWrite\taccess\tto\tproduction\tdatabases\n\nNo\n\nYes\n\nRequires\tautomated\trollbacks\n\nNo\n\nYes\n\nStaging\tenvironments\t(full\tor\tpartial)\tshould\thave\tdashboards,\tmonitoring,\tand logging\tjust\tlike\tproduction\tenvironments\t—\tall\tof\twhich\tshould\tbe\tset\tup identically\tto\tthe\tdashboards,\tmonitoring,\tand\tlogging\tof\tthe\tproduction",
      "content_length": 1618,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 91,
      "content": "environment\tof\tthe\tmicroservice\t(see\tChapter\t6,\tMonitoring).\tThe\tgraphs\tfor\tall key\tmetrics\tcan\tbe\tkept\ton\tthe\tsame\tdashboard\tas\tall\tproduction\tmetrics,\tthough teams\tmay\topt\tto\thave\tseparate\tdashboards\tfor\teach\tpart\tof\tthe\tdeployment process:\ta\tstaging\tdashboard,\ta\tcanary\tdashboard,\tand\ta\tproduction\tdashboard. Depending\ton\thow\tdashboards\tare\tconfigured,\tit\tmay\tbe\tbest\tto\tkeep\tall\tgraphs for\tall\tdeployments\ton\tone\tdashboard\tand\tto\torganize\tthem\tby\tdeployment\t(or by\tmetric).\tRegardless\tof\thow\ta\tteam\tdecides\tto\tset\tup\ttheir\tdashboards,\tthe\tgoal of\tbuilding\tgood\tand\tuseful\tproduction-ready\tdashboards\tshould\tnot\tbe forgotten:\tthe\tdashboard(s)\tof\ta\tproduction-ready\tmicroservice\tshould\tmake\tit easy\tfor\tan\toutsider\tto\tquickly\tdetermine\tthe\thealth\tand\tstatus\tof\tthe\tservice.\n\nMonitoring\tand\tlogging\tfor\tthe\tstaging\tenvironment\tshould\tbe\tidentical\tto\tthe monitoring\tand\tlogging\tof\tthe\tstaging\tand\tproduction\tdeployments\tso\tthat\tany failures\tof\ttests\tand\terrors\tin\tnew\treleases\tthat\tare\tdeployed\tto\tstaging\twill\tbe caught\tbefore\tthey\tmove\tto\tthe\tnext\tphase\tof\tthe\tdeployment\tpipeline.\tIt’s extremely\thelpful\tto\tset\tup\talerts\tand\tlogs\tso\tthat\tthey\tare\tdifferentiated\tand separated\tby\tdeployment\ttype,\tensuring\tthat\tany\talerts\ttriggered\tby\tfailures\tor errors\twill\tspecify\twhich\tenvironment\tis\texperiencing\tthe\tproblem,\tmaking debugging,\tmitigation,\tand\tresolution\tof\tany\tbugs\tor\tfailures\trather\teasy\tand straightforward.\n\nThe\tpurpose\tof\ta\tstaging\tenvironment\tis\tto\tcatch\tany\tbugs\tintroduced\tby\tcode changes\tbefore\tthey\taffect\tproduction\ttraffic.\tWhen\ta\tbug\tis\tintroduced\tby\tthe code,\tit\twill\tusually\tbe\tcaught\tin\tthe\tstaging\tenvironment\t(if\tit\tis\tset\tup correctly).\tAutomated\trollbacks\tof\tbad\tdeploys\tare\ta\tnecessity\tfor\tpartial\tstaging environments\t(though\tare\tnot\trequired\tfor\tfull\tstaging\tenvironments). Establishing\twhen\tto\trevert\tto\ta\tprevious\tbuild\tshould\tbe\tdetermined\tby\tvarious thresholds\ton\tthe\tmicroservice’s\tkey\tmetrics.\n\nSince\tpartial\tstaging\trequires\tinteracting\twith\tmicroservices\trunning\tin production,\tbugs\tintroduced\tby\tnew\treleases\tdeployed\tto\ta\tpartial\tstaging environment\tcan\tbring\tdown\tother\tmicroservices\tthat\tare\trunning\tin\tproduction. If\tthere\taren’t\tany\tautomated\trollbacks\tin\tplace,\tmitigating\tand\tresolving\tthese problems\tneeds\tto\tbe\tdone\tmanually.\tAny\tsteps\tof\tthe\tdeployment\tprocess\tthat need\tmanual\tintervention\tare\tpoints\tof\tfailure\tnot\tonly\tfor\tthe\tmicroservice itself,\tbut\tfor\tthe\tentire\tmicroservice\tecosystem.\n\nThe\tlast\tquestion\ta\tmicroservice\tteam\tneeds\tto\tanswer\twhen\tsetting\tup\ta\tstaging environment\tis\thow\tlong\ta\tnew\trelease\tshould\trun\ton\tstaging\tbefore\tit\tcan\tbe deployed\tto\tcanary\t(and,\tafter\tthat,\tto\tproduction).\tThe\tanswer\tto\tthis\tquestion\tis determined\tby\tthe\tstaging-specific\ttests\tthat\tare\trun\ton\tstaging:\ta\tnew\tbuild\tis",
      "content_length": 2765,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 92,
      "content": "ready\tto\tmove\tto\tthe\tnext\tstep\tof\tthe\tdeployment\tprocess\tas\tsoon\tas\tall\ttests have\tpassed\twithout\tfailing.",
      "content_length": 106,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 93,
      "content": "Canary Once\ta\tnew\trelease\thas\tsuccessfully\tbeen\tdeployed\tto\tstaging\tand\tpassed\tall required\ttests,\tthe\tbuild\tcan\tbe\tdeployed\tto\tthe\tnext\tstage\tin\tthe\tdeployment pipeline:\tthe\tcanary\tenvironment.\tThe\tunique\tname\tfor\tthis\tenvironment\tcomes from\ta\ttactic\tused\tby\tcoal\tminers:\tthey’d\tbring\tcanaries\twith\tthem\tinto\tthe\tcoal mines\tto\tmonitor\tthe\tlevels\tof\tcarbon\tmonoxide\tin\tthe\tair;\tif\tthe\tcanary\tdied, they\tknew\tthat\tthe\tlevel\tof\ttoxic\tgas\tin\tthe\tair\twas\thigh,\tand\tthey’d\tleave\tthe mines.\tSending\ta\tnew\tbuild\tinto\ta\tcanary\tenvironment\tserves\tthe\tsame\tpurpose: deploy\tit\tto\ta\tsmall\tpool\tof\tservers\trunning\tproduction\ttraffic\t(around\t5%–10% of\tproduction\tcapacity),\tand\tif\tit\tsurvives,\tdeploy\tto\tthe\trest\tof\tthe\tproduction servers.",
      "content_length": 725,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 94,
      "content": "CANARY\tTRAFFIC\tDISTRIBUTION\n\nIf\tthe\tproduction\tservice\tis\tdeployed\tin\tmultiple\tdifferent\tdatacenters,\tregions,\tor\tcloud providers,\tthen\tthe\tcanary\tpool\tshould\tcontain\tservers\tin\teach\tof\tthese\tin\torder\tto\taccurately sample\tproduction.\n\nSince\ta\tcanary\tenvironment\tserves\tproduction\ttraffic,\tit\tshould\tbe\tconsidered part\tof\tproduction.\tIt\tshould\thave\tthe\tsame\tbackend\tand\tfrontend\tports,\tand canary\thosts\tshould\tbe\tchosen\tat\trandom\tfrom\tthe\tpool\tof\tproduction\tservers\tto ensure\taccurate\tsampling\tof\tproduction\ttraffic.\tCanaries\tcan\t(and\tshould)\thave full\taccess\tto\tproduction\tservices:\tthey\tshould\thit\tall\tproduction\tendpoints\tof upstream\tand\tdownstream\tdependencies,\tand\tthey\tshould\thave\tboth\tread\tand write\taccess\tto\tany\tdatabases\t(if\tapplicable).\n\nAs\twith\tstaging,\tthe\tdashboards,\tmonitoring,\tand\tlogging\tshould\tbe\tthe\tsame\tfor canaries\tas\tfor\tproduction.\tAlerts\tand\tlogs\tshould\tbe\tdifferentiated\tand\tlabeled as\tcoming\tfrom\tthe\tcanary\tdeployment\tso\tthat\tdevelopers\tcan\teasily\tmitigate, debug,\tand\tresolve\tany\tproblems.",
      "content_length": 1018,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 95,
      "content": "SEPARATE\tPORTS\tFOR\tCANARIES\tAND\tPRODUCTION\n\nAllocating\tseparate\tfrontend\tand\tbackend\tports\tfor\tcanaries\tand\tproduction\tso\tthat\ttraffic\tcan be\tdirected\tdeliberately\tmay\tseem\tlike\ta\tgood\tidea,\tbut\tunfortunately\tseparating\tout\tthe\ttraffic in\tthis\tfashion\tdefeats\tthe\tpurpose\tof\tcanaries:\tto\trandomly\tsample\tproduction\ttraffic\ton\ta small\tpool\tof\tservers\tto\ttest\ta\tnew\trelease.\n\nAutomated\trollbacks\tabsolutely\tneed\tto\tbe\tin\tplace\tfor\tcanaries:\tif\tany\tknown errors\toccur,\tthe\tdeployment\tsystem\tneeds\tto\tautomatically\trevert\tto\tthe\tlast known\tstable\tversion.\tRemember,\tcanaries\tare\tserving\tproduction\ttraffic,\tand any\tproblems\tthat\thappen\tare\taffecting\tthe\treal\tworld.\n\nHow\tlong\tshould\ta\tnew\trelease\tsit\tin\tthe\tcanary\tpool\tuntil\tdevelopers\tcan\tbe satisfied\tthat\tit\tis\tready\tfor\tproduction?\tThis\tcan\tbe\tminutes,\thours,\tor\teven days,\tand\tthe\tanswer\tis\tdetermined\tby\tthe\tmicroservice’s\ttraffic\tpatterns.\tThe traffic\tof\tevery\tmicroservice\tis\tgoing\tto\thave\tsome\tsort\tof\tpattern,\tno\tmatter how\tstrange\tyour\tmicroservice\tor\tbusiness\tmay\tbe.\tA\tnew\trelease\tshould\tnot leave\tthe\tcanary\tstage\tof\tdeployment\tuntil\ta\tfull\ttraffic\tcycle\thas\tbeen completed.\tHow\ta\t“traffic\tcycle”\tis\tdefined\tneeds\tto\tbe\tstandardized\tacross\tthe entire\tengineering\torganization,\tbut\tthe\tduration\tand\trequirements\tof\tthe\ttraffic cycle\tmay\tneed\tto\tbe\tcreated\ton\ta\tservice-by-service\tbasis.",
      "content_length": 1346,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 96,
      "content": "Production Production\tis\tthe\treal\tworld.\tWhen\ta\tbuild\thas\tsuccessfully\tmade\tit\tthrough\tthe development\tcycle,\tsurvived\tstaging,\tand\tlived\tthrough\tthe\tcoal\tmines\tof\tthe canary\tphase,\tit\tis\tready\tto\tbe\trolled\tout\tto\tthe\tproduction\tdeployment.\tAt\tthis point\tin\tthe\tdeployment\tpipeline\t—\tthe\tvery\tlast\tstep\t—\tthe\tdevelopment\tteam should\tbe\tcompletely\tconfident\tin\tthe\tnew\tbuild.\tAny\terrors\tin\tthe\tcode\tshould have\tbeen\tdiscovered,\tmitigated,\tand\tresolved\tbefore\tmaking\tit\tthis\tfar.\n\nEvery\tbuild\tthat\tmakes\tit\tto\tproduction\tshould\tbe\tcompletely\tstable\tand\treliable. A\tbuild\tbeing\tdeployed\tto\tproduction\tshould\thave\talready\tbeen\tthoroughly tested,\tand\ta\tbuild\tshould\tnever\tbe\tdeployed\tto\tproduction\tuntil\tit\thas\tmade\tit through\tthe\tstaging\tand\tcanary\tphases\twithout\tany\tissues.\tDeploying\tto production\tcan\tbe\tdone\tin\tone\tfell\tswoop\tafter\tthe\tbuild\thas\tlived\tthrough\tthe canaries,\tor\tit\tcan\tbe\tgradually\trolled\tout\tin\tstages:\tdevelopers\tcan\tchoose\tto\troll out\tto\tproduction\tby\tpercentage\tof\thardware\t(e.g.,\tfirst\tto\t25%\tof\tall\tservers, then\tto\t50%,\tthen\t75%,\tand\tfinally\t100%),\tor\tby\tdatacenter,\tor\tby\tregion,\tor\tby country,\tor\tany\tmixture\tof\tthese.",
      "content_length": 1142,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 97,
      "content": "Enforcing\tStable\tand\tReliable\tDeployment By\tthe\ttime\ta\tnew\tcandidate\tfor\tproduction\thas\tmade\tit\tthrough\tthe\tdevelopment process,\thas\tsurvived\tthe\tstaging\tenvironment,\tand\thas\tbeen\tdeployed\tto\tthe canary\tphase\tsuccessfully,\tthe\tchances\tof\tit\tcausing\ta\tmajor\toutage\tare\tvery slim,\tbecause\tmost\tbugs\tin\tthe\tcode\twill\thave\tbeen\tcaught\tbefore\tthe\tcandidate for\tproduction\tis\trolled\tout\tto\tproduction.\tThis\tis\tprecisely\twhy\thaving\ta comprehensive\tdeployment\tpipeline\tis\tessential\tfor\tbuilding\ta\tstable\tand\treliable microservice.\n\nFor\tsome\tdevelopers,\tthe\tdelay\tintroduced\tby\tthe\tdeployment\tpipeline\tmight seem\tlike\tan\tunnecessary\tburden\tbecause\tit\tdelays\ttheir\tcode\tchanges\tand/or new\tfeatures\tfrom\tbeing\tdeployed\tstraight\tto\tproduction\tminutes\tafter\tthey\thave been\twritten.\tIn\treality,\tthe\tdelay\tintroduced\tby\tthe\tphases\tof\tthe\tdeployment pipeline\tis\tvery\tshort\tand\teasily\tcustomizable,\tbut\tsticking\tto\tthe\tstandardized deployment\tprocess\tneeds\tto\tbe\tenforced\tto\tensure\treliability.\tDeploying\tto\ta microservice\tmultiple\ttimes\tper\tday\tcan\t(and\tdoes)\tcompromise\tthe\tstability\tand reliability\tof\tthe\tmicroservice\tand\tany\tother\tservices\twithin\tits\tcomplex dependency\tchain:\ta\tmicroservice\tthat\tis\tchanging\tevery\tfew\thours\tis\trarely\ta stable\tor\treliable\tmicroservice.\n\nDevelopers\tmay\tbe\ttempted\tto\tskip\tthe\tstaging\tand\tcanary\tphases\tof\tthe deployment\tprocess\tand\tdeploy\ta\tfix\tstraight\tto\tproduction\tif,\tfor\texample,\ta serious\tbug\tis\tdiscovered\tin\tproduction.\tWhile\tthis\tsolves\tthe\tproblem\tquickly, can\tpossibly\tsave\tthe\tcompany\tfrom\tlosing\trevenue,\tand\tcan\tprevent dependencies\tfrom\texperiencing\toutages,\tallowing\tdevelopers\tto\tdeploy\tstraight to\tproduction\tshould\tbe\treserved\tonly\tfor\tthe\tmost\tsevere\toutages.\tWithout\tthese restrictions\tin\tplace,\tthere\tis\talways\tthe\tunfortunate\tpossibility\tof\tabusing\tthe process\tand\tdeploying\tstraight\tto\tproduction:\tfor\tmost\tdevelopers,\tevery\tcode change,\tevery\tdeploy\tis\timportant\tand\tmay\tseem\timportant\tenough\tto\tbypass staging\tand\tcanary,\tcompromising\tthe\tstability\tand\treliability\tof\tthe\tentire microservice\tecosystem.\tWhen\tfailures\toccur,\tdevelopment\tteams\tshould\tinstead be\tencouraged\tto\talways\troll\tback\tto\tthe\tlatest\tstable\tbuild\tof\tthe\tmicroservice, which\twill\tbring\tthe\tmicroservice\tback\tto\ta\tknown\t(and\treliable)\tstate,\twhich can\trun\tin\tproduction\twithout\tany\tissues\twhile\tthe\tteam\tworks\tto\tdiscover\tthe root\tcause\tof\tthe\tfailure\tthat\toccurred.",
      "content_length": 2382,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 98,
      "content": "HOTFIXES\tARE\tAN\tANTI-PATTERN\n\nWhen\ta\tdeployment\tpipeline\tis\tin\tplace,\tthere\tshould\tnever\tbe\tany\tdirect\tdeployment\tto production\tunless\tthere\tis\tan\temergency,\tbut\teven\tthis\tshould\tbe\tdiscouraged.\tBypassing\tthe initial\tphases\tof\tthe\tdeployment\tpipeline\toften\tintroduces\tnew\tbugs\tinto\tproduction,\tas emergency\tcode\tfixes\trun\tthe\trisk\tof\tnot\tbeing\tproperly\ttested.\tRather\tthan\tdeploying\ta\thotfix straight\tto\tproduction,\tdevelopers\tshould\troll\tback\tto\tthe\tlatest\tstable\tbuild\tif\tpossible.\n\nStable\tand\treliable\tdeployment\tisn’t\tlimited\tonly\tto\tfollowing\tthe\tdeployment pipeline,\tand\tthere\tare\tseveral\tcases\tin\twhich\tblocking\ta\tparticular\tmicroservice from\tdeploying\tcan\tincrease\tavailability\tacross\tthe\tecosystem.\n\nIf\ta\tservice\tisn’t\tmeeting\ttheir\tSLAs\t(see\tChapter\t2,\tProduction-Readiness),\tall deployment\tcan\tbe\tpostponed\tif\tthe\tdowntime\tquota\tof\tthe\tservice\thas\tbeen\tused up.\tFor\texample,\tif\ta\tservice\thas\tan\tSLA\tpromising\t99.99%\tavailability (allowing\t4.38\tminutes\tof\tdowntime\teach\tmonth),\tbut\thas\tbeen\tunavailable\tfor 12\tminutes\tin\tone\tmonth,\tthen\tnew\tdeployments\tof\tthat\tmicroservice\tcan\tbe blocked\tfor\tthe\tnext\tthree\tmonths,\tensuring\tthat\tit\tmeets\tits\tSLA.\tIf\ta\tservice fails\tload\ttesting\t(see\tChapter\t5,\tFault\tTolerance\tand\tCatastrophe- Preparedness),\tthen\tdeployment\tto\tproduction\tcan\tbe\tlocked\tuntil\tthe\tservice\tis able\tto\tappropriately\tpass\tany\tnecessary\tload\ttests.\tFor\tbusiness-critical\tservices, whose\toutages\twould\tstop\tthe\tcompany\tfrom\tfunctioning\tproperly,\tit\tcan\tat times\tbe\tnecessary\tto\tblock\tdeployment\tif\tthey\tdo\tnot\tmeet\tthe\tproduction- readiness\tcriteria\testablished\tby\tthe\tengineering\torganization.",
      "content_length": 1616,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 99,
      "content": "Dependencies The\tadoption\tof\tmicroservice\tarchitecture\tis\tsometimes\tdriven\tby\tthe\tidea\tthat microservices\tcan\tbe\tbuilt\tand\trun\tin\tisolation,\tas\tfully\tindependent\tand replaceable\tcomponents\tof\ta\tlarger\tsystem.\tThis\tis\ttrue\tin\tprinciple,\tbut\tin\tthe real\tworld,\tevery\tmicroservice\thas\tdependencies,\tboth\tupstream\tand downstream.\tEvery\tmicroservice\twill\treceive\trequests\tfrom\tclients\t(other microservices)\tthat\tare\tcounting\ton\tthe\tservice\tto\tperform\tas\texpected\tand\tto live\tup\tto\tits\tSLAs,\tas\twell\tas\tdownstream\tdependencies\t(other\tservices)\tthat\tit will\tdepend\ton\tto\tget\tthe\tjob\tdone.\n\nBuilding\tand\trunning\tproduction-ready\tmicroservices\trequires\tdevelopers\tto plan\tfor\tdependency\tfailures,\tto\tmitigate\tthem,\tand\tto\tprotect\tagainst\tthem. Understanding\ta\tservice’s\tdependencies\tand\tplanning\tfor\ttheir\tfailures\tis\tone\tof the\tmost\timportant\taspects\tof\tbuilding\ta\tstable\tand\treliable\tmicroservice.\n\nTo\tunderstand\thow\timportant\tthis\tis,\tlet’s\tconsider\tan\texample\tmicroservice called\treceipt-sender,\twhose\tSLA\tis\tfour-nines\t(promising\t99.99%\tavailability to\tupstream\tclients).\tNow,\treceipt-sender\tdepends\ton\tseveral\tother microservices,\tincluding\tone\tcalled\tcustomers\t(a\tmicroservice\tthat\thandles\tall customer\tinformation),\tand\tone\tcalled\torders\t(a\tmicroservice\tthat\thandles information\tabout\tthe\torders\teach\tcustomer\tplaces).\tBoth\tcustomers\tand\torders depend\ton\tother\tmicroservices:\tcustomers\tdepends\ton\tyet\tanother\tmicroservice we’ll\tcall\tcustomers-dependency,\tand\torders\ton\tone\twe’ll\trefer\tto\tas\torders- dependency.\tThe\tchances\tthat\tcustomers-dependency\tand\torders-dependency have\tdependencies\tof\ttheir\town\tare\tvery\thigh,\tso\tthe\tdependency\tgraph\tfor receipt-sender\tquickly\tbecomes\tvery,\tvery\tcomplicated.\n\nSince\treceipt-sender\twants\tto\tprotect\tits\tSLA\tand\tprovide\t99.99%\tuptime\tto\tall of\tits\tclients,\tits\tteam\tneeds\tto\tmake\tsure\tthat\tthe\tSLAs\tof\tall\tdownstream dependencies\tare\tstrictly\tadhered\tto.\tIf\tthe\tSLA\tof\treceipt-sender\tdepends\ton customers\tbeing\tavailable\t99.99%\tof\tthe\ttime,\tbut\tthe\tactual\tuptime\tof customers\tis\tonly\t89.99%\tof\tthe\ttime,\tthe\tavailability\tof\treceipt-sender\tis compromised\tand\tis\tnow\tonly\t89.98%.\tEach\tone\tof\tthe\tdependencies\tof\treceipt- sender\tcan\tsuffer\tthe\tsame\thit\tto\ttheir\tavailability\tif\tany\tof\tthe\tdependencies\tin the\tdependency\tchain\tdo\tnot\tmeet\ttheir\tSLAs.\n\nA\tstable\tand\treliable\tmicroservice\tneeds\tto\tmitigate\tdependency\tfailures\tof\tthis sort\t(and\tyes,\tnot\tmeeting\tan\tSLA\tis\ta\tfailure!).\tThis\tcan\tbe\taccomplished\tby having\tbackups,\tfallbacks,\tcaching,\tand/or\talternatives\tfor\teach\tdependency\tjust in\tcase\tthey\tfail.",
      "content_length": 2544,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 100,
      "content": "in\tcase\tthey\tfail.\n\nBefore\tdependency\tfailures\tcan\tbe\tplanned\tfor\tand\tmitigated,\tthe\tdependencies of\ta\tmicroservice\tmust\tbe\tknown,\tdocumented,\tand\ttracked.\tAny\tdependency that\tcould\tharm\ta\tmicroservice’s\tSLA\tneeds\tto\tbe\tincluded\tin\tthe\tarchitecture diagram\tand\tdocumentation\tof\tthe\tmicroservice\t(see\tChapter\t7,\tDocumentation and\tUnderstanding)\tand\tshould\tbe\tincluded\ton\tthe\tservice’s\tdashboard(s)\t(see Chapter\t6,\tMonitoring).\tIn\taddition,\tall\tdependencies\tshould\tbe\ttracked\tby automatically\tcreating\tdependency\tgraphs\tfor\teach\tservice,\twhich\tcan\tbe accomplished\tby\timplementing\ta\tdistributed\ttracking\tsystem\tacross\tall microservices\tin\tthe\torganization.\n\nOnce\tall\tof\tthe\tdependencies\tare\tknown\tand\ttracked,\tthe\tnext\tstep\tis\tto\tset\tup backups,\talternatives,\tfallbacks,\tor\tcaching\tfor\teach\tdependency.\tThe\tright\tway to\tdo\tthis\tis\tcompletely\tdependent\ton\tthe\tneeds\tof\tthe\tservice.\tFor\texample,\tif the\tfunctionality\tof\ta\tdependency\tcan\tbe\tfilled\tby\tcalling\tthe\tendpoint\tof\tanother service,\tthen\tfailure\tof\tthe\tprimary\tdependency\tshould\tbe\thandled\tby\tthe microservice\tso\tthat\trequests\tare\tsent\tto\tthe\talternative\tinstead.\tIf\trequests\tthat need\tto\tbe\tsent\tto\tthe\tdependency\tcan\tbe\theld\tin\ta\tqueue\twhen\tthe\tdependency\tis unavailable,\tthen\ta\tqueue\tshould\tbe\timplemented.\tAnother\tway\tto\thandle dependency\tfailures\tis\tto\tput\tcaching\tfor\tthe\tdependency\tinto\tplace\twithin\tthe service:\tcache\tany\trelevant\tdata\tso\tthat\tany\tfailures\twill\tbe\thandled\tgracefully.\n\nThe\ttype\tof\tcache\tmost\toften\tused\tin\tthese\tcases\tis\ta\tLeast\tRecently\tUsed\t(LRU) cache,\tin\twhich\trelevant\tdata\tis\tkept\tin\ta\tqueue,\tand\twhere\tany\tunused\tdata\tis deleted\twhen\tthe\tcache’s\tqueue\tfills\tup.\tLRU\tcaches\tare\teasy\tto\timplement (often\ta\tsingle\tline\tof\tcode\tfor\teach\tinstantiation),\tefficient\t(no\texpensive network\tcalls\tneed\tto\tbe\tmade),\tperformant\t(the\tdata\tis\timmediately\tavailable), and\tdo\ta\tdecent\tjob\tof\tmitigating\tany\tdependency\tfailures.\tThis\tis\tknown\tas defensive\tcaching,\tand\tit\tis\tuseful\tfor\tprotecting\ta\tmicroservice\tagainst\tthe failures\tof\tits\tdependencies:\tcache\tthe\tinformation\tyour\tmicroservice\tgets\tfrom its\tdependencies,\tand\tif\tthe\tdependencies\tgo\tdown,\tthe\tavailability\tof\tyour microservice\twill\tbe\tunaffected.\tImplementing\tdefensive\tcaching\tisn’t\tnecessary for\tevery\tsingle\tdependency,\tbut\tif\ta\tspecific\tdependency\tor\tset\tof\tdependencies is\tor\tare\tunreliable,\tdefensive\tcaching\twill\tprevent\tyour\tmicroservice\tfrom\tbeing harmed.",
      "content_length": 2398,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 101,
      "content": "Routing\tand\tDiscovery Another\taspect\tof\tbuilding\tstable\tand\treliable\tmicroservices\tis\tto\tensure\tthat communication\tand\tinteraction\tbetween\tmicroservices\tis\titself\tstable\tand reliable,\twhich\tmeans\tthat\tlayer\t2\t(the\tcommunication\tlayer)\tof\tthe\tmicroservice ecosystem\t(see\tChapter\t1,\tMicroservices)\tmust\tbe\tbuilt\tto\tperform\tin\ta\tway\tthat protects\tagainst\tharmful\ttraffic\tpatterns\tand\tmaintains\ttrust\tacross\tthe ecosystem.\tThe\trelevant\tparts\tof\tthe\tcommunication\tlayer\tfor\tstability\tand reliability\t(aside\tfrom\tthe\tnetwork\titself)\tare\tservice\tdiscovery,\tservice\tregistry, and\tload\tbalancing.\n\nThe\thealth\tof\ta\tmicroservice\tat\tboth\tthe\thost\tlevel\tand\tthe\tservice\tlevel\tas\ta whole\tshould\talways\tbe\tknown.\tThis\tmeans\tthat\thealth\tchecks\tshould\tbe running\tconstantly\tso\tthat\ta\trequest\tis\tnever\tsent\tto\tan\tunhealthy\thost\tor\tservice. Running\thealth\tchecks\ton\ta\tseparate\tchannel\t(not\tused\tfor\tgeneral\tmicroservice communication)\tis\tthe\teasiest\tway\tto\tensure\tthat\thealth\tchecks\taren’t\tever compromised\tby\tsomething\tlike\ta\tclogged\tnetwork.\tHardcoding\t“200\tOK” responses\ton\ta\t/health\tendpoint\tfor\thealth\tchecks\tisn’t\tideal\tfor\tevery microservice\teither,\tthough\tit\tmay\tbe\tsufficient\tfor\tmost.\tHardcoded\tresponses don’t\ttell\tyou\tmuch\texcept\tthat\tthe\tmicroservice\twas\tstarted\ton\tthe\thost\tsemi- successfully:\tany\t/health\tendpoint\tof\ta\tmicroservice\tshould\tgive\ta\tuseful, accurate\tresponse.\n\nIf\tan\tinstance\tof\ta\tservice\ton\ta\thost\tis\tunhealthy,\tthe\tload\tbalancers\tshould\tno longer\troute\ttraffic\tto\tit.\tIf\ta\tmicroservice\tas\ta\twhole\tis\tunhealthy\t(with\tall health\tchecks\tfailing\ton\teither\ta\tcertain\tpercentage\tof\thosts\tor\tall\thosts\tin production),\tthen\ttraffic\tshould\tno\tlonger\tbe\trouted\tto\tthat\tparticular microservice\tuntil\tthe\tproblems\tcausing\tthe\thealth\tchecks\tto\tfail\tare\tresolved.\n\nHowever,\thealth\tchecks\tshouldn’t\tbe\tthe\tonly\tdetermining\tfactor\tin\twhether\tor not\ta\tservice\tis\thealthy.\tA\tlarge\tnumber\tof\tunhandled\texceptions\tshould\talso lead\tto\ta\tservice\tbeing\tmarked\tunhealthy,\tand\tcircuit\tbreakers\tshould\tbe\tput\tinto place\tfor\tthese\tfailures\tso\tthat\tif\ta\tservice\texperiences\tan\tabnormal\tamount\tof errors,\tno\tmore\trequests\twill\tbe\tsent\tto\tthe\tservice\tuntil\tthe\tproblem\tis\tresolved. The\tkey\tin\tstable\tand\treliable\trouting\tand\tdiscovery\tis\tthis:\tpreserve\tthe microservice\tecosystem\tby\tpreventing\tbad\tactors\tfrom\tserving\tproduction\ttraffic and\taccepting\trequests\tfrom\tother\tmicroservices.",
      "content_length": 2366,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 102,
      "content": "Deprecation\tand\tDecommissioning One\toften-forgotten,\toften-ignored\tcause\tof\tinstability\tand\tunreliability\tin microservice\tecosystems\tis\tthe\tdeprecation\tor\tdecommissioning\tof\ta microservice\tor\tone\tof\tits\tAPI\tendpoints.\tWhen\ta\tmicroservice\tis\tno\tlonger\tin use\tor\tis\tno\tlonger\tsupported\tby\ta\tdevelopment\tteam,\tits\tdecommissioning should\tbe\tundertaken\tcarefully\tto\tensure\tthat\tno\tclients\twill\tbe\tcompromised. The\tdeprecation\tof\tone\tor\tmore\tof\ta\tmicroservice’s\tAPI\tendpoints\tis\teven\tmore common:\twhen\tnew\tfeatures\tare\tadded\tor\told\tones\tremoved,\tthe\tendpoints\toften change,\trequiring\tthat\tclient\tteams\tare\tupdated\tand\tany\trequests\tmade\tto\tthe\told endpoints\tare\tswitched\tto\tnew\tendpoints\t(or\tremoved\tentirely).\n\nIn\tmost\tmicroservice\tecosystems,\tdeprecation\tand\tdecommissioning\tis\tmore\tof\ta sociological\tproblem\twithin\tthe\tengineering\torganization\tthan\ta\ttechnical\tone, making\tit\tall\tthe\tmore\tdifficult\tto\taddress.\tWhen\ta\tmicroservice\tis\tabout\tto\tbe decommissioned,\tits\tdevelopment\tteam\tneeds\tto\ttake\tcare\tto\talert\tall\tclient services\tand\tadvise\tthem\ton\thow\tto\taccommodate\tthe\tloss\tof\ttheir\tdependency. If\tthe\tmicroservice\tbeing\tdecommissioned\tis\tbeing\treplaced\tby\tanother\tnew microservice,\tor\tif\tthe\tfunctionality\tof\tthe\tmicroservice\tis\tbeing\tbuilt\tinto another\texisting\tmicroservice,\tthen\tthe\tteam\tshould\thelp\tall\tclients\tupdate\ttheir microservices\tto\tsend\trequests\tto\tthe\tnew\tendpoints.\tDeprecation\tof\tan\tendpoint follows\ta\tsimilar\tprocess:\tthe\tclients\tmust\tbe\talerted,\tand\teither\tgiven\tthe\tnew endpoint\tor\tadvised\ton\thow\tto\taccount\tfor\tthe\tloss\tof\tthe\tendpoint\tentirely.\tIn both\tdeprecation\tand\tdecommissioning,\tmonitoring\tplays\ta\tcritical\trole: endpoints\twill\tneed\tto\tbe\tmonitored\tclosely\tbefore\tthe\tservice\tor\tendpoint\tis completely\tdecommissioned\tand/or\tdeprecated\tto\tcheck\tfor\tany\trequests\tthat might\tstill\tbe\tsent\tto\tthe\toutdated\tservice\tor\tendpoint.\n\nConversely,\tfailing\tto\tproperly\tdeprecate\tan\tendpoint\tor\tdecommission\ta microservice\tcan\talso\thave\tdisastrous\teffects\ton\tthe\tmicroservice\tecosystem. This\thappens\tmore\toften\tthan\tdevelopers\twould\tcare\tto\tadmit.\tIn\tan\tecosystem containing\thundreds\tor\tthousands\tof\tmicroservices,\tdevelopers\tare\toften\tshifted between\tteams,\tpriorities\tchange,\tand\tboth\tmicroservices\tand\ttechnologies\tare swapped\tout\tfor\tnewer,\tbetter\tones\tall\tof\tthe\ttime.\tWhen\tthese\told\tmicroservices or\ttechnologies\tare\tleft\tto\trun,\twithout\tany\t(or\tmuch)\tinvolvement,\toversight,\tor monitoring,\tany\tfailures\twill\tgo\tunnoticed,\tand\tany\tfailure\tthat\tis\tnoticed\tmay not\tbe\tresolved\tfor\ta\tlong\tperiod\tof\ttime.\tIf\ta\tmicroservice\tis\tgoing\tto\tbe\tleft\tto fend\tfor\titself,\tit\trisks\tcompromising\tits\tclients\tin\tcase\tof\tan\toutage\t—\tsuch microservices\tshould\tbe\tdecommissioned\trather\tthan\tabandoned.",
      "content_length": 2704,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 103,
      "content": "microservices\tshould\tbe\tdecommissioned\trather\tthan\tabandoned.\n\nNothing\tis\tmore\tdisruptive\tto\ta\tmicroservice\tthan\tthe\tcomplete\tloss\tof\tone\tof\tits dependencies.\tNothing\tcauses\tmore\tinstability\tand\tunreliability\tthan\tthe\tsudden, unexpected\tfailure\tof\tone\tof\tits\tdependencies,\teven\tif\tthe\tfailure\twas\tplanned\tfor by\tanother\tteam.\tThe\timportance\tof\tstable\tand\treliable\tdecommissioning\tand deprecation\tcan\thonestly\tnot\tbe\temphasized\tenough.",
      "content_length": 434,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 104,
      "content": "Evaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tstability\tand\treliability,\tuse\tthe following\tlist\tof\tquestions\tto\tassess\tthe\tproduction-readiness\tof\tyour microservice(s)\tand\tmicroservice\tecosystem.\tThe\tquestions\tare\torganized\tby topic,\tand\tcorrespond\tto\tthe\tsections\twithin\tthis\tchapter.",
      "content_length": 310,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 105,
      "content": "The\tDevelopment\tCycle\n\nDoes\tthe\tmicroservice\thave\ta\tcentral\trepository\twhere\tall\tcode\tis\tstored?\n\nDo\tdevelopers\twork\tin\ta\tdevelopment\tenvironment\tthat\taccurately\treflects the\tstate\tof\tproduction\t(e.g.,\tthat\taccurately\treflects\tthe\treal\tworld)?\n\nAre\tthere\tappropriate\tlint,\tunit,\tintegration,\tand\tend-to-end\ttests\tin\tplace\tfor the\tmicroservice?\n\nAre\tthere\tcode\treview\tprocedures\tand\tpolicies\tin\tplace?\n\nIs\tthe\ttest,\tpackaging,\tbuild,\tand\trelease\tprocess\tautomated?",
      "content_length": 463,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 106,
      "content": "The\tDeployment\tPipeline\n\nDoes\tthe\tmicroservice\tecosystem\thave\ta\tstandardized\tdeployment\tpipeline?\n\nIs\tthere\ta\tstaging\tphase\tin\tthe\tdeployment\tpipeline\tthat\tis\teither\tfull\tor partial\tstaging?\n\nWhat\taccess\tdoes\tthe\tstaging\tenvironment\thave\tto\tproduction\tservices?\n\nIs\tthere\ta\tcanary\tphase\tin\tthe\tdeployment\tpipeline?\n\nDo\tdeployments\trun\tin\tthe\tcanary\tphase\tfor\ta\tperiod\tof\ttime\tthat\tis\tlong enough\tto\tcatch\tany\tfailures?\n\nDoes\tthe\tcanary\tphase\taccurately\thost\ta\trandom\tsample\tof\tproduction traffic?\n\nAre\tthe\tmicroservice’s\tports\tthe\tsame\tfor\tcanary\tand\tproduction?\n\nAre\tdeployments\tto\tproduction\tdone\tall\tat\tthe\tsame\ttime,\tor\tincrementally rolled\tout?\n\nIs\tthere\ta\tprocedure\tin\tplace\tfor\tskipping\tthe\tstaging\tand\tcanary\tphases\tin case\tof\tan\temergency?",
      "content_length": 748,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 107,
      "content": "Dependencies\n\nWhat\tare\tthis\tmicroservice’s\tdependencies?\n\nWhat\tare\tits\tclients?\n\nHow\tdoes\tthis\tmicroservice\tmitigate\tdependency\tfailures?\n\nAre\tthere\tbackups,\talternatives,\tfallbacks,\tor\tdefensive\tcaching\tfor\teach dependency?",
      "content_length": 224,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 108,
      "content": "Routing\tand\tDiscovery\n\nAre\thealth\tchecks\tto\tthe\tmicroservice\treliable?\n\nDo\thealth\tchecks\taccurately\treflect\tthe\thealth\tof\tthe\tmicroservice?\n\nAre\thealth\tchecks\trun\ton\ta\tseparate\tchannel\twithin\tthe\tcommunication layer?\n\nAre\tthere\tcircuit\tbreakers\tin\tplace\tto\tprevent\tunhealthy\tmicroservices\tfrom making\trequests?\n\nAre\tthere\tcircuit\tbreakers\tin\tplace\tto\tprevent\tproduction\ttraffic\tfrom\tbeing sent\tto\tunhealthy\thosts\tand\tmicroservices?",
      "content_length": 431,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 109,
      "content": "Deprecation\tand\tDecommissioning\n\nAre\tthere\tprocedures\tin\tplace\tfor\tdecommissioning\ta\tmicroservice?\n\nAre\tthere\tprocedures\tin\tplace\tfor\tdeprecating\ta\tmicroservice’s\tAPI endpoints?",
      "content_length": 177,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 110,
      "content": "Chapter\t4.\tScalability\tand\tPerformance\n\nA\tproduction-ready\tmicroservice\tis\tscalable\tand\tperformant.\tA\tscalable, performant\tmicroservice\tis\tone\tthat\tis\tdriven\tby\tefficiency,\tone\tthat\tcan\tnot\tonly handle\ta\tlarge\tnumber\tof\ttasks\tor\trequests\tat\tthe\tsame\ttime,\tbut\tcan\thandle\tthem efficiently\tand\tis\tprepared\tfor\ttasks\tor\trequests\tto\tincrease\tin\tthe\tfuture.\tIn\tthis chapter,\tthe\tessential\tcomponents\tof\tmicroservice\tscalability\tand\tperformance are\tcovered,\tincluding\tunderstanding\tthe\tqualitative\tand\tquantitative\tgrowth scales,\thardware\tefficiency,\tidentification\tof\tresource\trequirements\tand bottlenecks,\tcapacity\tawareness\tand\tplanning,\tscalable\thandling\tof\ttraffic,\tthe scaling\tof\tdependencies,\ttask\thandling\tand\tprocessing,\tand\tscalable\tdata\tstorage.",
      "content_length": 750,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 111,
      "content": "Principles\tof\tMicroservice\tScalability\tand Performance Efficiency\tis\tof\tthe\tutmost\timportance\tin\treal-world,\tlarge-scale\tdistributed systems\tarchitecture,\tand\tmicroservice\tecosystems\tare\tno\texception\tto\tthis\trule. It’s\teasy\tto\tquantify\tthe\tefficiency\tof\ta\tsingle\tsystem\t(like\ta\tmonolithic application),\tbut\tevaluating\tthe\tefficiency\tand\tachieving\tgreater\tefficiency\tin\ta large\tecosystem\tof\tmicroservices,\twhere\ttasks\tare\tsharded\tout\tbetween\thundreds (if\tnot\tthousands)\tof\tsmall\tservices,\tis\tincredibly\tdifficult.\tIt’s\talso\tbounded\tby the\tlaws\tof\tcomputer\tarchitecture\tand\tdistributed\tsystems,\twhich\tplace\tlimits\ton the\tefficiency\tof\tlarge-scale,\tcomplex\tdistributed\tsystems:\tthe\tmore\tdistributed your\tsystem,\tand\tthe\tmore\tmicroservices\tyou\thave\tin\tplace\twithin\tthat\tsystem, the\tless\tof\ta\tdifference\tthe\tefficiency\tof\tone\tmicroservice\twill\thave\ton\tthe\tentire system.\tStandardization\tof\tprinciples\tthat\twill\tincrease\toverall\tefficiency becomes\ta\tnecessity.\tTwo\tof\tour\tproduction-readiness\tstandards\t—\tscalability and\tperformance\t—\thelp\tto\tachieve\tthis\toverall\tefficiency,\tand\tincrease\tthe availability\tof\tthe\tmicroservice\tecosystem.\n\nScalability\tand\tperformance\tare\tuniquely\tintertwined\tbecause\tof\tthe\teffects\tthey have\ton\tthe\tefficiency\tof\teach\tmicroservice\tand\tthe\tecosystem\tas\ta\twhole.\tAs we\tsaw\tin\tChapter\t1,\tMicroservices,\tin\torder\tto\tbuild\ta\tscalable\tapplication,\twe need\tto\tdesign\tfor\tconcurrency\tand\tpartitioning:\tconcurrency\tallows\teach\ttask\tto be\tbroken\tup\tinto\tsmaller\tpieces,\twhile\tpartitioning\tis\tessential\tfor\tallowing these\tsmaller\tpieces\tto\tbe\tprocessed\tin\tparallel.\tSo,\twhile\tscalability\tis\trelated\tto how\twe\tdivide\tand\tconquer\tthe\tprocessing\tof\ttasks,\tperformance\tis\tthe\tmeasure of\thow\tefficiently\tthe\tapplication\tprocesses\tthose\ttasks.\n\nIn\ta\tgrowing,\tthriving\tmicroservice\tecosystem,\twhere\ttraffic\tis\tincreasing steadily,\teach\tmicroservice\tneeds\tto\tbe\table\tto\tscale\twith\tthe\tentire\tsystem without\tsuffering\tfrom\tperformance\tproblems.\tTo\tensure\tthat\tour\tmicroservices are\tscalable\tand\tperformant,\twe\tneed\tto\trequire\tseveral\tthings\tof\teach microservice.\tWe\tneed\tto\tunderstand\tits\tgrowth\tscale,\tboth\tquantitative\tand qualitative,\tso\tthat\twe\tcan\tprepare\tfor\texpected\tgrowth.\tWe\tneed\tto\tuse\tour hardware\tresources\tefficiently,\tbe\taware\tof\tresource\tbottlenecks\tand requirements,\tand\tdo\tappropriate\tcapacity\tplanning.\tWe\tneed\tto\tensure\tthat\ta microservice’s\tdependencies\twill\tscale\twith\tit.\tWe\tneed\tto\tmanage\ttraffic\tin\ta scalable\tand\tperformant\tway.\tWe\tneed\tto\thandle\tand\tprocess\ttasks\tin\ta performant\tmanner.\tLast\tbut\tnot\tleast,\twe\tneed\tto\tstore\tdata\tin\ta\tscalable\tway.",
      "content_length": 2581,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 112,
      "content": "A\tPRODUCTION-READY\tSERVICE\tIS\tSCALABLE\tAND\tPERFORMANT\n\nIts\tqualitative\tand\tquantitative\tgrowth\tscales\tare\tknown.\n\nIt\tuses\thardware\tresources\tefficiently.\n\nIts\tresource\tbottlenecks\tand\trequirements\thave\tbeen\tidentified.\n\nCapacity\tplanning\tis\tautomated\tand\tperformed\ton\ta\tscheduled\tbasis.\n\nIts\tdependencies\twill\tscale\twith\tit.\n\nIt\twill\tscale\twith\tits\tclients.\n\nIts\ttraffic\tpatterns\tare\tunderstood.\n\nTraffic\tcan\tbe\tre-routed\tin\tcase\tof\tfailures.\n\nIt\tis\twritten\tin\ta\tprogramming\tlanguage\tthat\tallows\tit\tto\tbe\tscalable\tand\tperformant.\n\nIt\thandles\tand\tprocesses\ttasks\tin\ta\tperformant\tmanner.\n\nIt\thandles\tand\tstores\tdata\tin\ta\tscalable\tand\tperformant\tway.",
      "content_length": 647,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 113,
      "content": "Knowing\tthe\tGrowth\tScale Determining\thow\ta\tmicroservice\tscales\t(at\ta\tvery\thigh\tlevel)\tis\tthe\tfirst\tstep toward\tunderstanding\thow\tto\tbuild\tand\tmaintain\ta\tscalable\tmicroservice.\tThere are\ttwo\taspects\tto\tknowing\tthe\tgrowth\tscale\tof\ta\tmicroservice,\tand\tthey\tboth play\timportant\troles\tin\tunderstanding\tand\tplanning\tfor\tthe\tscalability\tof\ta service.\tThe\tfirst\tis\tthe\tqualitative\tgrowth\tscale,\twhich\tcomes\tfrom understanding\twhere\tthe\tservice\tfits\tinto\tthe\toverall\tmicroservice\tecosystem\tand which\tkey\thigh-level\tbusiness\tmetrics\tit\twill\tbe\taffected\tby.\tThe\tsecond\tis\tthe quantitative\tgrowth\tscale,\twhich\tis,\tas\tits\tname\tsuggests,\ta\twell-defined, measurable,\tand\tquantitative\tunderstanding\tof\thow\tmuch\ttraffic\ta\tmicroservice can\thandle.",
      "content_length": 729,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 114,
      "content": "The\tQualitative\tGrowth\tScale The\tnatural\ttendency\twhen\ttrying\tto\tdetermine\tthe\tgrowth\tscale\tof\ta microservice\tis\tto\tphrase\tthe\tgrowth\tscale\tin\tterms\tof\trequests\tper\tsecond\t(RPS) or\tqueries\tper\tsecond\t(QPS)\tthat\tthe\tservice\tcan\tsupport,\tthen\tpredicting\thow many\tRPS/QPS\twill\tbe\tmade\tto\tthe\tservice\tin\tthe\tfuture.\tThe\tterm\t“requests\tper second”\tis\tgenerally\tused\twhen\ttalking\tabout\tmicroservices,\tand\t“queries\tper second”\twhen\ttalking\tabout\tdatabases\tor\tmicroservices\tthat\treturn\tdata\tto clients,\tthough\tin\tmany\tcases\tthey\tare\tinterchangeable.\tThis\tis\tvery\timportant information,\tbut\tit’s\tuseless\twithout\tadditional\tcontext\t—\tspecifically,\twithout the\tcontext\tof\twhere\tthe\tmicroservice\tfits\tinto\tthe\toverall\tpicture.\n\nIn\tmost\tcases,\tinformation\tabout\tthe\tRPS/QPS\ta\tmicroservice\tcan\tsupport\tis determined\tby\tthe\tstate\tof\tthe\tmicroservice\tat\tthe\ttime\tthe\tgrowth\tscale\tis initially\tcalculated:\tif\tthe\tgrowth\tscale\tis\tcalculated\tby\tonly\tlooking\tat\tthe current\tlevels\tof\ttraffic\tand\thow\tthe\tmicroservice\thandles\tthe\tcurrent\ttraffic load,\tmaking\tany\tinferences\tabout\thow\tmuch\ttraffic\tthe\tmicroservice\tcan\thandle in\tthe\tfuture\truns\tthe\trisk\tof\tbeing\tmisguided.\tThere\tare\tseveral\tapproaches\tone could\ttake\tto\tget\taround\tthis\tproblem,\tincluding\tload\ttesting\t(testing\tthe microservice\twith\thigher\tloads\tof\ttraffic),\twhich\tcan\tpresent\ta\tmore\taccurate picture\tof\tthe\tscalability\tof\tthe\tservice,\tand\tanalyzing\thistorical\ttraffic\tdata\tto see\thow\tthe\ttraffic\tlevel\tgrows\tover\ttime.\tBut\tthere’s\tsomething\tvery\tkey missing\there,\tsomething\tthat\tis\tan\tinherent\tproperty\tof\tmicroservice\tarchitecture —\tnamely,\tthat\tmicroservices\tdo\tnot\tlive\talone\tbut\tas\tpart\tof\ta\tlarger\tecosystem.\n\nThis\tis\twhere\tthe\tqualitative\tgrowth\tscale\tcomes\tin.\tQualitative\tgrowth\tscales allow\tthe\tscalability\tof\ta\tservice\tto\ttie\tin\twith\thigher-level\tbusiness\tmetrics:\ta microservice\tmay,\tfor\texample,\tscale\twith\tthe\tnumber\tof\tusers,\twith\tthe\tnumber of\tpeople\twho\topen\ta\tphone\tapplication\t(“eyeballs”),\tor\twith\tthe\tnumber\tof orders\t(for\ta\tfood\tdelivery\tservice).\tThese\tmetrics,\tthese\tqualitative\tgrowth scales,\taren’t\ttied\tto\tan\tindividual\tmicroservice\tbut\tto\tthe\toverall\tsystem\tor product(s).\tAt\tthe\tbusiness\tlevel,\tthe\torganization\twill\thave,\tfor\tthe\tmost\tpart, some\tidea\tof\thow\tthese\tmetrics\twill\tchange\tover\ttime.\tWhen\tthese\thigher-level business\tmetrics\tare\tcommunicated\tto\tengineering\tteams,\tdevelopers\tcan interpret\tthem\tas\tthey\trelate\tto\ttheir\trespective\tmicroservices:\tif\tone\tof\ttheir microservices\tis\tpart\tof\tthe\torder\tflow\tfor\ta\tfood\tdelivery\tservice,\tthey\twill know\tthat\tany\tmetrics\trelated\tto\tthe\tnumber\tof\torders\texpected\tin\tthe\tfuture\twill tell\tthem\twhat\tkind\tof\ttraffic\ttheir\tservice\tshould\texpect.",
      "content_length": 2666,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 115,
      "content": "When\tI\task\tmicroservice\tdevelopment\tteams\tif\tthey\tknow\tthe\tgrowth\tscale\tof their\tservice,\tthe\tusual\tresponse\tis,\t“It\tcan\thandle\tx\trequests\tper\tsecond.”\tMy follow-up\tquestions\tare\talways\tgeared\ttoward\tdiscovering\twhere\tthe\tservice\tin question\tfits\tinto\tthe\toverall\tproduct:\tWhen\tare\trequests\tmade?\tIs\tit\tone\trequest per\ttrip?\tOne\trequest\teach\ttime\tsomeone\topens\tthe\tapp?\tOne\trequest\tevery\ttime a\tnew\tuser\tsigns\tup\tfor\tour\tproduct?\tWhen\tthese\tcontext-filling\tquestions\tare answered,\tthe\tgrowth\tscale\tbecomes\tclear\t—\tand\tuseful.\tIf\tthe\tnumber\tof requests\tmade\tto\tthe\tservice\tis\tdirectly\tlinked\tto\tthe\tnumber\tof\tpeople\twho\topen a\tphone\tapplication,\tthen\tthe\tservice\tscales\twith\teyeballs,\tand\twe\tcan\tplan\tfor scaling\tthe\tservice\tby\tpredicting\thow\tmany\tpeople\twill\tbe\topening\tthe application.\tIf\tthe\tnumber\tof\trequests\tmade\tto\tthe\tservice\tis\tdetermined\tby\tthe number\tof\tpeople\twho\torder\tdelivery\tfood,\tthen\tthe\tservice\tscales\twith deliveries,\tand\twe\tcan\tplan\tand\tpredict\tfor\tscaling\tour\tservice\tby\tusing\thigher- level\tbusiness\tmetrics\tabout\thow\tmany\tfuture\tdeliveries\tare\tpredicted.\n\nThere\tare\texceptions\tto\tthe\trules\tof\tqualitative\tgrowth\tscales,\tand\tdetermining an\tappropriate\tqualitative\tgrowth\tscale\tcan\tbecome\tvery\tcomplicated\tthe\tfurther down\tthe\tstack\tthe\tservice\tis\tfound.\tInternal\ttools\ttend\tto\tsuffer\tfrom\tthese complications,\tand\tyet\tthey\ttend\tto\tbe\tso\tbusiness-critical\tthat\tif\tthey\taren’t scalable,\tthe\trest\tof\tthe\torganization\tquickly\thits\tscalability\tchallenges.\tIt’s\tnot easy\tto\tput\tthe\tgrowth\tscale\tof\ta\tservice\tlike\ta\tmonitoring\tor\talerting\tplatform\tin terms\tof\tbusiness\tmetrics\t(users,\teyeballs,\tetc.),\tso\tplatform\tand/or\tinfrastructure organizations\tneed\tto\tdetermine\taccurate\tgrowth\tscales\tfor\ttheir\tservices\tin terms\tof\ttheir\tcustomers\t(developers,\tservices,\tetc.)\tand\ttheir\tcustomers’ specifications.\tInternal\ttools\tcan\tscale\twith,\tfor\texample,\tnumber\tof deployments,\tnumber\tof\tservices,\tnumber\tof\tlogs\taggregated,\tor\tgigabytes\tof data.\tThese\tare\tmore\tcomplicated\tbecause\tof\tthe\tinherent\tdifficulty\tin\tpredicting these\tnumbers,\tbut\tthey\tmust\tbe\tjust\tas\tstraightforward\tand\tpredictable\tas\tthe growth\tscales\tof\tmicroservices\thigher\tin\tthe\tstack.",
      "content_length": 2160,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 116,
      "content": "The\tQuantitative\tGrowth\tScale The\tsecond\tpart\tof\tknowing\tthe\tgrowth\tscale\tis\tdetermining\tits\tquantitative aspects,\twhich\tis\twhere\tRPS/QPS\tand\tsimilar\tmetrics\tcome\tinto\tplay.\tTo determine\tthe\tquantitative\tgrowth\tscale,\twe\tneed\tto\tapproach\tour\tmicroservices with\tthe\tqualitative\tgrowth\tscale\tin\tmind:\tthe\tquantitative\tgrowth\tscale\tis defined\tby\ttranslating\tthe\tqualitative\tgrowth\tscale\tinto\ta\tmeasurable\tquantity. For\texample,\tif\tthe\tqualitative\tgrowth\tscale\tof\tour\tmicroservice\tis\tmeasured\tin “eyeballs”\t(e.g.,\thow\tmany\tpeople\topen\ta\tphone\tapplication),\tand\teach\t“eyeball” results\tin\ttwo\trequests\tto\tour\tmicroservice\tand\tone\tdatabase\ttransaction,\tthen\tour quantitative\tgrowth\tscale\tis\tmeasured\tin\tterms\tof\trequests\tand\ttransactions, resulting\tin\trequests\tper\tsecond\tand\ttransactions\tper\tsecond\tas\tthe\ttwo\tkey quantities\tdetermining\tour\tscalability.\n\nThe\timportance\tof\tchoosing\taccurate\tqualitative\tand\tquantitative\tgrowth\tscales cannot\tbe\toveremphasized.\tAs\twe\twill\tsoon\tsee,\tthe\tgrowth\tscale\twill\tbe\tused when\tmaking\tpredictions\tabout\tthe\tservice’s\toperational\tcosts,\thardware\tneeds, and\tlimitations.",
      "content_length": 1100,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 117,
      "content": "Efficient\tUse\tof\tResources When\tconsidering\tthe\tscalability\tof\tlarge-scale\tdistributed\tsystems\tlike microservice\tecosystems,\tone\tof\tthe\tmost\tuseful\tabstractions\twe\tcan\tmake\tis\tto treat\tproperties\tof\tour\thardware\tand\tinfrastructure\tsystems\tas\tresources.\tCPU, memory,\tdata\tstorage,\tand\tthe\tnetwork\tare\tsimilar\tto\tresources\tin\tthe\tnatural world:\tthey\tare\tfinite,\tthey\tare\tphysical\tobjects\tin\tthe\treal\tworld,\tand\tthey\tmust be\tdistributed\tand\tshared\tbetween\tvarious\tkey\tplayers\tin\tthe\tecosystem.\tAs\twe discussed\tbriefly\tin\t“Organizational\tChallenges”,\thardware\tresources\tare expensive,\tvaluable,\tand\tsometimes\trare,\twhich\tleads\tto\tfierce\tcompetition\tfor resources\twithin\tthe\tmicroservice\tecosystem.\n\nThe\torganizational\tchallenge\tof\tresource\tallocation\tand\tdistribution\tcan\tbe alleviated\tby\tgiving\tbusiness-critical\tmicroservices\ta\tgreater\tshare\tof\tthe resources.\tResource\tneeds\tcan\tbe\tprioritized\tby\tcategorizing\tvarious microservices\twithin\tthe\tecosystem\taccording\tto\ttheir\timportance\tand\tvalue\tto the\toverall\tbusiness:\tif\tresources\tare\tscarce\tacross\tthe\tecosystem,\tthe\tmost business-critical\tservices\tcan\tbe\tgiven\thigher\tpriority\twith\tregard\tto\tresource allocation.\n\nThe\ttechnical\tchallenge\tof\tresource\tallocation\tand\tdistribution\tpresents\tsome difficulty,\tbecause\tmany\tdecisions\tneed\tto\tbe\tmade\tabout\tthe\tfirst\tlayer\t(the hardware\tlayer)\tof\tthe\tmicroservice\tecosystem.\tMicroservices\tcan\tbe\tgiven dedicated\thardware\tso\tthat\tonly\tone\tservice\twill\trun\ton\teach\thost,\tbut\tthis\tcan\tbe rather\texpensive\tand\tan\tinefficient\tuse\tof\thardware\tresources.\tMany\tengineering organizations\topt\tto\tshare\thardware\tamong\tmultiple\tmicroservices,\tand\teach host\twill\trun\tseveral\tdifferent\tservices\t—\ta\tpractice\tthat\tis,\tin\tmost\tcases,\ta\tmore efficient\tuse\tof\thardware\tresources.",
      "content_length": 1753,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 118,
      "content": "THE\tDANGERS\tOF\tSHARED\tHARDWARE\tRESOURCES\n\nWhile\trunning\tmany\tdifferent\tmicroservices\ton\tone\tmachine\t(that\tis,\tsharing\tmachines between\tmicroservices)\tis\tusually\ta\tmore\tefficient\tuse\tof\thardware\tresources,\tcare\tmust\tbe taken\tto\tensure\tthat\tthe\tmicroservices\tare\tsufficiently\tisolated\tand\tdon’t\tcompromise\tthe performance,\tefficiency,\tor\tavailability\tof\ttheir\tneighboring\tmicroservices.\tContainerization (using\tDocker)\talong\twith\tresource\tisolation\tcan\thelp\tprevent\tmicroservices\tfrom\tbeing harmed\tby\tbadly\tbehaved\tneighbors.\n\nOne\tof\tthe\tmost\teffective\tways\tto\tallocate\tand\tdistribute\thardware\tresources across\ta\tmicroservice\tecosystem\tis\tto\tfully\tabstract\taway\tthe\tnotion\tof\ta\thost\tand replace\tit\twith\thardware\tresources\tusing\tresource\tabstraction\ttechnologies\tlike Apache\tMesos.\tUsing\tthis\tlevel\tof\tresource\tabstraction\tallows\tresources\tto\tbe allocated\tdynamically,\teliminating\tmany\tof\tthe\tpitfalls\tassociated\twith\tresource allocation\tand\tdistribution\tin\tlarge-scale\tdistributed\tsystems\tlike\tmicroservice ecosystems.",
      "content_length": 1016,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 119,
      "content": "Resource\tAwareness Before\thardware\tresources\tcan\tbe\tefficiently\tallocated\tand\tdistributed\tto microservices\twithin\tthe\tmicroservice\tecosystem,\tit\tis\timportant\tto\tidentify\tthe resource\trequirements\tand\tresource\tbottlenecks\tof\teach\tmicroservice.\tResource requirements\tare\tthe\tspecific\tresources\t(CPU,\tRAM,\tetc.)\tthat\teach\tmicroservice needs;\tidentifying\tthese\tis\tessential\tfor\trunning\ta\tscalable\tservice.\tResource bottlenecks\tare\tthe\tscalability\tand\tperformance\tlimitations\tof\teach\tindividual microservice\tthat\tare\tdependent\ton\tfeatures\tof\tits\tresources.",
      "content_length": 551,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 120,
      "content": "Resource\tRequirements The\tresource\trequirements\tof\ta\tmicroservice\tare\tthe\thardware\tresources\tthe microservice\tneeds\tin\torder\tto\trun\tproperly,\tto\tprocess\ttasks\tefficiently,\tand\tto be\tscaled\tvertically\tand/or\thorizontally.\tThe\ttwo\tmost\timportant\tand\trelevant hardware\tresources\ttend\tto\tbe,\tunsurprisingly,\tCPU\tand\tRAM\t(in\tmultithreaded environments,\tthreads\tbecome\tthe\tthird\timportant\tresource).\tDetermining\tthe resource\trequirements\tof\ta\tmicroservice\tthen\tentails\tquantifying\tthe\tCPU\tand RAM\tthat\tone\tinstance\tof\tthe\tservice\tneeds\tin\torder\tto\trun.\tThis\tis\tessential\tfor resource\tabstraction,\tfor\tresource\tallocation\tand\tdistribution,\tand\tfor determining\tthe\toverall\tscalability\tand\tperformance\tof\tthe\tmicroservice.",
      "content_length": 713,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 121,
      "content": "IDENTIFYING\tADDITIONAL\tRESOURCE\tREQUIREMENTS\n\nWhile\tCPU\tand\tRAM\tare\tthe\ttwo\tmost\tcommon\tresource\trequirements,\tit’s\timportant\tto\tkeep an\teye\tout\tfor\tother\tresources\tthat\ta\tmicroservice\tmay\tneed\twithin\tthe\tecosystem.\tThese\tcan be\thardware\tresources\tlike\tdatabase\tconnections\tor\tapplication\tplatform\tresources\tlike\tlogging quotas.\tBeing\taware\tof\tthe\tneeds\tof\ta\tspecific\tmicroservice\tcan\tdo\ta\tlot\tto\timprove\tscalability and\tperformance.\n\nCalculating\tthe\tspecific\tresource\trequirements\tof\ta\tmicroservice\tcan\tbe\ta\ttricky, lengthy\tprocess,\tbecause\tthere\tare\tmany\trelevant\tfactors.\tThe\tkey\there,\tas\tI mentioned\tearlier,\tis\tto\tdetermine\twhat\tthe\trequirements\tare\tfor\tonly\tone instance\tof\tthe\tservice.\tThe\tmost\teffective\tand\tefficient\tway\tto\tscale\tour\tservice is\tto\tscale\tit\thorizontally:\tif\tour\ttraffic\tis\tabout\tto\tincrease,\twe\twant\tto\tadd\ta\tfew more\thosts\tand\tdeploy\tour\tservice\tto\tthose\tnew\thosts.\tIn\torder\tfor\tus\tto\tknow how\tmany\thosts\twe\tneed\tto\tadd,\twe\tneed\tto\tknow\twhat\tour\tservice\tlooks\tlike running\ton\tonly\tone\thost:\thow\tmuch\ttraffic\tcan\tit\thandle?\thow\tmuch\tCPU\tdoes it\tutilize?\thow\tmuch\tmemory?\tThose\tnumbers\twill\ttell\tus\texactly\twhat\tthe resource\trequirements\tof\tour\tmicroservice\tare.",
      "content_length": 1186,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 122,
      "content": "Resource\tBottlenecks We\tcan\tdiscover\tand\tquantify\tthe\tperformance\tand\tscalability\tlimitations\tof\tour microservices\tby\tidentifying\tresource\tbottlenecks.\tA\tresource\tbottleneck\tis anything\tinherent\tabout\tthe\tway\tthe\tmicroservice\tutilizes\tits\tresources\tthat\tlimits the\tscalability\tof\tthe\tapplication.\tThis\tcould\tbe\tan\tinfrastructure\tbottleneck\tor something\twithin\tthe\tarchitecture\tof\tthe\tservice\tthat\tprevents\tit\tfrom\tbeing scalable.\tFor\texample,\tthe\tnumber\tof\topen\tdatabase\tconnections\ta\tmicroservice needs\tcan\tbe\ta\tbottleneck\tif\tit\tnears\tthe\tconnection\tlimit\tof\tthe\tdatabase. Another\texample\tof\ta\tcommon\tresource\tbottleneck\tis\twhen\tmicroservices\tneed to\tbe\tvertically\tscaled\t(rather\tthan\thorizontally\tscaled,\twhere\tmore instances/hardware\tis\tadded)\twhen\tthey\texperience\tan\tincrease\tin\ttraffic:\tif\tthe only\tway\tto\tscale\ta\tmicroservice\tis\tto\tincrease\tthe\tresources\tof\teach\tinstance (more\tCPU,\tmore\tmemory),\tthen\tthe\ttwo\tprinciples\tof\tscalability\t(concurrency and\tpartitioning)\tare\tabandoned.\n\nSome\tresource\tbottlenecks\tare\teasy\tto\tidentify.\tIf\tyour\tmicroservice\tcan\tonly\tbe scaled\tto\tmeet\tgrowing\ttraffic\tby\tdeploying\tit\tto\tmachines\twith\tmore\tCPU\tand memory,\tthen\tyou\thave\ta\tscalability\tbottleneck\tand\tneed\tto\trefactor\tthe microservice\tso\tthat\tit\tcan\tbe\tscaled\thorizontally\trather\tthan\tvertically,\tusing concurrency\tand\tpartitioning\tas\tyour\tguiding\tprinciples.",
      "content_length": 1356,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 123,
      "content": "THE\tPITFALLS\tOF\tVERTICAL\tSCALING\n\nVertical\tscaling\tisn’t\ta\tsustainable\tor\tscalable\tway\tto\tarchitect\tmicroservices.\tIt\tmay\tappear\tto work\tout\tall\tright\tin\tsituations\twhere\teach\tmicroservice\thas\tdedicated\thardware,\tbut\tit\twill\tnot work\twell\twith\tthe\tnew\thardware\tabstraction\tand\tisolation\ttechnologies\tthat\tare\tused\tin\tthe tech\tworld\ttoday,\tlike\tDocker\tand\tApache\tMesos.\tAlways\toptimize\tfor\tconcurrency\tand partitioning\tif\tyou\twant\tto\tbuild\ta\tscalable\tapplication.\n\nOther\tresource\tbottlenecks\tare\tnot\tas\tobvious,\tand\tthe\tbest\tway\tto\tdiscover\tthem is\tto\trun\textensive\tload\ttesting\ton\tthe\tservice.\tWe\twill\tcover\tload\ttesting\tin much\tgreater\tdetail\tin\t“Resiliency\tTesting”.",
      "content_length": 668,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 124,
      "content": "Capacity\tPlanning One\tof\tthe\tmost\timportant\trequirements\tof\tbuilding\ta\tscalable\tmicroservice\tis ensuring\tthat\tit\twill\thave\taccess\tto\tnecessary\tand\trequired\thardware\tresources\tas it\tscales.\tEfficiently\tusing\tresources,\tplanning\tfor\tgrowth,\tand\tdesigning\ta microservice\tfor\tperfect\tefficiency\tand\tscalability\tfrom\tthe\tground\tup\tis\tall quickly\tmade\tuseless\tif\tno\thardware\tresources\tare\tavailable\twhen\tthe microservice\tneeds\tto\thost\tmore\tproduction\ttraffic.\tThis\tchallenge\tis\tespecially relevant\tfor\tmicroservices\tthat\tare\toptimized\tfor\thorizontal\tscalability.\n\nIn\taddition\tto\tthe\ttechnical\tchallenges\tthat\taccompany\tthis\tpotential\tproblem, engineering\torganizations\tare\toften\tfaced\twith\tlarger\torganizational-level\tand business-relevant\tissues\tthat\tcome\talong\tfor\tthe\tride:\thardware\tresources\tcost quite\ta\tbit\tof\tmoney,\tbusinesses\tand\tindividual\tdevelopment\tteams\twithin\tthem have\tbudgets\tto\tadhere\tto,\tand\tthese\tbudgets\t(which\ttend\tto\tinclude\thardware) need\tto\tbe\tplanned\tfor\tin\tadvance.\tTo\tensure\tthat\tmicroservices\tcan\tscale properly\twhen\ttraffic\tincreases,\twe\tcan\tperform\tscheduled\tcapacity\tplanning. The\tprinciples\tof\tcapacity\tplanning\tare\tpretty\tstraightforward:\tdetermine\tthe hardware\tneeds\tof\teach\tmicroservice\tin\tadvance,\tbuild\tthe\tneeds\tinto\tthe\tbudget, and\tmake\tsure\tthat\tthe\trequired\thardware\tis\treserved.\n\nTo\tdetermine\tthe\thardware\tneeds\tof\teach\tservice,\twe\tcan\tuse\tthe\tgrowth\tscales (both\tquantitative\tand\tqualitative),\tkey\tbusiness\tmetrics\tand\ttraffic\tpredictions, the\tknown\tresource\tbottlenecks\tand\trequirements,\tand\thistorical\tdata\tabout\tthe microservice’s\ttraffic.\tThis\tis\twhere\tqualitative\tand\tquantitative\tgrowth\tscales come\tin\tespecially\thandy,\tbecause\tthey\tallow\tus\tto\tfigure\tout\tprecisely\thow\tthe scalability\tbehavior\tof\tour\tmicroservices\trelate\tto\thigh-level\tbusiness predictions.\tFor\texample,\tif\twe\tknow\tthat\t(1)\tour\tmicroservice\tscales\twith unique\tvisitors\tto\tthe\toverall\tproduct,\t(2)\teach\tunique\tvisitor\tcorresponds\tto\ta certain\tnumber\tof\trequests\tper\tsecond\tmade\tto\tour\tmicroservice,\tand\t(3)\tthat\tthe company\tpredicts\tthat\tthe\tproduct\twill\treceive\t20,000\tnew\tunique\tvisitors\tin\tthe next\tquarter,\tthen\twe’ll\tknow\texactly\twhat\tour\tcapacity\tneeds\twill\tbe\tfor\tthe next\tquarter.\n\nThis\tneeds\tto\tbe\tbuilt\tinto\tthe\tbudget\tof\teach\tdevelopment\tteam,\teach engineering\torganization,\tand\teach\tcompany.\tRunning\tthis\texercise\ton\ta scheduled\tbasis\tbefore\tbudgeting\tis\tdetermined\tcan\thelp\tengineering organizations\tmake\tsure\tthat\thardware\tresources\tare\tnever\tunavailable\tsimply because\tresource\tbudgeting\twasn’t\tcompleted\tor\tprepared\tfor.\tThe\timportant",
      "content_length": 2560,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 125,
      "content": "thing\there\t(from\tboth\tthe\tengineering\tand\tbusiness\tperspectives)\tis\tto\trecognize the\tcost\tof\tinadequate\tcapacity\tplanning:\tmicroservices\tthat\tcan’t\tscale\tproperly because\tof\thardware\tshortages\tlead\tto\tdecreased\tavailability\twithin\tthe\tentire ecosystem,\twhich\tleads\tto\toutages,\twhich\tcosts\tthe\tcompany\tmoney.",
      "content_length": 307,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 126,
      "content": "LEAD\tTIME\tFOR\tNEW\tHARDWARE\tREQUESTS\n\nOne\tpotential\tproblem\tthat’s\tcommonly\toverlooked\tby\tdevelopment\tteams\tduring\tthe\tcapacity planning\tphase\tis\tthat\tthe\thardware\tthat\tis\tneeded\tfor\tthe\tmicroservice\tmight\tnot\texist\tat\tthe time\tof\tplanning\tand\tmay\tneed\tto\tbe\tacquired,\tinstalled,\tand\tconfigured\tbefore\tany microservices\tcan\trun\ton\tit.\tBefore\tscheduling\tcapacity\tplanning,\ttake\tcare\tto\tfind\tout\tthe exact\tlead\ttime\tneeded\tfor\tacquiring\tnew\thardware\tin\torder\tto\tavoid\tlong\tshortages\tin\tcritical times,\tand\tallow\tsome\troom\tfor\tdelays\tin\tthe\tprocess.\n\nOnce\tthe\thardware\tresources\thave\tbeen\tsecured\tand\tdedicated\tto\teach microservice,\tcapacity\tplanning\tis\tcomplete.\tDetermining\twhen\tand\thow\tto allocate\tthe\thardware\tafter\tthe\tplanning\tphase\tis,\tof\tcourse,\tup\tto\teach engineering\torganization\tand\ttheir\tdevelopment,\tinfrastructure,\tand\toperations teams.\n\nCapacity\tplanning\tcan\tbe\ta\treally\tdifficult\tand\tmanual\ttask.\tLike\tmost\tmanual tasks\twithin\tengineering,\tit\tintroduces\tnew\tmodes\tof\tfailure:\tmanual\tcalculations can\tbe\toff,\tand\teven\ta\tsmall\tshortage\tcan\tprove\tdisastrous\tto\tbusiness-critical services.\tAutomating\tthe\tmajority\tof\tthe\tcapacity\tplanning\tprocess\taway\tfrom development\tand\toperations\tteams\tcuts\tdown\ton\tpotential\terrors\tand\tfailures, and\ta\tgreat\tway\tto\taccomplish\tthis\tis\tto\tbuild\tand\trun\ta\tcapacity\tplanning\tself- service\ttool\twithin\tthe\tapplication\tplatform\tlayer\tof\tthe\tmicroservice\tecosystem.",
      "content_length": 1404,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 127,
      "content": "Dependency\tScaling The\tscalability\tof\ta\tmicroservice’s\tdependencies\tcan\tpresent\ta\tscalability problem\tof\tits\town.\tA\tmicroservice\tthat\tis\tarchitected,\tbuilt,\tand\trun\tto\tbe perfectly\tscalable\tin\tevery\tway\tstill\tfaces\tscalability\tchallenges\tif\tit’s dependencies\tcannot\tscale\twith\tit.\tIf\teven\tone\tcritical\tdependency\tis\tunable\tto scale\twith\tits\tclients,\tthen\tthe\tentire\tdependency\tchain\tsuffers.\tEnsuring\tthat\tall dependencies\twill\tscale\twith\ta\tmicroservice’s\texpected\tgrowth\tis\tessential\tfor building\tproduction-ready\tservices.\n\nThis\tchallenge\tis\trelevant\tto\tevery\tindividual\tmicroservice\tand\tevery\tpart\tof\tthe microservice\tecosystem\tstack,\twhich\tmeans\tthat\tmicroservice\tteams\talso\tneed\tto make\tsure\tthat\ttheir\tservice\tisn’t\ta\tscalability\tbottleneck\tfor\tits\tclients.\tIn\tother words,\tadditional\tcomplexity\tis\tintroduced\tby\tthe\trest\tof\tthe\tmicroservice ecosystem.\tThe\tinevitable\tadditional\ttraffic\tand\tgrowth\tfrom\ta\tmicroservice’s clients\tneed\tto\tbe\tprepared\tfor.",
      "content_length": 958,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 128,
      "content": "QUALITATIVE\tGROWTH\tSCALES\tAND\tDEPENDENCY SCALABILITY\n\nWhen\tdealing\twith\tincredibly\tcomplex\tdependency\tchains,\tmaking\tsure\tthat\tall\tmicroservice teams\ttie\tthe\tscalability\tof\ttheir\tservices\tto\thigh-level\tbusiness\tmetrics\t(using\tthe\tqualitative growth\tscale)\tcan\tmake\tsure\tthat\tall\tservices\tare\tproperly\tprepared\tfor\texpected\tgrowth,\teven when\tcross-team\tcommunication\tbecomes\tdifficult.\n\nThe\tproblem\tof\tdependency\tscaling\tis\tan\tespecially\tstrong\targument\tfor\tthe implementation\tof\tscalability\tand\tperformance\tstandards\tacross\tevery\tpart\tof\tthe microservice\tecosystem.\tMost\tmicroservices\tdo\tnot\tlive\tin\tisolation.\tNearly every\tsingle\tmicroservice\tis\ta\tsmall\tpart\tof\tlarge,\tintertwined,\tintricate dependency\tchains.\tIn\tmost\tcases,\tscaling\tthe\tentire\toverall\tproduct,\tthe organization,\tand\tthe\tecosystem\teffectively\trequires\tthat\teach\tpiece\tof\tthe system\tscales\ttogether\twith\tthe\trest.\tHaving\ta\tsmall\tnumber\tof\tsuper\tefficient, performant,\tand\tscalable\tmicroservices\tin\ta\tsystem\twhere\tthe\trest\tof\tthe\tservices aren’t\theld\tto\t(and\tdon’t\tmeet)\tthe\tsame\tstandards\trenders\tthe\tefficiency\tof\tthe standardized\tservices\tcompletely\tmoot.\n\nAside\tfrom\tstandardization\tacross\tthe\tecosystem,\tand\tholding\teach\tmicroservice development\tteam\tto\thigh\tscalability\tstandards,\tit’s\timportant\tthat\tdevelopment teams\twork\ttogether\tacross\tmicroservice\tboundaries\tto\tensure\tthat\teach dependency\tchain\twill\tscale\ttogether.\tThe\tdevelopment\tteams\tresponsible\tfor any\tdependencies\tof\ta\tmicroservice\tneed\tto\tbe\talerted\twhen\tincreases\tin\ttraffic are\texpected.\tCross-team\tcommunication\tand\tcollaboration\tare\tessential\there: regularly\tcommunicating\twith\tclients\tand\tdependencies\tabout\ta\tservice’s scalability\trequirements,\tstatus,\tand\tany\tbottlenecks\tcan\thelp\tto\tguarantee\tthat any\tservices\tthat\trely\ton\teach\tother\tare\tprepared\tfor\tgrowth\tand\taware\tof\tany potential\tscalability\tbottlenecks.\tA\tstrategy\tthat\tI’ve\tused\tto\thelp\tteams accomplish\tthis\tis\tby\tholding\tarchitecture\tand\tscalability\toverview\tmeetings with\tteams\twhose\tservices\trely\ton\tone\tanother.\tIn\tthese\tmeetings,\twe\tcover\tthe architecture\tof\teach\tservice\tand\tits\tscalability\tlimitations,\tthen\tdiscuss\ttogether what\tneeds\tto\tbe\tdone\tto\tscale\tthe\tentire\tset\tof\tservices.",
      "content_length": 2193,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 129,
      "content": "Traffic\tManagement As\tservices\tscale,\tand\tthe\tnumber\tof\trequests\teach\tservice\tmust\thandle\tgrows,\ta scalable,\tperformant\tservice\tmust\talso\thandle\ttraffic\tintelligently.\tThere\tare several\taspects\tto\tmanaging\ttraffic\tin\ta\tscalable,\tperformant\tway:\tfirst\tof\tall,\tthe growth\tscale\t(quantitative\tand\tqualitative)\tneeds\tto\tbe\tused\tto\tpredict\tfuture increases\t(or\tdecreases)\tin\ttraffic;\tsecond,\tthe\ttraffic\tpatterns\tmust\tbe\twell understood\tand\tprepared\tfor;\tand\tthird,\tmicroservices\tneed\tto\tbe\table\tto intelligently\thandle\tincreases\tin\ttraffic,\tas\twell\tas\tsurges\tor\tbursts\tof\ttraffic.\n\nWe’ve\talready\tcovered\tthe\tfirst\taspect\tearlier\tin\tthis\tchapter:\tunderstanding\tthe growth\tscales\t(both\tquantitative\tand\tqualitative)\tof\ta\tmicroservice\tallows\tus\tto understand\tcurrent\ttraffic\tloads\ton\tthe\tservice\tas\twell\tas\tprepare\tfor\tfuture\ttraffic growth.\n\nUnderstanding\tcurrent\ttraffic\tpatterns\thelps\twhen\tinteracting\twith\tthe\tservice\ton the\tground\tfloor\tin\ta\tlot\tof\treally\tinteresting\tways.\tWhen\ttraffic\tpatterns\tare clearly\tidentified,\tboth\tin\tterms\tof\tthe\trequests\tper\tsecond\tsent\tto\tthe\tservice over\ttime\tand\tall\tkey\tmetrics\t(see\tChapter\t6,\tMonitoring,\tfor\tmore\tabout\tkey metrics),\tchanges\tto\tthe\tservice,\toperational\tdowntimes,\tand\tdeployments\tcan\tbe scheduled\tto\tavoid\tpeak\ttraffic\ttimes,\tcutting\tdown\ton\tpossible\tfuture\toutages\tif a\tbug\tis\tdeployed\tand\ton\tpotential\tdowntime\tif\tthe\tmicroservice\tis\trestarted while\texperiencing\tpeak\ttraffic\tload.\tClosely\tmonitoring\tthe\ttraffic\tin\tlight\tof the\ttraffic\tpatterns\tand\ttuning\tthe\tmonitoring\tthresholds\tcarefully\twith\tthe\ttraffic patterns\tof\tthe\tmicroservice\tin\tmind\tcan\thelp\tcatch\tany\tissues\tand\tincidents quickly\tbefore\tthey\tcause\tan\toutage\tor\tlead\tto\tdecreased\tavailability\t(the principles\tof\tproduction-ready\tmonitoring\tare\tcovered\tin\tgreater\tdetail\tin Chapter\t6,\tMonitoring).\n\nWhen\twe\tcan\tpredict\tfuture\ttraffic\tgrowth\tand\tunderstand\tthe\tcurrent\tand\tpast traffic\tpatterns\twell\tenough\tto\tknow\thow\tthe\tpatterns\twill\tchange\twith\texpected growth,\twe\tcan\tperform\tload\ttesting\ton\tour\tservices\tto\tmake\tsure\tthat\tthey behave\tas\twe\texpect\tunder\theavier\ttraffic\tloads.\tThe\tdetails\tof\tload\ttesting\tare covered\tin\t“Resiliency\tTesting”.\n\nThe\tthird\taspect\tof\ttraffic\tmanagement\tis\twhere\tthings\tget\tespecially\ttricky.\tThe way\ta\tmicroservice\thandles\ttraffic\tshould\tbe\tscalable,\twhich\tmeans\tit\tshould\tbe prepared\tfor\tdrastic\tchanges\tin\ttraffic,\tespecially\tbursts\tof\ttraffic,\thandle\tthem carefully,\tand\tprevent\tthem\tfrom\ttaking\tdown\tthe\tservice\tentirely.\tIt’s\teasier said\tthan\tdone,\tbecause\teven\tthe\tmost\twell-monitored,\tscalable,\tand\tperformant microservices\tcan\texperience\tmonitoring,\tlogging,\tand\tother\tgeneral\tissues\tif",
      "content_length": 2641,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 130,
      "content": "microservices\tcan\texperience\tmonitoring,\tlogging,\tand\tother\tgeneral\tissues\tif traffic\tsuddenly\tspikes.\tThese\tsorts\tof\tspikes\tshould\tbe\tprepared\tfor\tat\tthe infrastructure\tlevel,\twithin\tall\tmonitoring\tand\tlogging\tsystems,\tand\tby\tthe development\tteam\tas\tpart\tof\tthe\tservice’s\tresiliency\ttesting\tsuite.\n\nThere’s\tone\tadditional\taspect\tI\twant\tto\tmention\tthat’s\trelated\tto\tmanagement\tof traffic\tbetween\tand\tacross\tvarious\tlocations.\tMany\tmicroservice\tecosystems won’t\tbe\tdeployed\tonly\tin\tone\tlocation,\tone\tdatacenter,\tor\tone\tcity,\tbut\trather across\tmultiple\tdatacenters\tacross\tthe\tcountry\t(or\teven\tthe\tworld).\tIt’s\tnot uncommon\tfor\tdatacenters\tthemselves\tto\texperience\tlarge-scale\toutages,\tand when\tthis\thappens,\tthe\tentire\tmicroservice\tecosystem\tcan\t(and\tusually\twill)\tgo down\twith\tthe\tdatacenter.\tDistributing\tand\trouting\ttraffic\tappropriately\tbetween datacenters\tis\tthe\tresponsibility\tof\tthe\tinfrastructure\tlevel\t(in\tparticular,\tthe communication\tlayer)\tof\tthe\tmicroservice\tecosystem,\tbut\teach\tmicroservice needs\tto\tbe\tprepared\tto\tre-route\ttraffic\tfrom\tone\tdatacenter\tto\tanother\twithout the\tservice\texperiencing\tany\tdecreased\tavailability.",
      "content_length": 1135,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 131,
      "content": "Task\tHandling\tand\tProcessing Every\tmicroservice\tin\tthe\tmicroservice\tecosystem\twill\tneed\tto\tprocess\ttasks\tof some\tsort.\tThat\tis,\tevery\tmicroservice\twill\tbe\treceiving\trequests\tfrom\tupstream client\tservices\twho\teither\tneed\tsome\tsort\tof\tinformation\tfrom\tthe\tmicroservice or\tneed\tthe\tmicroservice\tto\tcompute\tor\tprocess\tsomething\tand\tthen\treturn information\tabout\tthat\tcomputation\tor\tprocess,\tand\tthen\tthe\tmicroservice\twill need\tto\tfulfill\tthat\trequest\t(usually\tby\tcommunicating\twith\tdownstream\tservices in\taddition\tto\tdoing\tsome\twork\tof\tits\town)\tand\treturn\tany\trequested\tinformation or\tresponse\tto\tthe\tclient\tthat\tsent\tthe\trequest.",
      "content_length": 626,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 132,
      "content": "Programming\tLanguage\tLimitations Microservices\tcan\taccomplish\tthis\tand\tplay\ttheir\trequired\trole\tin\ta\tmyriad\tof ways,\tand\tthe\tways\tin\twhich\tthey\twill\tperform\tcomputations,\tinteract\twith downstream\tservices,\tand\tprocess\tvarious\ttasks\twill\tdepend\ton\tthe\tlanguage\tthat the\tservice\tis\twritten\tin,\tand\tconsequently,\ton\tthe\tarchitecture\tof\tthe\tservice (which\tis,\tin\tmany\tways,\tdetermined\tby\tthe\tlanguage).\tFor\texample,\ta microservice\twritten\tin\tPython\thas\ta\tnumber\tof\tways\tthat\tit\tcan\tprocess\tvarious tasks,\tsome\tof\twhich\trequire\tthe\tuse\tof\tasynchronous\tframeworks\t(like\tTornado) and\tothers\twhich\tcan\tutilize\tmessaging\ttechnologies\tlike\tRabbitMQ\tand\tCelery to\tefficiently\tprocess\ttasks.\tFor\tthese\treasons,\ta\tmicroservice’s\tability\tto\thandle and\tprocess\ttasks\tin\ta\tscalable\tand\tperformant\tmanner\tis\tdictated\tin\tpart\tby choice\tof\tlanguage.",
      "content_length": 830,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 133,
      "content": "BEWARE\tOF\tSCALABILITY\tAND\tPERFORMANCE LIMITATIONS\tOF\tPROGRAMMING\tLANGUAGES\n\nMany\tprogramming\tlanguages\tare\tnot\toptimized\tfor\tthe\tperformance\tand\tscalability requirements\tof\tmicroservice\tarchitecture,\tor\tdo\tnot\thave\tscalable\tor\tperformant\tframeworks that\tallow\tmicroservices\tto\tprocess\ttasks\tefficiently.\n\nBecause\tof\tthe\tlimitations\tintroduced\tby\tlanguage\tchoice\twhen\tit\tcomes\tto\ta microservice’s\tability\tto\tprocess\ttasks\tefficiently,\tlanguage\tchoice\tbecomes extremely\timportant\tin\tmicroservice\tarchitecture.\tTo\tmany\tdevelopers,\tone\tof the\tselling\tpoints\tof\tthe\tadoption\tof\tmicroservice\tarchitecture\tis\tthe\tability\tto write\ta\tmicroservice\tin\tany\tlanguage,\tand\tthis\tis\tusually\ttrue,\tbut\twith\ta\tcaveat: programming\tlanguage\tconstraints\tneed\tto\tbe\ttaken\tinto\taccount,\tand\tlanguage choice\tshould\tbe\tdetermined\tnot\tby\twhether\ta\tlanguage\tis\tfashionable\tor\tfun\t(or even\twhether\tit\tis\tthe\tmost\tcommon\tlanguage\tthat\tthe\tdevelopment\tteam\tis familiar\twith),\tbut\twith\tthe\tperformance\tand\tscalability\tlimitations\tof\teach potential\tlanguage\theld\tas\tthe\tdeciding\tfactors.\tThere\tis\tno\tone\t“best”\tlanguage to\twrite\ta\tmicroservice\tin,\tbut\tthere\tare\tlanguages\tthat\tare\tbetter\tsuited\tthan others\tto\tcertain\ttypes\tof\tmicroservices.",
      "content_length": 1209,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 134,
      "content": "Handling\tRequests\tand\tProcessing\tTasks\tEfficiently Language\tchoice\taside,\tproduction-readiness\tstandardization\trequires\teach microservice\tto\tbe\tboth\tscalable\tand\tperformant,\twhich\tmeans\tthat microservices\tneed\tto\tbe\table\tto\thandle\tand\tprocess\ta\tlarge\tnumber\tof\ttasks\tat the\tsame\ttime,\thandle\tand\tprocess\tthose\ttasks\tefficiently,\tand\tbe\tprepared\tfor tasks\tand\trequests\tto\tincrease\tin\tthe\tfuture.\tWith\tthis\tin\tmind,\tdevelopment teams\tshould\tbe\table\tto\tanswer\tthree\tbasic\tquestions\tabout\ttheir\tmicroservices: how\ttheir\tmicroservice\tprocesses\ttasks,\thow\tefficiently\ttheir\tmicroservice processes\tthose\ttasks,\tand\thow\ttheir\tmicroservice\twill\tperform\tas\tthe\tnumber\tof requests\tscales.\n\nTo\tensure\tscalability\tand\tperformance,\tmicroservices\tneed\tto\tprocess\ttasks efficiently.\tIn\torder\tto\tdo\tthis,\tthey\tneed\tto\thave\tboth\tconcurrency\tand partitioning.\tConcurrency\trequires\tthat\tthe\tservice\tcan’t\thave\tone\tsingle\tprocess that\tdoes\tall\tof\tthe\twork:\tthat\tprocess\twill\tpick\tup\tone\ttask\tat\ta\ttime,\tcomplete the\tsteps\tin\ta\tspecific\torder,\tand\tthen\tmove\ton\tto\tthe\tnext,\twhich\tis\ta\trelatively inefficient\tway\tto\tprocess\ttasks.\tInstead\tof\tarchitecting\tour\tservice\tto\tuse\ta single\tprocess,\twe\tcan\tintroduce\tconcurrency\tso\tthat\teach\ttask\tis\tbroken\tup\tinto smaller\tpieces.",
      "content_length": 1249,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 135,
      "content": "WRITE\tMICROSERVICES\tIN\tPROGRAMMING LANGUAGES\tTHAT\tARE\tOPTIMIZED\tFOR\tCONCURRENCY AND\tPARTITIONING\n\nSome\tlanguages\tare\tbetter\tsuited\tfor\tefficient\t(concurrent\tand\tpartitioned)\ttask\thandling\tand processing\tthan\tothers.\tWhen\twriting\ta\tnew\tmicroservice,\tmake\tsure\tthat\tthe\tlanguage\tthe service\tis\tbeing\twritten\tin\twon’t\tintroduce\tscalability\tand\tperformance\tconstraints\ton\tthe microservices.\tMicroservices\tthat\tare\talready\twritten\tin\tlanguages\twith\tefficiency\tlimitations can\t(and\tshould)\tbe\trewritten\tin\tmore\tappropriate\tlanguages,\ta\ttime\tconsuming\tbut\tincredibly rewarding\ttask\tthat\tcan\tdrastically\timprove\tscalability\tand\tperformance.\tFor\texample,\tif\tyou are\toptimizing\tfor\tconcurrency\tand\tpartitioning,\tand\twant\tto\tuse\tan\tasynchronous\tframework to\thelp\tyou\taccomplish\tthat,\twriting\tyour\tservice\tin\tPython\t(rather\tthan\tC++,\tJava,\tor\tGo\t— three\tlanguages\tbuilt\tfor\tconcurrency\tand\tpartitioning)\tis\tgoing\tto\tintroduce\ta\tlot\tof\tscalability and\tperformance\tbottlenecks\tthat\twill\tbe\tdifficult\tto\tmitigate.\n\nTaking\tthe\tsmaller\tpieces\tof\tthese\ttasks,\twe\tcan\tprocess\tthem\tmore\tefficiently using\tpartitioning,\twhere\teach\ttask\tis\tnot\tonly\tbroken\tup\tinto\tsmall\tpieces\tbut can\tbe\tprocessed\tin\tparallel.\tIf\twe\thave\ta\tlarge\tnumber\tof\tsmall\ttasks,\twe\tcan process\tthen\tall\tat\tthe\tsame\ttime\tby\tsending\tthem\tto\ta\tset\tof\tworkers\tthat\tcan process\tthem\tin\tparallel.\tIf\twe\tneed\tto\tprocess\tmore\ttasks,\twe\tcan\teasily\tscale with\tthe\tincreased\tdemand\tby\tadding\tadditional\tworkers\tto\tprocess\tthe\tnew tasks\twithout\taffecting\tthe\tefficiency\tof\tour\tsystem.\tTogether,\tconcurrency\tand partitioning\thelp\tensure\tthat\tour\tmicroservice\tis\toptimized\tfor\tboth\tscalability and\tpartitioning.",
      "content_length": 1649,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 136,
      "content": "Scalable\tData\tStorage Microservices\tneed\tto\thandle\tdata\tin\ta\tscalable\tand\tperformant\tway.\tThe\tway in\twhich\ta\tmicroservice\tstores\tand\thandles\tdata\tcan\teasily\tbecome\tthe\tmost significant\tlimitation\tor\tconstraint\tthat\tkeeps\tit\tfrom\tbecoming\tscalable\tand performant:\tchoosing\tthe\twrong\tdatabase,\tthe\twrong\tschema,\tor\ta\tdatabase\tthat doesn’t\tsupport\ttest\ttenancy\tcan\tend\tup\tcompromising\tthe\toverall\tavailability\tof a\tmicroservice.\tChoosing\tthe\tright\tdatabase\tfor\ta\tmicroservice\tis\ta\ttopic\tthat, like\tall\tthe\tother\ttopics\tcovered\tin\tthis\tbook,\tis\tincredibly\tcomplex,\tand\twe\twill only\tscratch\tthe\tsurface\tin\tthis\tchapter.\tIn\tthe\tfollowing\tsections,\twe’ll\ttake\ta look\tat\tseveral\tthings\tto\tconsider\twhen\tchoosing\tdatabases\tin\tmicroservice ecosystems,\tand\tthen\tat\tsome\tdatabase\tchallenges\tthat\tare\tspecific\tto microservice\tarchitecture.",
      "content_length": 826,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 137,
      "content": "Database\tChoice\tin\tMicroservice\tEcosystems Building,\trunning,\tand\tmaintaining\tdatabases\tin\tlarge\tmicroservice\tecosystems is\tnot\tan\teasy\ttask.\tSome\tcompanies\tadopting\tmicroservice\tarchitecture\topt\tto allow\tdevelopment\tteams\tto\tchoose,\tbuild,\tand\tmaintain\ttheir\town\tdatabases, while\tothers\twill\tdecide\ton\tat\tleast\tone\tdatabase\toption\tthat\tworks\tfor\tthe majority\tof\tthe\tmicroservices\tat\tthe\tcompany,\tand\tbuild\ta\tseparate\tteam\tto\trun and\tmaintain\tthe\tdatabase(s)\tso\tthat\tdevelopers\tcan\tfocus\tsolely\ton\ttheir\town microservices.\n\nIf\twe\tthink\tabout\tmicroservice\tarchitecture\tas\tbeing\tcomposed\tof\tfour\tseparate layers\t(see\t“Microservice\tArchitecture”\tfor\tmore\tdetails)\tand\trecognize\tthat, thanks\tto\tthe\tInverse\tConway’s\tLaw,\tthe\tengineering\torganizations\tof companies\tthat\tadopt\tmicroservice\tarchitecture\twill\tmirror\tthe\tarchitecture\tof\tits product,\tthen\twe\tcan\tsee\twhere\tthe\tresponsibility\tfor\tchoosing\tthe\tappropriate databases,\tbuilding\tthem,\trunning\tthem,\tand\tmaintaining\tthem\tlies:\teither\tin\tthe application\tplatform\tlayer,\twhich\twould\tallow\tdatabases\tto\tbe\tprovided\tas\ta service\tto\tmicroservice\tteams,\tor\tthe\tmicroservice\tlayer,\twhere\tthe\tdatabase used\tby\ta\tmicroservice\tis\tconsidered\tpart\tof\tthe\tservice.\tI’ve\tseen\tboth\tof\tthese setups\tin\tpractice\tat\tvarious\tcompanies,\tand\tsome\twork\tbetter\tthan\tothers.\tI’ve also\tnoticed\tthat\tone\tapproach\tto\tthis\tworks\tparticularly\twell:\toffering\tdatabases as\ta\tservice\twithin\tthe\tapplication\tplatform\tlayer,\tand\tthen\tallowing\tindividual microservice\tdevelopment\tteams\tto\trun\ttheir\town\tdatabase\tif\tthe\tdatabases offered\tas\tpart\tof\tthe\tapplication\tplatform\tdo\tnot\tfit\ttheir\tspecific\tneeds.\n\nThe\tmost\tcommon\ttypes\tof\tdatabases\tare\trelational\tdatabases\t(SQL,\tMySQL) and\tNoSQL\tdatabases\t(Cassandra,\tVertica,\tMongoDB,\tand\tkey-value\tstores\tlike Dynamo,\tRedis,\tand\tRiak).\tChoosing\tbetween\ta\trelational\tdatabase\tand\ta NoSQL\tdatabase,\tand\tthen\tchoosing\tthe\tspecific\tappropriate\tdatabase\tfor\ta microservice’s\tneeds\tdepends\ton\tthe\tanswers\tto\tseveral\tquestions:\n\nWhat\tare\tthe\tneeded\ttransactions\tper\tsecond\tof\teach\tmicroservice?\n\nWhat\ttype\tof\tdata\tdoes\teach\tmicroservice\tneed\tto\tstore?\n\nWhat\tis\tthe\tschema\tneeded\tby\teach\tmicroservice?\tAnd\thow\toften\twill\tit need\tto\tbe\tchanged?\n\nDo\tthe\tmicroservices\tneed\tstrong\tconsistency\tor\teventual\tconsistency?",
      "content_length": 2269,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 138,
      "content": "Are\tthe\tmicroservices\tread-heavy,\twrite-heavy,\tor\tboth?\n\nDoes\tthe\tdatabase\tneed\tto\tbe\tscaled\thorizontally\tor\tvertically?\n\nRegardless\tof\twhether\tthe\tdatabase\tis\tmaintained\tas\tpart\tof\tthe\tapplication platform\tor\tby\teach\tindividual\tmicroservice\tdevelopment\tteam,\tdatabase\tchoice should\tbe\tdriven\tby\tthe\tanswers\tto\tthose\tquestions.\tFor\texample,\tif\tthe\tdatabase in\tquestion\tneeds\tto\tbe\tscaled\thorizontally,\tor\tif\treads\tand\twrites\tneed\tto\tbe made\tin\tparallel,\tthen\ta\tNoSQL\tdatabase\tshould\tbe\tchosen,\tsince\trelational databases\tstruggle\twith\thorizontal\tscaling\tand\tparallel\treads\tand\twrites.",
      "content_length": 584,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 139,
      "content": "Database\tChallenges\tin\tMicroservice\tArchitecture There\tare\tseveral\tchallenges\twith\tdatabases\tthat\tare\tspecific\tto\tmicroservice architecture.\tWhen\tdatabases\tare\tshared\tamong\tmicroservices,\tcompetition\tfor resources\tkicks\tin,\tand\tsome\tmicroservices\tmay\tutilize\tmore\tthan\ttheir\tfair\tshare of\tthe\tavailable\tstorage.\tEngineers\tbuilding\tand\tmaintaining\tshared\tdatabases need\tto\tdesign\ttheir\tdata\tstorage\tsolutions\tso\tthat\tthe\tdatabase\tcan\tbe\teasily scaled\tif\tany\tof\tthe\ttenant\tmicroservices\teither\trequire\tadditional\tspace\tor\tare running\tthe\trisk\tof\tusing\tup\tall\tavailable\tspace.",
      "content_length": 573,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 140,
      "content": "WATCH\tOUT\tFOR\tDATABASE\tCONNECTIONS\n\nSome\tdatabases\thave\tstrict\tlimitations\ton\tthe\tnumber\tof\tdatabase\tconnections\tthat\tcan\tbe\topen simultaneously.\tMake\tsure\tthat\tall\tconnections\tare\tclosed\tappropriately\tto\tavoid compromising\tboth\ta\tservice’s\tavailability\tand\tthe\tavailability\tof\tthe\tdatabase\tto\tall microservices\tthat\tuse\tit.\n\nAnother\tchallenge\tmicroservices\toften\tface,\tespecially\tonce\tthey’ve\tbuilt\tand standardized\tstable\tand\treliable\tdevelopment\tcycles\tand\tdeployment\tpipelines,\tis the\thandling\tof\ttest\tdata\tfrom\tend-to-end\ttesting,\tload\ttesting,\tand\tany\ttest\twrites done\tin\tstaging.\tAs\tmentioned\tin\t“The\tDeployment\tPipeline”,\tthe\tstaging\tphase of\tthe\tdeployment\tpipeline\trequires\treading\tand/or\twriting\tto\tdatabases.\tIf\tfull staging\thas\tbeen\timplemented,\tthen\tthe\tstaging\tphase\twill\thave\tits\town\tseparate test\tand\tstaging\tdatabase,\tbut\tpartial\tstaging\trequires\tread\tand\twrite\taccess\tto production\tservers,\tso\tgreat\tcare\tneeds\tto\tbe\ttaken\tto\tensure\tthat\ttest\tdata\tis handled\tappropriately:\tit\tneeds\tto\tbe\tclearly\tmarked\tas\ttest\tdata\t(a\tprocess known\tas\ttest\ttenancy),\tand\tthen\tall\ttest\tdata\tmust\tbe\tdeleted\tat\tregular\tintervals.",
      "content_length": 1131,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 141,
      "content": "Evaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tscalability\tand\tperformance,\tuse\tthe following\tlist\tof\tquestions\tto\tassess\tthe\tproduction-readiness\tof\tyour microservice(s)\tand\tmicroservice\tecosystem.\tThe\tquestions\tare\torganized\tby topic,\tand\tcorrespond\tto\tthe\tsections\twithin\tthis\tchapter.",
      "content_length": 312,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 142,
      "content": "Knowing\tthe\tGrowth\tScale\n\nWhat\tis\tthis\tmicroservice’s\tqualitative\tgrowth\tscale?\n\nWhat\tis\tthis\tmicroservice’s\tquantitative\tgrowth\tscale?",
      "content_length": 135,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 143,
      "content": "Efficient\tUse\tof\tResources\n\nIs\tthe\tmicroservice\trunning\ton\tdedicated\tor\tshared\thardware?\n\nAre\tany\tresource\tabstraction\tand\tallocation\ttechnologies\tbeing\tused?",
      "content_length": 158,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 144,
      "content": "Resource\tAwareness\n\nWhat\tare\tthe\tmicroservice’s\tresource\trequirements\t(CPU,\tRAM,\tetc.)?\n\nHow\tmuch\ttraffic\tcan\tone\tinstance\tof\tthe\tmicroservice\thandle?\n\nHow\tmuch\tCPU\tdoes\tone\tinstance\tof\tthe\tmicroservice\trequire?\n\nHow\tmuch\tmemory\tdoes\tone\tinstance\tof\tthe\tmicroservice\trequire?\n\nAre\tthere\tany\tother\tresource\trequirements\tthat\tare\tspecific\tto\tthis microservice?\n\nWhat\tare\tthe\tresource\tbottlenecks\tof\tthis\tmicroservice?\n\nDoes\tthis\tmicroservice\tneed\tto\tbe\tscaled\tvertically,\thorizontally,\tor\tboth?",
      "content_length": 492,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 145,
      "content": "Capacity\tPlanning\n\nIs\tcapacity\tplanning\tperformed\ton\ta\tscheduled\tbasis?\n\nWhat\tis\tthe\tlead\ttime\tfor\tnew\thardware?\n\nHow\toften\tare\thardware\trequests\tmade?\n\nAre\tany\tmicroservices\tgiven\tpriority\twhen\thardware\trequests\tare\tmade?\n\nIs\tcapacity\tplanning\tautomated,\tor\tis\tit\tmanual?",
      "content_length": 272,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 146,
      "content": "Dependency\tScaling\n\nWhat\tare\tthis\tmicroservice’s\tdependencies?\n\nAre\tthe\tdependencies\tscalable\tand\tperformant?\n\nWill\tthe\tdependencies\tscale\twith\tthis\tmicroservice’s\texpected\tgrowth?\n\nAre\tdependency\towners\tprepared\tfor\tthis\tmicroservice’s\texpected\tgrowth?",
      "content_length": 253,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 147,
      "content": "Traffic\tManagement\n\nAre\tthe\tmicroservice’s\ttraffic\tpatterns\twell\tunderstood?\n\nAre\tchanges\tto\tthe\tservice\tscheduled\taround\ttraffic\tpatterns?\n\nAre\tdrastic\tchanges\tin\ttraffic\tpatterns\t(especially\tbursts\tof\ttraffic)\thandled carefully\tand\tappropriately?\n\nCan\ttraffic\tbe\tautomatically\trouted\tto\tother\tdatacenters\tin\tcase\tof\tfailure?",
      "content_length": 326,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 148,
      "content": "Task\tHandling\tand\tProcessing\n\nIs\tthe\tmicroservice\twritten\tin\ta\tprogramming\tlanguage\tthat\twill\tallow\tthe service\tto\tbe\tscalable\tand\tperformant?\n\nAre\tthere\tany\tscalability\tor\tperformance\tlimitations\tin\tthe\tway\tthe microservice\thandles\trequests?\n\nAre\tthere\tany\tscalability\tor\tperformance\tlimitations\tin\tthe\tway\tthe microservice\tprocesses\ttasks?\n\nDo\tdevelopers\ton\tthe\tmicroservice\tteam\tunderstand\thow\ttheir\tservice processes\ttasks,\thow\tefficiently\tit\tprocesses\tthose\ttasks,\tand\thow\tthe service\twill\tperform\tas\tthe\tnumber\tof\ttasks\tand\trequests\tincreases?",
      "content_length": 549,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 149,
      "content": "Scalable\tData\tStorage\n\nDoes\tthis\tmicroservice\thandle\tdata\tin\ta\tscalable\tand\tperformant\tway?\n\nWhat\ttype\tof\tdata\tdoes\tthis\tmicroservice\tneed\tto\tstore?\n\nWhat\tis\tthe\tschema\tneeded\tfor\tits\tdata?\n\nHow\tmany\ttransactions\tare\tneeded\tand/or\tmade\tper\tsecond?\n\nDoes\tthis\tmicroservice\tneed\thigher\tread\tor\twrite\tperformance?\n\nIs\tit\tread-heavy,\twrite-heavy,\tor\tboth?\n\nIs\tthis\tservice’s\tdatabase\tscaled\thorizontally\tor\tvertically?\tIs\tit\treplicated\tor partitioned?\n\nIs\tthis\tmicroservice\tusing\ta\tdedicated\tor\tshared\tdatabase?\n\nHow\tdoes\tthe\tservice\thandle\tand/or\tstore\ttest\tdata?",
      "content_length": 560,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 150,
      "content": "Chapter\t5.\tFault\tTolerance\tand Catastrophe-Preparedness\n\nA\tproduction-ready\tmicroservice\tis\tfault\ttolerant\tand\tprepared\tfor\tany catastrophe.\tMicroservices\twill\tfail,\tthey\twill\tfail\toften,\tand\tany\tpotential\tfailure scenario\tcan\tand\twill\thappen\tat\tsome\tpoint\twithin\tthe\tmicroservice’s\tlifetime. Ensuring\tavailability\tacross\tthe\tmicroservice\tecosystem\trequires\tcareful\tfailure planning,\tpreparation\tfor\tcatastrophes,\tand\tactively\tpushing\tthe\tmicroservice\tto fail\tin\treal\ttime\tto\tensure\tthat\tit\tcan\trecover\tfrom\tfailures\tgracefully.\n\nThis\tchapter\tcovers\tavoiding\tsingle\tpoints\tof\tfailure,\tcommon\tcatastrophes\tand failure\tscenarios,\thandling\tfailure\tdetection\tand\tremediation,\timplementing different\ttypes\tof\tresiliency\ttesting,\tand\tways\tto\thandle\tincidents\tand\toutages\tat the\torganizational\tlevel\twhen\tfailures\tdo\toccur.",
      "content_length": 816,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 151,
      "content": "Principles\tof\tBuilding\tFault-Tolerant\tMicroservices The\treality\tof\tbuilding\tlarge-scale\tdistributed\tsystems\tis\tthat\tindividual components\tcan\tfail,\tthey\twill\tfail,\tand\tthey\twill\tfail\toften.\tNo\tmicroservice ecosystem\tis\tan\texception\tto\tthis\trule.\tAny\tpossible\tfailure\tscenario\tcan\tand\twill happen\tat\tsome\tpoint\tin\ta\tmicroservice’s\tlifetime,\tand\tthese\tfailures\tare\tmade worse\tby\tthe\tcomplex\tdependency\tchains\twithin\tmicroservice\tecosystems:\tif\tone service\tin\tthe\tdependency\tchain\tfails,\tall\tof\tthe\tupstream\tclients\twill\tsuffer,\tand the\tend-to-end\tavailability\tof\tthe\tentire\tsystem\twill\tbe\tcompromised.\n\nThe\tonly\tway\tto\tmitigate\tcatastrophic\tfailures\tand\tavoid\tcompromising\tthe availability\tof\tthe\tentire\tsystem\tis\tto\trequire\teach\tmicroservice\twithin\tthe ecosystem\tto\tbe\tfault\ttolerant\tand\tprepared\tfor\tany\tcatastrophe.\n\nThe\tfirst\tstep\tinvolved\tin\tbuilding\ta\tfault-tolerant,\tcatastrophe-prepared microservice\tis\tto\tarchitect\taway\tsingle\tpoints\tof\tfailure.\tThere\tshould\tnever\tbe one\tpiece\tof\tthe\tecosystem\twhose\tfailure\tcan\tbring\tthe\tentire\tsystem\tto\ta\thalt, nor\tshould\tthere\tbe\tany\tindividual\tpiece\twithin\tthe\tarchitecture\tof\ta\tmicroservice that\twill\tbring\tthe\tmicroservice\tdown\twhenever\tit\tfails.\tIdentifying\tthese\tsingle points\tof\tfailure,\tboth\twithin\tthe\tmicroservice\tand\tat\ta\tlayer\tof\tabstraction\tabove it,\tcan\tprevent\tthe\tmost\tglaring\tfailures\tfrom\toccurring.\n\nIdentifying\tfailure\tscenarios\tis\tthe\tnext\tstep.\tNot\tevery\tfailure\tor\tcatastrophe that\tbefalls\ta\tmicroservice\tis\ta\tglaringly\tobvious\tsingle\tpoint\tof\tfailure\tthat\tcan be\tarchitected\taway.\tFault\ttolerance\tand\tcatastrophe-preparedness\trequire\tthat\ta microservice\twithstand\tboth\tinternal\tfailures\t(failures\twithin\tthe\tmicroservice itself)\tand\texternal\tfailures\t(failures\twithin\tother\tlayers\tof\tthe\tecosystem).\tFrom a\thost\tfailure\tto\tthe\tfailure\tof\tan\tentire\tdatacenter,\tfrom\ta\tdatabase\tto\ta\tservice’s distributed\ttask\tqueue,\tthe\tnumber\tof\tways\tin\twhich\ta\tmicroservice\tcan\tbe brought\tdown\tby\tthe\tfailure\tof\tone\tor\tmore\tof\tits\tparts\tis\toverwhelming,\tscaling with\tthe\tcomplexity\tof\tboth\tthe\tmicroservice\titself\tand\tthe\tmicroservice ecosystem\tas\ta\twhole.\n\nOnce\tsingle\tpoints\tof\tfailure\thave\tbeen\tarchitected\taway\tand\tmost\t(if\tnot\tall) failure\tscenarios\thave\tbeen\tidentified,\tthe\tnext\tstep\tis\tto\ttest\tfor\tthese\tfailures\tto see\twhether\tor\tnot\tthe\tmicroservice\tcan\trecover\tgracefully\twhen\tthese\tfailures occur,\tand\tdetermine\twhether\tor\tnot\tit\tis\tresilient.\tThe\tresiliency\tof\ta\tservice\tcan be\ttested\tvery\tthoroughly\tthrough\tcode\ttesting,\tload\ttesting,\tand\tchaos\ttesting.\n\nThis\tstep\tis\tcrucial:\tin\ta\tcomplex\tmicroservice\tecosystem,\tmerely\tarchitecting away\tfailure\tis\tnot\tenough\t—\teven\tthe\tbest\tmitigation\tstrategy\tcan\tturn\tout\tto\tbe",
      "content_length": 2682,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 152,
      "content": "away\tfailure\tis\tnot\tenough\t—\teven\tthe\tbest\tmitigation\tstrategy\tcan\tturn\tout\tto\tbe completely\tuseless\twhen\tcomponents\tbegin\tto\tfail.\tThe\tonly\tway\tto\tbuild\ta\ttruly fault-tolerant\tmicroservice\tis\tto\tpush\tit\tto\tfail\tin\tproduction\tby\tactively, repeatedly,\tand\trandomly\tfailing\teach\tcomponent\tthat\tcould\tcause\tthe\tsystem\tto break.\n\nNot\tall\tfailures\tcan\tbe\tpredicted,\tso\tthe\tlast\tsteps\tin\tbuilding\tfault-tolerant, catastrophe-prepared\tmicroservices\tare\torganizational\tin\tnature.\tFailure detection\tand\tmitigation\tstrategies\tneed\tto\tbe\tin\tplace\tand\tshould\tbe standardized\tacross\teach\tmicroservice\tteam,\tand\tevery\tnew\tfailure\tthat\ta\tservice experiences\tshould\tbe\tadded\tto\tthe\tresiliency\ttesting\tsuite\tto\tensure\tit\tnever happens\tagain.\tMicroservice\tteams\talso\tneed\tto\tbe\ttrained\tto\thandle\tfailures appropriately:\tdealing\twith\toutages\tand\tincidents\t(regardless\tof\tseverity)\tshould be\tstandardized\tacross\tthe\tengineering\torganization.\n\nA\tPRODUCTION-READY\tSERVICE\tIS\tFAULT\tTOLERANT\tAND\tPREPARED\tFOR\tANY CATASTROPHE\n\nIt\thas\tno\tsingle\tpoint\tof\tfailure.\n\nAll\tfailure\tscenarios\tand\tpossible\tcatastrophes\thave\tbeen\tidentified.\n\nIt\tis\ttested\tfor\tresiliency\tthrough\tcode\ttesting,\tload\ttesting,\tand\tchaos\ttesting.\n\nFailure\tdetection\tand\tremediation\thas\tbeen\tautomated.\n\nThere\tare\tstandardized\tincident\tand\toutage\tprocedures\tin\tplace\twithin\tthe\tmicroservice\tdevelopment\n\nteam\tand\tacross\tthe\torganization.",
      "content_length": 1381,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 153,
      "content": "Avoiding\tSingle\tPoints\tof\tFailure The\tfirst\tplace\tto\tlook\tfor\tpossible\tfailure\tscenarios\tis\twithin\tthe\tarchitecture\tof each\tmicroservice.\tIf\tthere\tis\tone\tpiece\tof\tthe\tservice’s\tarchitecture\tthat\twould bring\tdown\tthe\tentire\tmicroservice\tif\tit\twere\tto\tfail,\twe\trefer\tto\tit\tas\ta\tsingle point\tof\tfailure\tfor\tthe\tmicroservice.\tNo\tone\tpiece\tof\ta\tmicroservice’s architecture\tshould\tbe\table\tto\tbring\tdown\tthe\tservice,\tbut\tthey\tfrequently\tdo.\tIn fact,\tmost\tmicroservices\tin\tthe\treal\tworld\tdon’t\thave\tjust\tone\tsingle\tpoint\tof failure\tbut\thave\tmultiple\tpoints\tof\tfailure.\n\nEXAMPLE:\tMESSAGE\tBROKER\tAS\tA\tSINGLE\tPOINT\tOF\tFAILURE\n\nTo\tunderstand\twhat\ta\tsingle\tpoint\tof\tfailure\twould\tlook\tlike\tin\tthe\treal\tproduction\tworld,\tlet’s consider\ta\tmicroservice\twritten\tin\tPython\tthat\tuses\ta\tcombination\tof\tRedis\t(as\tmessage\tbroker)\tand Celery\t(as\ttask\tprocessor)\tfor\tdistributed\ttask\tprocessing.\n\nLet’s\tsay\tthat\tthe\tCelery\tworkers\t(which\tare\tprocessing\tthe\ttasks)\tbreak\tdown\tfor\tsome\treason\tand are\tunable\tto\tcomplete\tany\tof\ttheir\twork.\tThis\tisn’t\tnecessarily\ta\tpoint\tof\tfailure,\tbecause\tRedis (acting\tas\tthe\tmessage\tbroker)\tcan\tretry\tthe\ttasks\twhen\tthe\tworkers\tare\trepaired.\tWhile\tthe\tworkers are\tdown,\tRedis\tstays\tup,\tand\tthe\ttasks\tbuild\tup\tin\tthe\tqueue\ton\tRedis,\twaiting\tto\tbe\tdistributed\tto the\tCelery\tworkers\tonce\tthey\tare\tback\tup\tand\trunning.\tThis\tmicroservice,\thowever,\thosts\ta\tlot\tof traffic\t(receiving\tthousands\tof\trequests\tper\tsecond),\tand\tthe\tqueues\tbegin\tto\tback\tup,\tfilling\tup\tthe entire\tcapacity\tof\tthe\tRedis\tmachine.\tBefore\tyou\tknow\tit,\tthe\tRedis\tbox\tis\tout\tof\tmemory,\tand\tyou start\tlosing\ttasks.\tThis\tsounds\tbad\tenough,\tbut\tthe\tsituation\tcan\tbecome\teven\tworse\tthan\tit\tmight\tat first\tappear,\tbecause\tyour\thardware\tmight\tbe\tshared\tbetween\tmany\tdifferent\tmicroservices,\tand\tnow every\tother\tmicroservice\tthat\tis\tusing\tthis\tRedis\tbox\tas\ta\tmessage\tbroker\tis\tlosing\tall\tof\ttheir\ttasks.\n\nThis\t(the\tRedis\tmachine\tin\tthis\texample)\tis\ta\tsingle\tpoint\tof\tfailure,\tand\tit’s\ta\treal-world\texample I’ve\tseen\tmany,\tmany\ttime\tin\tmy\texperience\tof\tworking\twith\tdevelopers\tto\tidentify\tsingle\tpoints\tof failure\tin\ttheir\tmicroservices.\n\nIt’s\teasy\tto\tidentify\tpoints\tof\tfailure\twithin\tmicroservices\twhen\tthey\tactually fail,\tand\twe\tneed\tto\tfix\tthem\tin\torder\tto\tbring\tthe\tmicroservice\tback\tup.\tWaiting for\tthe\tfailure,\thowever,\tisn’t\tthe\tbest\tapproach\tif\twe\twant\tour\tmicroservices\tto be\tfault\ttolerant\tand\tpreserve\ttheir\tavailability.\tA\tgreat\tway\tto\tdiscover\tpoints\tof failure\tbefore\tthey\tare\tresponsible\tfor\tan\toutage\tis\tto\trun\tarchitecture\treviews with\tmicroservice\tdevelopment\tteams,\task\tthe\tdevelopers\ton\teach\tteam\tto\tdraw the\tarchitecture\tof\ttheir\tmicroservice\ton\ta\twhiteboard,\tand\tthen\twalk\tthem through\tthe\tarchitecture,\tasking,\t“What\thappens\tif\tthis\tpiece\tof\tthe\tmicroservice architecture\tfails?”\t(see\t“Microservice\tUnderstanding”\tfor\tmore\tdetails\ton",
      "content_length": 2823,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 154,
      "content": "architecture\treviews\tand\tdiscovering\tsingle\tpoints\tof\tfailure).",
      "content_length": 63,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 155,
      "content": "NO\tISOLATED\tPOINTS\tOF\tFAILURE\n\nDue\tto\tthe\tcomplex\tdependency\tchains\tthat\texist\tbetween\tdifferent\tmicroservices\twithin\ta microservice\tecosystem,\ta\tpoint\tof\tfailure\tin\tthe\tarchitecture\tof\tone\tindividual\tmicroservice\tis often\ta\tpoint\tof\tfailure\tfor\tthe\tentire\tdependency\tchain,\tand\tin\textreme\tcases,\tfor\tthe\tentire ecosystem.\tThere\tare\tno\tisolated\tpoints\tof\tfailure\twithin\tmicroservice\tecosystems,\twhich makes\tidentifying,\tmitigating,\tand\tarchitecting\taway\tpoints\tof\tfailure\tessential\tfor\tachieving fault-tolerance.\n\nOnce\tany\tsingle\t(or\tmultiple)\tpoints\tof\tfailure\thave\tbeen\tidentified,\tthey\tneed\tto be\tmitigated,\tand\t(if\tpossible)\tarchitected\taway.\tIf\tthe\tpoint\tof\tfailure\tcan\tbe completely\tarchitected\taway\tand\treplaced\tby\tsomething\tmore\tfault\ttolerant,\tthen the\tproblem\tis\tsolved.\tSadly,\twe\tcan’t\talways\tavoid\tevery\tsingle\tway\tin\twhich\ta service\tcan\tfail,\tand\tthere\tare\tsome\tsituations\tin\twhich\twe\tcan’t\tarchitect\taway even\tthe\tmost\tglaringly\tobvious\tpoints\tof\tfailure.\tFor\texample,\tif\tour engineering\torganization\tmandates\tthe\tuse\tof\ta\tcertain\ttechnology\tthat\tworks well\tfor\tthe\trest\tof\tthe\tdevelopment\tteams\tbut\trepresents\ta\tsingle\tpoint\tof\tfailure for\tour\tservice,\tthen\tthere\tmay\tnot\tbe\ta\tway\tto\tarchitect\tit\taway,\tand\tour\tonly option\tfor\tbringing\tour\tservice\ttoward\ta\tfault-tolerant\tstate\tis\tto\tfind\tways\tof mitigating\tany\tnegative\tconsequences\tof\tits\tfailure.",
      "content_length": 1364,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 156,
      "content": "Catastrophes\tand\tFailure\tScenarios If\twe\tknow\tanything\tabout\tcomplex\tsystems\tand\tlarge-scale\tdistributed\tsystem architecture,\tit’s\tthis:\tthat\tthe\tsystem\twill\tbreak\tin\tany\tway\tthat\tit\tcan\tbe\tbroken, and\tany\tfailure\tthat\tcould\tpossibly\thappen\twill\talmost\tassuredly\thappen\tat\tsome point\tduring\tthe\tsystem’s\tlifetime.\n\nMicroservices\tare\tcomplex\tsystems.\tThey\tare\tpart\tof\tlarge-scale\tdistributed systems\t(microservice\tecosystems)\tand\tare\ttherefore\tno\texception\tto\tthis\trule. Any\tpossible\tfailure\tand\tany\tpossible\tcatastrophe\twill\talmost\tassuredly\thappen at\tsome\tpoint\tin\tbetween\tthe\ttime\ta\tmicroservice’s\trequest\tfor\tcomments\t(RFC) is\twritten\tup\tand\tthe\ttime\tthe\tmicroservice\tis\tbeing\tdeprecated\tand decommissioned.\tCatastrophes\thappen\tall\tof\tthe\ttime:\tracks\tfail\tin\tdatacenters, HVAC\tsystems\tbreak,\tproduction\tdatabases\tare\tdeleted\tby\taccident\t(yes,\tthis happens\tmore\tthan\tmost\tdevelopers\twould\tlike\tto\tadmit),\tnatural\tdisasters\twipe out\tentire\tdatacenters.\tAny\tfailure\tthat\tcan\thappen\twill\thappen:\tdependencies will\tfail,\tindividual\tservers\twill\tfail,\tlibraries\twill\tbecome\tcorrupted\tor\tlost entirely,\tmonitoring\twill\tfail,\tlogs\tcan\tand\twill\tbe\tlost\t(seemingly\tvanishing\tinto thin\tair).\n\nOnce\twe’ve\tidentified,\tmitigated,\tand\t(if\tpossible)\tarchitected\taway\tany glaringly\tobvious\tpoints\tof\tfailures\tin\tour\tmicroservice’s\tarchitecture,\tthe\tnext step\tis\tto\tidentify\tany\tother\tfailure\tscenarios\tand\tpotential\tcatastrophes\tthat could\tbefall\tour\tmicroservice.\tWe\tcan\tseparate\tthese\ttypes\tof\tfailures\tand catastrophes\tinto\tfour\tmain\tcategories,\torganizing\tthem\tusing\ttheir\tplace\tin\tthe microservice\tecosystem\tstack.\tThe\tmost\tcommon\tcatastrophes\tand\tfailure scenarios\tare\thardware\tfailures,\tinfrastructure\t(communication-layer\tand application-platform-layer)\tfailures,\tdependency\tfailures,\tand\tinternal\tfailures. We’ll\tlook\tclosely\tat\tsome\tof\tthe\tmost\tcommon\tpossible\tfailure\tscenarios\twithin each\tof\tthese\tcategories\tin\tthe\tfollowing\tsections,\tbut\tfirst\twe’ll\tcover\ta\tfew common\tcauses\tof\tfailures\tthat\taffect\tevery\tlevel\tof\tthe\tmicroservice\tecosystem.\n\nI\tshould\tnote\tthat\tthe\tlists\tof\tpossible\tfailure\tscenarios\tpresented\there\tare\tnot exhaustive.\tThe\tobjective\there\tis\tto\tpresent\tthe\tmost\tcommon\tscenarios\tand encourage\tthe\treader\tto\tdetermine\twhat\tsorts\tof\tfailures\tand\tcatastrophes\ttheir microservice(s)\tand\tmicroservice\tecosystem(s)\tmay\tbe\tsusceptible\tto,\tand\tthen (where\tnecessary)\trefer\tthe\treader\tto\tother\tchapters\twithin\tthis\tbook\twhere\tsome of\tthe\trelevant\ttopics\tare\tcovered.\tMost\tof\tthe\tfailures\there\tcan\tbe\tavoided\tby adopting\tthe\tproduction-readiness\tstandards\t(and\timplementing\ttheir corresponding\trequirements)\tfound\tthroughout\tthis\tbook,\tso\tI’ve\tonly\tmentioned",
      "content_length": 2666,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 157,
      "content": "corresponding\trequirements)\tfound\tthroughout\tthis\tbook,\tso\tI’ve\tonly\tmentioned a\tfew\tof\tthe\tfailures,\tand\thaven’t\tincluded\tevery\tfailure\tthat’s\tcovered\tin\tthe other\tchapters.",
      "content_length": 174,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 158,
      "content": "Common\tFailures\tAcross\tan\tEcosystem There\tare\tsome\tfailures\tthat\thappen\tat\tevery\tlevel\tof\tthe\tmicroservice ecosystem.\tThese\tsorts\tof\tfailures\tare\tusually\tcaused\t(in\tsome\tway\tor\tother)\tby the\tlack\tof\tstandardization\tacross\tan\tengineering\torganization,\tbecause\tthey\ttend to\tbe\toperational\t(and\tnot\tnecessarily\ttechnical)\tin\tnature.\tReferring\tto\tthem\tas “operational”\tdoesn’t\tmean\tthat\tthey\tare\tless\timportant\tor\tless\tdangerous\tthan technical\tfailures,\tnor\tdoes\tit\tmean\tthat\tresolving\tthese\tfailures\tisn’t\twithin\tthe technical\trealm\tand\tisn’t\tthe\tresponsibility\tof\tmicroservice\tdevelopment\tteams. These\ttypes\tof\tfailures\ttend\tto\tbe\tthe\tmost\tserious,\thave\tsome\tof\tthe\tmost debilitating\ttechnical\tconsequences,\tand\treflect\ta\tlack\tof\talignment\tacross\tthe various\tengineering\tteams\twithin\tan\torganization.\tOf\tthese\ttypes\tof\tfailures,\tthe most\tcommon\tare\tinsufficient\tdesign\treviews\tof\tsystem\tand\tservice\tarchitecture, incomplete\tcode\treviews,\tpoor\tdevelopment\tprocesses,\tand\tunstable\tdeployment procedures.\n\nInsufficient\tdesign\treviews\tof\tsystem\tand\tmicroservice\tarchitecture\tlead\tto poorly\tdesigned\tservices,\tespecially\twithin\tlarge\tand\tcomplex\tmicroservice ecosystems.\tThe\treason\tfor\tthis\tis\tsimple:\tno\tone\tengineer\tand\tno\tone microservice\tdevelopment\tteam\twill\tknow\tthe\tdetails\tof\tthe\tinfrastructure\tand the\tcomplexity\tof\tall\tfour\tlevels\tof\tthe\tecosystem.\tWhen\tnew\tsystems\tare\tbeing designed,\tand\tnew\tmicroservices\tare\tbeing\tarchitected,\tit’s\tvital\tto\tthe\tfuture fault\ttolerance\tof\tthe\tsystem\tor\tservice\tthat\tengineers\tfrom\teach\tlevel\tof\tthe microservice\tecosystem\tare\tbrought\tinto\tthe\tdesign\tprocess\tto\tdetermine\thow the\tsystem\tor\tservice\tshould\tbe\tbuilt\tand\trun\tgiven\tthe\tintricacies\tof\tthe\tentire ecosystem.\tHowever,\teven\tif\tthis\tis\tdone\tproperly\twhen\tthe\tsystem\tor\tservice\tis first\tbeing\tdesigned,\tmicroservice\tecosystems\tevolve\tso\tquickly\tthat\tthe infrastructure\tis\toften\tpractically\tunrecognizable\tafter\ta\tyear\tor\ttwo,\tand\tso scheduled\treviews\tof\tthe\tarchitecture\twith\texperts\tfrom\teach\tpart\tof\tthe organization\tcan\thelp\tto\tensure\tthat\tthe\tsystem\tor\tmicroservice\tis\tup-to-date\tand fits\tinto\tthe\toverall\tecosystem\tappropriately.\tFor\tmore\tdetails\ton\tarchitecture reviews,\tsee\tChapter\t7,\tDocumentation\tand\tUnderstanding.\n\nIncomplete\tcode\treviews\tare\tanother\tcommon\tsource\tof\tfailure.\tEven\tthough this\tproblem\tis\tnot\tspecific\tto\tmicroservice\tarchitecture,\tthe\tadoption\tof microservice\tarchitecture\ttends\tto\texacerbate\tthe\tproblem.\tGiven\tthe\thigher developer\tvelocity\tthat\tcomes\talong\twith\tmicroservices,\tdevelopers\tare\toften required\tto\treview\tany\tnew\tcode\twritten\tby\ttheir\tteammates\tseveral\ttimes\teach day\tin\taddition\tto\twriting\ttheir\town\tcode,\tattending\tmeetings,\tand\tdoing",
      "content_length": 2673,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 159,
      "content": "everything\telse\tthat\tthey\tneed\tto\taccomplish\tto\trun\ttheir\tservice(s).\tThis\trequires constant\tcontext-switching,\tand\tit’s\teasy\tto\tlose\tattention\tto\tdetails\twithin someone\telse’s\tcode\twhen\tyou\tbarely\thave\tenough\ttime\tto\treview\tyour\town before\tdeploying\tit.\tThis\tleads\tto\tcountless\tbugs\tbeing\tintroduced\tinto production,\tbugs\tthat\tcause\tservices\tand\tsystems\tto\tfail,\tbugs\tthat\tcould\thave been\tcaught\twith\tbetter\tcode\treview.\tThere\tare\tseveral\tways\tto\tmitigate\tthis,\tbut it\tcan’t\tever\tbe\tcompletely\tresolved\tin\tan\tenvironment\twith\thigh\tdeveloper velocity.\tCare\tneeds\tto\tbe\ttaken\tto\twrite\textensive\ttests\tfor\teach\tsystem\tand service,\tto\ttest\teach\tnew\tchange\textensively\tbefore\tit\thits\tproduction,\tand\tto ensure\tthat,\tif\tbugs\taren’t\tcaught\tbefore\tthey\tare\tdeployed,\tthey’re\tcaught elsewhere\tin\tthe\tdevelopment\tprocess\tor\tin\tthe\tdeployment\tpipeline,\twhich\tleads us\tto\tour\tnext\ttwo\tcommon\tcauses\tof\tfailure.\n\nOne\tof\tthe\tleading\tcauses\tof\toutages\tin\tmicroservice\tecosystems\tare\tbad deployments.\t“Bad”\tdeployments\tare\tthose\tthat\tcontain\tbugs\tin\tthe\tcode,\tbroken builds,\tetc.\tPoor\tdevelopment\tprocesses\tand\tunstable\tdeployment\tprocedures allow\tfailures\tto\tbe\tintroduced\tinto\tproduction,\tbringing\tdown\tany\tsystem\tor service\tthat\tthe\tfailure-inducing\tproblem\tis\tdeployed\tto\talong\twith\tany\t(and sometimes\tall)\tof\tits\tdependencies.\tPutting\tgood\tcode\treview\tprocedures\tinto place,\tand\tcreating\tan\tengineering\tculture\twhere\tboth\tcode\treview\tis\ttaken seriously\tand\tdevelopers\tare\tgiven\tadequate\ttime\tto\tfocus\ton\treviewing\ttheir teammates’\tcode\tis\tthe\tfirst\tstep\ttoward\tavoiding\tthese\tkinds\tof\tfailures,\tbut many\tof\tthem\twill\tstill\tgo\tuncaught:\teven\tthe\tbest\tcode\treviewers\tcan’t\tpredict exactly\thow\ta\tcode\tchange\tor\tnew\tfeature\twill\tbehave\tin\tproduction\twithout further\ttesting.\tThe\tonly\tway\tto\tcatch\tthese\tfailures\tbefore\tthey\tbring\tthe\tsystem or\tservice\tdown\tis\tto\tbuild\tstable\tand\treliable\tdevelopment\tprocesses\tand deployment\tpipelines.\tThe\tdetails\tof\tbuilding\tstable\tand\treliable\tdevelopment processes\tand\tdeployment\tpipelines\tare\tcovered\tin\tChapter\t3,\tStability\tand Reliability.\n\nSUMMARY:\tCOMMON\tFAILURES\tACROSS\tAN\tECOSYSTEM\n\nThe\tmost\tcommon\tfailures\tthat\thappen\tacross\tall\tlevels\tof\tmicroservice\tecosystems\tare:\n\nInsufficient\tdesign\treviews\tof\tsystem\tand\tservice\tarchitecture\n\nIncomplete\tcode\treviews\n\nPoor\tdevelopment\tprocesses\n\nUnstable\tdeployment\tprocedures",
      "content_length": 2349,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 160,
      "content": "Hardware\tFailures The\tlowest\tlayer\tof\tthe\tstack\tis\twhere\tthe\thardware\tlies.\tThe\thardware\tlayer\tis comprised\tof\tthe\tactual,\tphysical\tcomputers\tthat\tall\tof\tthe\tinfrastructure\tand application\tcode\trun\ton,\tin\taddition\tto\tthe\tracks\tthe\tservers\tare\tstored\tin,\tthe datacenters\twhere\tthe\tservers\tare\trunning,\tand\tin\tthe\tcase\tof\tcloud\tproviders, regions\tand\tavailability\tzones.\tThe\thardware\tlayer\talso\tcontains\tthe\toperating system,\tresource\tisolation\tand\tabstraction,\tconfiguration\tmanagement,\thost-level monitoring,\tand\thost-level\tlogging.\t(For\tmore\tdetails\tabout\tthe\thardware\tlayer of\tthe\tmicroservice\tecosystems,\tturn\tto\tChapter\t1,\tMicroservices.)\tMuch\tcan\tgo wrong\twithin\tthis\tlayer\tof\tthe\tecosystem,\tand\tit\tis\tthe\tlayer\tthat\tgenuine catastrophes\t(and\tnot\tjust\tfailures)\taffect\tthe\tmost.\tIt’s\talso\tthe\tmost\tdelicate layer\tof\tthe\tecosystem:\tif\tthe\thardware\tfails\tand\tthere\taren’t\talternatives,\tthe entire\tengineering\torganization\tgoes\tdown\twith\tit.\tThe\tcatastrophes\tthat\thappen here\tare\tpure\thardware\tfailures:\ta\tmachine\tdies\tor\tfails\tin\tsome\tway,\ta\track\tgoes down,\tor\tan\tentire\tdatacenter\tfails.\tThese\tcatastrophes\thappen\tmore\toften\tthan we\twould\tlike\tto\tadmit,\tand\tin\torder\tfor\ta\tmicroservice\tecosystem\tto\tbe\tfault tolerant,\tin\torder\tfor\tany\tindividual\tmicroservice\tto\tbe\tfault\ttolerant\tand prepared\tfor\tthese\tcatastrophes,\tthese\tfailures\tneed\tto\tbe\tplanned\tfor,\tmitigated, and\tprotected\tagainst.\n\nEverything\telse\twithin\tthis\tlayer\tthat\tlies\ton\ttop\tof\tthe\tbare\tmachines\tcan\tfail, too.\tMachines\tneed\tto\tbe\tprovisioned\tbefore\tanything\tcan\trun\ton\tthem,\tand\tif provisioning\tfails,\tthen\tutilizing\tany\tnew\tmachines\t(or,\tin\tsome\tcases,\teven\told machines)\twon’t\tbe\table\tto\thappen.\tMany\tmicroservice\tecosystems\tthat\tutilize technologies\tthat\tsupport\tresource\tisolation\t(like\tDocker)\tor\tresource\tabstraction and\tallocation\t(like\tMesos\tand\tAurora)\tcan\talso\tbreak\tor\tfail,\tand\ttheir\tfailures can\tbring\tthe\tentire\tecosystem\tto\ta\thalt.\tFailures\tcaused\tby\tbroken\tconfiguration management\tor\tconfiguration\tchanges\tare\textraordinarily\tcommon\tas\twell,\tand are\toften\tdifficult\tto\tdetect.\tMonitoring\tand\tlogging\tcan\tfail\tmiserably\there\tas well,\tand\tif\thost-level\tmonitoring\tand\tlogging\tfails\tin\tsome\tway,\ttriaging\tany outages\tbecomes\timpossible\tbecause\tthe\tdata\tneeded\tto\tmitigate\tany\tproblems won’t\tbe\tavailable.\tNetwork\tfailures\t(both\tinternal\tand\texternal)\tcan\talso happen.\tFinally,\toperational\tdowntimes\tof\tcritical\thardware\tcomponents\t—\teven if\tcommunicated\tproperly\tthroughout\tthe\torganization\t—\tcan\tlead\tto\toutages across\tthe\tecosystem.",
      "content_length": 2520,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 161,
      "content": "SUMMARY:\tCOMMON\tHARDWARE\tFAILURE\tSCENARIOS\n\nSome\tof\tthe\tmost\tcommon\thardware\tfailure\tscenarios\tare:\n\nHost\tfailure\n\nRack\tfailure\n\nDatacenter\tfailure\n\nCloud\tprovider\tfailure\n\nServer\tprovisioning\tfailure\n\nResource\tisolation\tand/or\tabstraction\ttechnology\tfailure\n\nBroken\tconfiguration\tmanagement\n\nFailures\tcaused\tby\tconfiguration\tchanges\n\nFailures\tand\tgaps\tin\thost-level\tmonitoring\n\nFailures\tand\tgaps\tin\thost-level\tlogging\n\nNetwork\tfailure\n\nOperational\tdowntimes\n\nLack\tof\tinfrastructure\tredundancy",
      "content_length": 493,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 162,
      "content": "Communication-Level\tand\tApplication\tPlatform–Level\tFailures The\tsecond\tand\tthird\tlayers\tof\tthe\tmicroservice\tecosystem\tstack\tare\tcomprised of\tthe\tcommunication\tand\tapplication\tplatform\tlayers.\tThese\tlayers\tlive\tbetween the\thardware\tand\tthe\tmicroservices,\tbridging\tthe\ttwo\tas\tthe\tglue\tthat\tholds\tthe ecosystem\ttogether.\tThe\tcommunication\tlayer\tcontains\tthe\tnetwork,\tDNS,\tthe RPC\tframework,\tendpoints,\tmessaging,\tservice\tdiscovery,\tservice\tregistry,\tand load\tbalancing.\tThe\tapplication\tplatform\tlayer\tis\tcomprised\tof\tthe\tself-service development\ttools,\tdevelopment\tenvironment,\ttest\tand\tpackage\tand\trelease\tand build\ttools,\tthe\tdeployment\tpipeline,\tmicroservice-level\tlogging,\tand microservice-level\tmonitoring\t—\tall\tcritical\tto\tthe\tday-to-day\trunning\tand building\tof\tthe\tmicroservice\tecosystem.\tLike\thardware\tfailures,\tfailures\tthat happen\tat\tthese\tlevels\tcompromise\tthe\tentire\tcompany,\tbecause\tevery\taspect\tof development\tand\tmaintenance\twithin\tthe\tmicroservice\tecosystem\tdepends critically\ton\tthese\tsystems\trunning\tsmoothly\tand\twithout\tfailure.\tLet’s\ttake\ta look\tat\tsome\tof\tthe\tmost\tcommon\tfailures\tthat\tcan\thappen\twithin\tthese\tlayers.\n\nWithin\tthe\tcommunication\tlayer,\tnetwork\tfailures\tare\tespecially\tcommon.\tThese can\tbe\tfailures\tof\tthe\tinternal\tnetwork(s)\tthat\tall\tremote\tprocedure\tcalls\tare\tmade over,\tor\tfailures\tof\texternal\tnetworks.\tAnother\ttype\tof\tnetwork-related\tfailure arises\tfrom\tproblems\twith\tfirewalls\tand\timproper\tiptables\tentries.\tDNS\terrors are\talso\tquite\tcommon:\twhen\tDNS\terrors\thappen,\tcommunication\tcan\tgrind\tto\ta halt,\tand\tDNS\tbugs\tcan\tbe\trather\tdifficult\tto\ttrack\tdown\tand\tdiagnose.\tThe\tRPC layer\tof\tcommunication\t—\tthe\tglue\tthat\tholds\tthe\tentire\tdelicate\tmicroservice ecosystem\ttogether\t—\tis\tanother\t(rather\tinfamous)\tsource\tof\tfailure,\tespecially when\tthere\tis\tonly\tone\tchannel\tconnecting\tall\tmicroservices\tand\tinternal systems;\tsetting\tup\tseparate\tchannels\tfor\tRPC\tand\thealth\tchecks\tcan\tmitigate this\tproblem\ta\tbit\tif\thealth\tchecks\tand\tother\trelated\tmonitoring\tis\tkept\tseparate from\tchannels\tthat\thandle\tdata\tbeing\tpassed\tbetween\tservices.\tIt’s\tpossible\tfor messaging\tsystems\tto\tbreak\t(as\tI\tmentioned\tbriefly\tin\tthe\tRedis-Celery\texample earlier\tin\tthis\tchapter),\tand\tmessaging\tqueues,\tmessage\tbrokers,\tand\ttask processors\toften\tlive\tin\tmicroservice\tecosystems\twithout\tany\tbackups\tor alternatives,\tacting\tas\tfrightening\tpoints\tof\tfailure\tfor\tevery\tservice\tthat\trelies\ton them.\tFailures\tof\tservice\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\tcan\t(and do)\thappen\tas\twell:\tif\tany\tpart\tof\tthese\tsystems\tbreaks\tor\texperiences\tdowntime without\tany\talternatives,\tthen\ttraffic\twon’t\tbe\trouted,\tallocated,\tand\tdistributed properly.\n\nFailures\twithin\tthe\tapplication\tplatform\tare\tmore\tspecific\tto\tthe\tway\tthat",
      "content_length": 2725,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 163,
      "content": "Failures\twithin\tthe\tapplication\tplatform\tare\tmore\tspecific\tto\tthe\tway\tthat engineering\torganizations\thave\tset\tup\ttheir\tdevelopment\tprocess\tand deployment\tpipeline,\tbut\tas\ta\trule,\tthese\tsystems\tcan\tfail\tjust\tas\toften\tand\tas catastrophically\tas\tevery\tother\tservice\twithin\tthe\tecosystem\tstack.\tIf development\ttools\tand/or\tenvironments\tare\tworking\tincorrectly\twhen\tdevelopers are\ttrying\tto\tbuild\tnew\tfeatures\tor\trepair\texisting\tbugs,\tbugs\tand\tnew\tfailure modes\tcan\tbe\tintroduced\tinto\tproduction.\tThe\tsame\tgoes\tfor\tany\tfailures\tor shortcomings\tof\tthe\ttest,\tpackage,\tbuild,\tand\trelease\tpipelines:\tif\tpackages\tand builds\tcontain\tbugs\tor\taren’t\tproperly\tput\ttogether,\tthen\tdeployments\twill\tfail.\tIf the\tdeployment\tpipeline\tis\tunavailable,\tbuggy,\tor\tfails\toutright,\tthen\tdeployment will\tgrind\tto\ta\thalt,\tpreventing\tnot\tonly\tdeployment\tof\tnew\tfeatures\tbut\tof critical\tbug-fixes\tthat\tmay\tbe\tin\tthe\tworks.\tFinally,\tmonitoring\tand\tlogging\tof individual\tmicroservices\tcan\tcontain\tgaps\tor\tfail\tas\twell,\tmaking\ttriaging\tor logging\tany\tissues\timpossible.\n\nSUMMARY:\tCOMMON\tCOMMUNICATION\tAND\tAPPLICATION\tPLATFORM FAILURES\n\nSome\tof\tthe\tmost\tcommon\tcommunication\tand\tapplication\tplatform\tfailures\tare:\n\nNetwork\tfailures\n\nDNS\terrors\n\nRPC\tfailures\n\nImproper\thandling\tof\trequests\tand/or\tresponses\n\nMessaging\tsystem\tfailures\n\nFailures\tin\tservice\tdiscovery\tand\tservice\tregistry\n\nImproper\tload\tbalancing\n\nFailure\tof\tdevelopment\ttools\tand\tdevelopment\tenvironment\n\nFailures\tin\tthe\ttest,\tpackage,\tbuild,\tand\trelease\tpipelines\n\nDeployment\tpipeline\tfailures\n\nFailures\tand\tgaps\tin\tmicroservice-level\tlogging\n\nFailures\tand\tgaps\tin\tmicroservice-level\tmonitoring",
      "content_length": 1626,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 164,
      "content": "Dependency\tFailures Failures\twithin\tthe\ttop\tlevel\tof\tthe\tmicroservice\tecosystem\t(the\tmicroservice layer)\tcan\tbe\tdivided\tinto\ttwo\tseparate\tcategories:\t(1)\tthose\tthat\tare\tinternal\tto\ta specific\tmicroservice\tand\tcaused\tby\tproblems\twithin\tit,\tand\t(2)\tthose\tthat\tare external\tto\ta\tmicroservice\tand\tcaused\tby\tthe\tmicroservice’s\tdependencies.\tWe’ll cover\tcommon\tfailure\tscenarios\twithin\tthis\tsecond\tcategory\tfirst.\n\nFailures\tand\toutages\tof\ta\tdownstream\tmicroservice\t(that\tis,\tone\tof\ta microservice’s\tdependencies)\tare\textraordinarily\tcommon\tand\tcan\tdramatically affect\ta\tmicroservice’s\tavailability.\tIf\teven\tone\tmicroservice\tin\tthe\tdependency chain\tgoes\tdown,\tit\tcan\ttake\tall\tof\tits\tupstream\tclients\tdown\twith\tit\tif\tthere\tare no\tprotections\tin\tplace.\tHowever,\ta\tmicroservice\tdoesn’t\talways\tnecessarily need\tto\texperience\ta\tfull-blown\toutage\tin\torder\tto\tnegatively\taffect\tthe availability\tof\tits\tupstream\tclients\t—\tif\tit\tfails\tto\tmeet\tits\tSLA\tby\tjust\tone\tor\ttwo nines,\tthe\tavailability\tof\tall\tupstream\tclient\tmicroservices\twill\tdrop.",
      "content_length": 1025,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 165,
      "content": "THE\tTRUE\tEXPENSE\tOF\tUNMET\tSLAS\n\nMicroservices\tcan\tcause\ttheir\tupstream\tclients\tto\tfail\tto\tmeet\ttheir\tSLAs.\tIf\ta\tservice’s availability\tdrops\tby\tone\tor\ttwo\tnines,\tall\tupstream\tclients\tsuffer,\tall\tthanks\tto\thow\tthe\tmath works:\tthe\tavailability\tof\ta\tmicroservice\tis\tcalculated\tas\tits\town\tavailability\tmultiplied\tby\tthe availability\tof\tits\tdownstream\tdependencies.\tFailing\tto\tmeet\tan\tSLA\tis\tan\timportant\t(and\toften overlooked)\tmicroservice\tfailure,\tand\tit’s\ta\tfailure\tthat\tbrings\tdown\tthe\tavailability\tof\tevery other\tservice\tthat\tdepends\ton\tit\t(along\twith\tthe\tservices\tthat\tdepend\ton\tthose\tservices).\n\nOther\tcommon\tdependency\tfailures\tare\tthose\tcaused\tby\ttimeouts\tto\tanother service,\tthe\tdeprecation\tor\tdecommissioning\tof\ta\tdependency’s\tAPI\tendpoints (without\tproper\tcommunication\tregarding\tthe\tdeprecation\tor\tdecommissioning to\tall\tupstream\tclients),\tand\tthe\tdeprecation\tor\tdecommissioning\tof\tan\tentire microservice.\tIn\taddition,\tversioning\tof\tinternal\tlibraries\tand/or\tmicroservices and\tpinning\tto\tspecific\tversions\tof\tinternal\tlibraries\tand/or\tservices\tis\tvery\tmuch discouraged\tin\tmicroservice\tarchitecture\tbecause\tit\ttends\tto\tlead\tto\tbugs\tand\t(in extreme\tcases)\tserious\tfailures,\tbecause\tof\tthe\tfast-paced\tnature\tof\tmicroservice development:\tthese\tlibraries\tand\tservices\tare\tconstantly\tchanging,\tand\tpinning\tto specific\tversions\t(along\twith\tversioning\tof\tthese\tservices\tand\tlibraries\tin general)\tcan\tlead\tto\tdevelopers\tusing\tunstable,\tunreliable,\tand\tsometimes\tunsafe versions\tof\tthem.\n\nFailures\tof\texternal\tdependencies\t(third-party\tservices\tand/or\tlibraries)\tcan\tand do\thappen\tas\twell.\tThese\tcan\tbe\tmore\tdifficult\tto\tdetect\tand\tfix\tthan\tfailures\tof internal\tdependencies,\tbecause\tdevelopers\twill\thave\tlittle\tto\tno\tcontrol\tover them.\tThe\tcomplexity\tassociated\twith\tdepending\ton\tthird-party\tservices\tand/or libraries\tcan\tbe\thandled\tproperly\tif\tthese\tscenarios\tare\tanticipated\tfrom\tthe beginning\tof\tthe\tmicroservice’s\tlifecycle:\tchoose\testablished\tand\tstable\texternal dependencies,\tand\ttry\tto\tavoid\tusing\tthem\tunless\tcompletely\tnecessary,\tlest\tthey become\ta\tsingle\tpoint\tof\tfailure\tfor\tyour\tservice.\n\nSUMMARY:\tCOMMON\tDEPENDENCY\tFAILURE\tSCENARIOS\n\nSome\tof\tthe\tmost\tcommon\tdependency\tfailure\tscenarios\tare:\n\nFailures\tor\toutages\tof\ta\tdownstream\t(dependency)\tmicroservice\n\nInternal\tservice\toutages",
      "content_length": 2292,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 166,
      "content": "External\t(third-party)\tservice\toutages\n\nInternal\tlibrary\tfailures\n\nExternal\t(third-party)\tlibrary\tfailures\n\nA\tdependency\tfailing\tto\tmeet\tits\tSLA\n\nAPI\tendpoint\tdeprecation\n\nAPI\tendpoint\tdecommissioning\n\nMicroservice\tdeprecation\n\nMicroservice\tdecommissioning\n\nInterface\tor\tendpoint\tdeprecation\n\nTimeouts\tto\ta\tdownstream\tservice\n\nTimeouts\tto\tan\texternal\tdependency",
      "content_length": 361,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 167,
      "content": "Internal\t(Microservice)\tFailures At\tthe\tvery\ttop\tof\tthe\tmicroservice\tecosystem\tstack\tlie\tthe\tindividual microservices.\tTo\tthe\tdevelopment\tteams,\tthese\tare\tthe\tfailures\tthat\tmatter\tthe most,\tbecause\tthey\tare\tcompletely\tdependent\ton\tgood\tdevelopment\tpractices, good\tdeployment\tpractices,\tand\tthe\tways\tin\twhich\tdevelopment\tteams\tarchitect, run,\tand\tmaintain\ttheir\tindividual\tmicroservices.\n\nAssuming\tthat\tthe\tinfrastructure\tbelow\tthe\tmicroservice\tlayer\tis\trelatively stable,\tthe\tmajority\tof\tincidents\tand\toutages\texperienced\tby\ta\tmicroservice\twill be\talmost\tsolely\tself-inflicted.\tDevelopers\ton\tcall\tfor\ttheir\tservices\twill\tfind themselves\tpaged\talmost\tsolely\tfor\tissues\tand\tfailures\twhose\troot\tcauses\tare found\twithin\ttheir\tmicroservice\t—\tthat\tis,\tthe\talerts\tthey\twill\treceive\twill\thave been\ttriggered\tby\tchanges\tin\ttheir\tmicroservice’s\tkey\tmetrics\t(see\tChapter\t6, Monitoring,\tfor\tmore\tinformation\tabout\tmonitoring,\tlogging,\talerting,\tand microservice\tkey\tmetrics).\n\nIncomplete\tcode\treviews,\tlack\tof\tproper\ttest\tcoverage,\tand\tpoor\tdevelopment processes\tin\tgeneral\t(specifically,\tthe\tlack\tof\ta\tstandardized\tdevelopment\tcycle) lead\tto\tbuggy\tcode\tbeing\tdeployed\tto\tproduction\t—\tfailures\tthat\tcan\tbe\tavoided by\tstandardizing\tthe\tdevelopment\tprocess\tacross\tmicroservice\tteams\t(see\t“The Development\tCycle”).\tWithout\ta\tstable\tand\treliable\tdeployment\tpipeline containing\tstaging,\tcanary,\tand\tproduction\tphases\tin\tplace\tto\tcatch\tany\terrors before\tthey\tare\tfully\trolled\tout\tto\tproduction\tservers,\tany\tproblems\tnot\tcaught by\ttesting\tin\tthe\tdevelopment\tphases\tcan\tcause\tserious\tincidents\tand\toutages\tfor the\tmicroservice\titself,\tits\tdependencies,\tand\tany\tother\tparts\tof\tthe\tmicroservice ecosystem\tthat\tdepend\ton\tit.\n\nAnything\tspecific\tto\tthe\tmicroservice’s\tarchitecture\tcan\talso\tfail\there,\tincluding any\tdatabases,\tmessage\tbrokers,\ttask-processing\tsystems,\tand\tthe\tlike.\tThis\tis also\twhere\tgeneral\tand\tspecific\tcode\tbugs\twithin\tthe\tmicroservice\twill\tcause failures,\tas\twell\tas\timproper\terror\tand\texception\thandling:\tunhandled\texceptions and\tthe\tpractice\tof\tcatching\texceptions\tare\tan\toften-overlooked\tculprit\twhen microservices\tfail.\tFinally,\tincreases\tin\ttraffic\tcan\tcause\ta\tservice\tto\tfail\tif\tthe service\tisn’t\tprepared\tfor\tunexpected\tgrowth\t(for\tmore\ton\tscalability\tlimitations, turn\tto\tChapter\t4,\tScalability\tand\tPerformance,\tand\tthen\tread\t“Load\tTesting”\tof the\tcurrent\tchapter).",
      "content_length": 2369,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 168,
      "content": "SUMMARY:\tCOMMON\tMICROSERVICE\tFAILURE\tSCENARIOS\n\nSome\tof\tthe\tmost\tcommon\tmicroservice\tfailures\tare:\n\nIncomplete\tcode\treviews\n\nPoor\tarchitecture\tand\tdesign\n\nLack\tof\tproper\tunit\tand\tintegration\ttests\n\nBad\tdeployments\n\nLack\tof\tproper\tmonitoring\n\nImproper\terror\tand\texception\thandling\n\nDatabase\tfailure\n\nScalability\tlimitations",
      "content_length": 322,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 169,
      "content": "Resiliency\tTesting Architecting\taway\tsingle\tpoints\tof\tfailure\tand\tidentifying\tpossible\tfailure scenarios\tand\tcatastrophes\tisn’t\tenough\tto\tensure\tthat\tmicroservices\tare\tfault tolerant\tand\tprepared\tfor\tany\tcatastrophe.\tIn\torder\tto\tbe\ttruly\tfault\ttolerant,\ta microservice\tmust\tbe\table\tto\texperience\tfailures\tand\trecover\tfrom\tthem gracefully\twithout\taffecting\ttheir\town\tavailability,\tthe\tavailability\tof\ttheir clients,\tand\tthe\tavailability\tof\tthe\toverall\tmicroservice\tecosystem.\tThe\tsingle best\tway\tto\tensure\tthat\ta\tmicroservice\tis\tfault\ttolerant\tis\tto\ttake\tall\tof\tthe possible\tfailure\tscenarios\tthat\tit\tcould\tbe\taffected\tby,\tand\tthen\tactively, repeatedly,\tand\trandomly\tpush\tit\tto\tfail\tin\tproduction\t—\ta\tpractice\tknown\tas resiliency\ttesting.\n\nA\tresilient\tmicroservice\tis\tone\tthat\tcan\texperience\tand\trecover\tfrom\tfailures\tat every\tlevel\tof\tthe\tmicroservice\tecosystem:\tthe\thardware\tlayer\t(e.g.,\ta\thost\tor datacenter\tfailure),\tthe\tcommunication\tlayer\t(e.g.,\tRPC\tfailures),\tthe\tapplication layer\t(e.g.,\ta\tfailure\tin\tthe\tdeployment\tpipeline),\tand\tin\tthe\tmicroservice\tlayer (e.g.,\tfailure\tof\ta\tdependency,\ta\tbad\tdeployment,\tor\ta\tsudden\tincrease\tin\ttraffic). There\tare\tseveral\ttypes\tof\tresiliency\ttesting\tthat,\twhen\tused\tto\tevaluate\tthe\tfault tolerance\tof\ta\tmicroservice,\tcan\tensure\tthat\tthe\tservice\tis\tprepared\tfor\tany known\tfailures\twithin\tany\tlayer\tof\tthe\tstack.\n\nThe\tfirst\ttype\tof\tresiliency\ttesting\twe\twill\tlook\tat\tis\tcode\ttesting,\twhich\tis comprised\tof\tfour\ttypes\tof\ttests\tthat\tcheck\tsyntax,\tstyle,\tindividual\tcomponents of\tthe\tmicroservice,\thow\tthe\tcomponents\twork\ttogether,\tand\thow\tthe microservice\tperforms\twithin\tits\tcomplex\tdependency\tchains.\t(Code\ttesting usually\tisn’t\tconsidered\tpart\tof\tthe\tresiliency\ttesting\tsuite,\tbut\tI\twanted\tto include\tit\there\tfor\ttwo\treasons:\tfirst,\tsince\tit\tis\tcrucial\tfor\tfault\ttolerance\tand catastrophe-preparedness,\tit\tmakes\tsense\tto\tkeep\tit\tin\tthis\tsection;\tsecond,\tI’ve noticed\tthat\tdevelopment\tteams\thave\tpreferred\tto\tkeep\tall\ttesting\tinformation\tin one\tplace.)\tThe\tsecond\tis\tload\ttesting,\tin\twhich\tmicroservices\tare\texposed\tto higher\ttraffic\tloads\tto\tsee\thow\tthey\tbehave\tunder\tincreased\ttraffic.\tThe\tthird type\tof\tresiliency\ttesting\tis\tchaos\ttesting,\twhich\tis\tthe\tmost\timportant\ttype\tof resiliency\ttesting,\tin\twhich\tmicroservices\tare\tactively\tpushed\tto\tfail\tin production.",
      "content_length": 2306,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 170,
      "content": "Code\tTesting The\tfirst\ttype\tof\tresiliency\ttesting\tis\tcode\ttesting,\ta\tpractice\talmost\tall developers\tand\toperational\tengineers\tare\tfamiliar\twith.\tIn\tmicroservice architecture,\tcode\ttesting\tneeds\tto\tbe\trun\tat\tevery\tlayer\tof\tthe\tecosystem,\tboth within\tthe\tmicroservices\tand\ton\tany\tsystem\tor\tservice\tthat\tlives\tin\tthe\tlayers below:\tin\taddition\tto\tmicroservices,\tservice\tdiscovery,\tconfiguration management,\tand\trelated\tsystems\talso\tneed\tto\thave\tproper\tcode\ttesting\tin\tplace. There\tare\tseveral\ttypes\tof\tgood\tcode\ttesting\tpractices,\tincluding\tlint\ttesting,\tunit testing,\tintegration\ttesting,\tand\tend-to-end\ttesting.\n\nLint\ttests\tSyntax\tand\tstyle\terrors\tare\tcaught\tusing\tlint\ttesting.\tLint\ttests\trun over\tthe\tcode,\tcatching\tany\tlanguage-specific\tproblems,\tand\talso\tcan\tbe\twritten to\tensure\tthat\tcode\tmatches\tlanguage-specific\t(and\tsometimes\tteam-specific\tor organization-specific)\tstyle\tguidelines.\n\nUnit\ttests\tThe\tmajority\tof\tcode\ttesting\tis\tdone\tthrough\tunit\ttests,\twhich\tare small\tand\tindependent\ttests\tthat\tare\trun\tover\tvarious\tsmall\tpieces\t(or\tunits)\tof the\tmicroservice’s\tcode.\tThe\tgoal\tof\tunit\ttests\tis\tto\tmake\tsure\tthat\tthe\tsoftware components\tof\tthe\tservice\titself\t(e.g.,\tfunctions,\tclasses,\tand\tmethods)\tare resilient\tand\tdon’t\tcontain\tany\tbugs.\tUnfortunately,\tmany\tdevelopers\tonly consider\tunit\ttests\twhen\twriting\ttests\tfor\ttheir\tapplications\tor\tmicroservices. While\tunit\ttesting\tis\tgood,\tit’s\tnot\tgood\tenough\tto\tevaluate\tthe\tactual\tways\tin which\tthe\tmicroservice\twill\tbehave\tin\tproduction.\n\nIntegration\ttests\tWhile\tunit\ttests\tevaluate\tsmall\tpieces\tof\tthe\tmicroservice\tto ensure\tthat\tthe\tcomponents\tare\tresilient,\tthe\tnext\ttype\tof\tcode\ttests\tare integration\ttests,\twhich\ttest\thow\tthe\tentire\tservice\tworks.\tIn\tintegration\ttesting, all\tof\tthe\tsmaller\tcomponents\tof\tthe\tmicroservice\t(which\twere\ttesting individually\tusing\tunit\ttests)\tare\tcombined\tand\ttested\ttogether\tto\tmake\tsure\tthat they\twork\tas\texpected\twhen\tthey\tneed\tto\twork\ttogether.\n\nEnd-to-end\ttests\tFor\ta\tmonolithic\tor\tstandalone\tapplication,\toften\tunit\ttests\tand integration\ttests\tare\tgood\tenough\ttogether\tto\tcomprise\tthe\tcode\ttesting\taspect\tof resiliency\ttesting,\tbut\tmicroservice\tarchitecture\tintroduces\ta\tnew\tlevel\tof complexity\twithin\tcode\ttesting\tdue\tto\tthe\tcomplex\tdependency\tchains\tthat\texist between\ta\tmicroservice,\tits\tclients,\tand\tits\tdependencies.\tAnother\tadditional\tset of\ttests\tneed\tto\tbe\tadded\tto\tthe\tcode\ttesting\tsuite\tthat\tevaluate\tthe\tbehavior\tof",
      "content_length": 2423,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 171,
      "content": "the\tmicroservice\twith\trespect\tto\tits\tclients\tand\tdependencies.\tThis\tmeans\tthat microservice\tdevelopers\tneed\tto\tbuild\tend-to-end\ttests\tthat\trun\tjust\tlike\treal production\ttraffic,\ttests\tthat\thit\tthe\tendpoints\tof\ttheir\tmicroservice’s\tclients,\thit their\town\tmicroservice’s\tendpoints,\thit\tthe\tendpoints\tof\tthe\tmicroservice’s dependencies,\tsend\tread\trequests\tto\tany\tdatabases,\tand\tcatch\tany\tproblems\tin\tthe request\tflow\tthat\tmight\thave\tbeen\tintroduced\twith\ta\tcode\tchange.\n\nAutomating\tcode\ttests\tAll\tfour\ttypes\tof\tcode\ttests\t(lint,\tunit,\tintegration,\tand end-to-end)\tshould\tbe\twritten\tby\tthe\tdevelopment\tteam,\tbut\trunning\tthem\tshould be\tautomated\tas\tpart\tof\tthe\tdevelopment\tcycle\tand\tthe\tdeployment\tpipeline.\tUnit and\tintegration\ttests\tshould\trun\tduring\tthe\tdevelopment\tcycle\ton\tan\texternal build\tsystem,\tright\tafter\tchanges\thave\tmade\tit\tthrough\tthe\tcode\treview\tprocess. If\tthe\tnew\tcode\tchanges\tfail\tany\tunit\tor\tintegration\ttests,\tthen\tthey\tshould\tnot\tbe introduced\tinto\tthe\tdeployment\tpipeline\tas\ta\tcandidate\tfor\tproduction,\tbut should\tbe\trejected\tand\tbrought\tto\tthe\tattention\tof\tthe\tdevelopment\tteam\tfor repair.\tIf\tthe\tnew\tcode\tchanges\tpass\tall\tunit\tand\tintegration\ttests,\tthen\tthe\tnew build\tshould\tbe\tsent\tto\tthe\tdeployment\tpipeline\tas\ta\tcandidate\tfor\tproduction.\n\nSUMMARY\tOF\tCODE\tTESTING\n\nThe\tfour\ttypes\tof\tproduction-ready\tcode\ttesting\tare:\n\nLint\ttests\n\nUnit\ttests\n\nIntegration\ttests\n\nEnd-to-end\ttests",
      "content_length": 1399,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 172,
      "content": "Load\tTesting As\twe\tsaw\tin\tChapter\t4,\tScalability\tand\tPerformance,\ta\tproduction-ready microservice\tneeds\tto\tbe\tboth\tscalable\tand\tperformant.\tIt\tneeds\tto\thandle\ta\tlarge number\tof\ttasks\tor\trequests\tat\tthe\tsame\ttime\tand\thandle\tthem\tefficiently,\tand\tit also\tmust\tbe\tprepared\tfor\ttasks\tor\trequests\tto\tincrease\tin\tthe\tfuture. Microservices\tthat\tare\tunprepared\tfor\tincreases\tin\ttraffic,\ttasks,\tor\trequests\tcan experience\tsevere\toutages\twhen\tany\tof\tthese\tgradually\tor\tsuddenly\tincrease.\n\nFrom\tthe\tpoint\tof\tview\tof\ta\tmicroservice\tdevelopment\tteam,\twe\tknow\tthat traffic\tto\tour\tmicroservice\twill\tmostly\tlikely\tincrease\tat\tsome\ttime\tin\tthe\tfuture, and\twe\tmight\teven\tknow\tby\texactly\thow\tmuch\tthe\ttraffic\twill\tincrease.\tWe\twant to\tbe\tfully\tprepared\tfor\tthese\tincreases\tin\ttraffic\tso\tthat\twe\tcan\tavoid\tany potential\tproblems\tand/or\tfailures.\tIn\taddition,\twe\twant\tto\tilluminate\tany possible\tscalability\tchallenges\tand\tbottlenecks\tthat\twe\tmight\tnot\tbe\taware\tof until\tour\tmicroservice\tis\tpushed\tto\tthe\tvery\tlimits\tof\tits\tscalability.\tTo\tprotect against\tany\tscalability-related\tincidents\tand\toutages,\tand\tto\tbe\tfully\tprepared\tfor future\tincreases\tin\ttraffic,\twe\tcan\ttest\tthe\tscalability\tof\tour\tservices\tusing\tload testing.\n\nFundamentals\tof\tload\ttesting\tLoad\ttesting\tis\texactly\twhat\tits\tname\timplies:\tit is\ta\tway\tto\ttest\thow\ta\tmicroservice\tbehaves\tunder\ta\tspecific\ttraffic\tload.\tDuring load\ttesting,\ta\ttarget\ttraffic\tload\tis\tchosen,\tthe\ttarget\tload\tof\ttest\ttraffic\tis\trun\ton the\tmicroservice,\tand\tthen\tthe\tmicroservice\tis\tmonitored\tclosely\tto\tsee\thow\tit behaves.\tIf\tthe\tmicroservice\tfails\tor\texperiences\tany\tissues\tduring\tload\ttesting, its\tdevelopers\twill\tbe\table\tto\tresolve\tany\tscalability\tissues\tthat\tappear\tin\tload tests\tthat\twould\thave\totherwise\tharmed\tthe\tavailability\tof\ttheir\tmicroservice\tin the\tfuture.\n\nLoad\ttesting\tis\twhere\tthe\tgrowth\tscales\tand\tresource\tbottlenecks\tand requirements\tthat\twere\tcovered\tin\tChapter\t4,\tScalability\tand\tPerformance,\tcome in\thandy.\tFrom\ta\tmicroservice’s\tqualitative\tgrowth\tscale\tand\tthe\tassociated high-level\tbusiness\tmetrics,\tdevelopment\tteams\tcan\tlearn\thow\tmuch\ttraffic\ttheir microservice\tshould\tbe\tprepared\tto\thandle\tin\tthe\tfuture.\tFrom\tthe\tquantitative growth\tscale,\tdevelopers\twill\tknow\texactly\thow\tmany\trequests\tor\tqueries\tper second\ttheir\tservice\twill\tbe\texpected\tto\thandle.\tIf\tthe\tmajority\tof\tthe\tservice’s resource\tbottlenecks\tand\tresource\trequirements\thave\tbeen\tidentified,\tand\tthe bottlenecks\tarchitected\taway,\tdevelopers\twill\tknow\thow\tto\ttranslate\tthe",
      "content_length": 2480,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 173,
      "content": "quantitative\tgrowth\tscale\t(and,\tconsequently,\tthe\tquantitative\taspects\tof\tfuture increases\tin\ttraffic)\tinto\tterms\tof\tthe\thardware\tresources\ttheir\tmicroservice\twill require\tin\torder\tto\thandle\thigher\ttraffic\tloads.\tLoad\ttesting\tafter\tall\tof\tthis,\tafter applying\tthe\tscalability\trequirements\tand\tworking\tthrough\tthem,\tcan\tvalidate and\tensure\tthat\tthe\tmicroservice\tis\tready\tfor\tthe\texpected\tincrease\tin\ttraffic.\n\nLoad\ttesting\tcan\tbe\tused\tthe\tother\tway\taround,\tto\tdiscover\tthe\tquantitative\tand qualitative\tgrowth\tscales,\tto\tidentify\tresource\tbottlenecks\tand\trequirements,\tto ensure\tdependency\tscaling,\tto\tdetermine\tand\tplan\tfor\tfuture\tcapacity\tneeds,\tand the\tlike.\tWhen\tdone\twell,\tload\ttesting\tcan\tgive\tdevelopers\tdeep\tinsight\tinto\tthe scalability\t(and\tscalability\tlimitations)\tof\ttheir\tmicroservice:\tit\tmeasures\thow\tthe service,\tits\tdependencies,\tand\tthe\tecosystem\tbehave\tin\ta\tcontrolled\tenvironment under\ta\tspecified\ttraffic\tload.\n\nRunning\tload\ttests\tin\tstaging\tand\tproduction\tLoad\ttesting\tis\tmost\teffective when\tit\tis\trun\ton\teach\tstage\tof\tthe\tdeployment\tpipeline.\tTo\ttest\tthe\tload\ttesting framework\titself,\tto\tmake\tsure\tthat\tthe\ttest\ttraffic\tproduces\tthe\tdesired\tresults, and\tto\tcatch\tany\tpotential\tproblems\tthat\tload\ttesting\tmight\tcause\tin\tproduction, load\ttesting\tcan\tbe\trun\tin\tthe\tstaging\tphase\tof\tthe\tdeployment\tpipeline.\tIf\tthe deployment\tpipeline\tis\tutilizing\tpartial\tstaging,\twhere\tthe\tstaging\tenvironment communicates\twith\tproduction\tservices,\tcare\tneeds\tto\tbe\ttaken\tto\tmake\tsure\tthat any\tload\ttests\trun\tin\tstaging\tdo\tnot\tharm\tor\tcompromise\tthe\tavailability\tof\tany production\tservices\tthat\tit\tcommunicates\twith.\tIf\tthe\tdeployment\tpipeline contains\tfull\tstaging,\twhich\tis\ta\tcomplete\tmirror\tcopy\tof\tproduction\tand\twhere no\tstaging\tservices\tcommunicate\twith\tany\tservices\tin\tproduction,\tthen\tcare needs\tto\tbe\ttaken\tto\tmake\tsure\tthat\tload\ttesting\tin\tfull\tstaging\tproduces\taccurate results,\tespecially\tif\tthere\tisn’t\thost\tparity\tbetween\tstaging\tand\tproduction.\n\nIt’s\tnot\tenough\tto\tload\ttest\tonly\tin\tstaging.\tEven\tthe\tbest\tstaging\tenvironments —\tthose\tthat\tare\tcomplete\tmirror\tcopies\tof\tproduction\tand\thave\tfull\thost\tparity —\tstill\tare\tnot\tproduction.\tThey’re\tnot\tthe\treal\tworld,\tand\tvery\trarely\tare\tstaging environments\tperfectly\tindicative\tof\tthe\tconsequences\tof\tload\ttesting\tin production.\tOnce\tyou\tknow\tthe\ttraffic\tload\tyou\tneed\tto\thit,\tyou’ve\talerted\tall\tof the\ton-call\trotations\tof\tthe\tdependency\tteams,\tand\tyou’ve\ttested\tyour\tload\ttests in\tstaging,\tyou\tabsolutely\tneed\tto\trun\tload\ttests\tin\tproduction.",
      "content_length": 2507,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 174,
      "content": "ALERT\tDEPENDENCIES\tWHEN\tLOAD\tTESTING\n\nIf\tyour\tload\ttests\tsend\trequests\tto\tother\tproduction\tservices,\tbe\tsure\tto\talert\tall\tdependencies in\torder\tto\tavoid\tcompromising\ttheir\tavailability\twhile\trunning\tload\ttests.\tNever\tassume\tthat downstream\tdependencies\tcan\thandle\tthe\ttraffic\tload\tyou\tare\tabout\tto\tsend\ttheir\tway!\n\nLoad\ttesting\tin\tproduction\tcan\tbe\tdangerous\tand\tcan\teasily\tcause\ta\tmicroservice and\tits\tdependencies\tto\tfail.\tThe\treason\twhy\tload\ttesting\tis\tdangerous\tis\tthe same\treason\tit\tis\tessential:\tmost\tof\tthe\ttime,\tyou\twon’t\tknow\texactly\thow\tthe service\tbeing\ttested\tbehaves\tunder\tthe\ttarget\ttraffic\tload,\tand\tyou\twon’t\tknow how\tits\tdependencies\thandle\tincreased\trequests.\tLoad\ttesting\tis\tthe\tway\tto explore\tthe\tunknowns\tabout\ta\tservice\tand\tmake\tsure\tthat\tit\tis\tprepared\tfor expected\ttraffic\tgrowth.\tWhen\ta\tservice\tis\tpushed\tto\tits\tlimits\tin\tproduction,\tand things\tbegin\tto\tbreak,\tthere\tneed\tto\tbe\tautomated\tpieces\tin\tplace\tto\tmake\tsure that\tany\tload\ttests\tcan\tbe\tquickly\tshut\tdown.\tAfter\tthe\tlimitations\tof\tthe\tservice have\tbeen\tdiscovered\tand\tmitigated\tand\tthe\tfixes\thave\tbeen\ttested\tand\tdeployed, load\ttesting\tcan\tresume.\n\nAutomating\tload\ttesting\tIf\tload\ttesting\tis\tgoing\tto\tbe\trequired\tfor\tall microservices\twithin\tthe\torganization\t(or\teven\tjust\ta\tsmall\tnumber\tof\tbusiness- critical\tmicroservices),\tleaving\tthe\timplementation\tand\tmethodology\tof\tthe\tload testing\tin\tthe\thands\tof\tdevelopment\tteams\tto\tdesign\tand\trun\tfor\tthemselves introduces\tanother\tpoint\tof\tfailure\tinto\tthe\tsystem.\tIdeally,\ta\tself-service\tload- testing\ttool\tand/or\tsystem\tshould\tbe\tpart\tof\tthe\tapplication\tplatform\tlayer\tof\tthe microservice\tecosystem,\tallowing\tdevelopers\tto\tuse\ta\ttrusted,\tshared,\tautomated, and\tcentralized\tservice.\n\nLoad\ttesting\tshould\tbe\tscheduled\tregularly,\tand\tviewed\tas\tan\tintegral component\tof\tthe\tday-to-day\tfunction\tof\tthe\tengineering\torganization.\tThe scheduling\tshould\tbe\tlinked\tto\ttraffic\tpatterns:\ttest\tdesired\ttraffic\tloads\tin production\twhen\ttraffic\tis\tlow,\tand\tnever\tduring\tpeak\thours,\tto\tavoid compromising\tthe\tavailability\tof\tany\tservices.\tIf\ta\tcentralized\tself-service\tload testing\tsystem\tis\tbeing\tused,\tit\tis\tincredibly\tuseful\tto\thave\tan\tautomated\tprocess for\tvalidating\tnew\ttests,\talong\twith\ta\tsuite\tof\ttrusted\t(and\trequired)\ttests\tthat every\tservice\tcan\trun.\tIn\textreme\tcases,\tand\twhen\ta\tself-service\tload\ttesting\ttool is\treliable,\tdeployments\tcan\tbe\tblocked\t(or\tgated)\tif\ta\tmicroservice\tfails\tto perform\tadequately\tunder\tload\ttests.\tMost\timportantly,\tevery\tload\ttest performed\tneeds\tto\tbe\tsufficiently\tlogged\tand\tpublicized\tinternally\tso\tthat\tany",
      "content_length": 2562,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 175,
      "content": "performed\tneeds\tto\tbe\tsufficiently\tlogged\tand\tpublicized\tinternally\tso\tthat\tany problems\tcaused\tby\tload\ttesting\tcan\tquickly\tbe\tdetected,\tmitigated,\tand resolved.\n\nSUMMARY\tOF\tLOAD\tTESTING\n\nProduction-ready\tload\ttesting\thas\tthe\tfollowing\tcomponents:\n\nIt\tuses\ta\ttarget\ttraffic\tload\tthat\tis\tcalculated\tusing\tthe\tqualitative\tand\tquantitative\tgrowth\tscales\tand\n\nexpressed\tin\tterms\tof\tRPS,\tQPS,\tor\tTPS.\n\nIt\tis\trun\tin\teach\tstage\tof\tthe\tdeployment\tpipeline.\n\nIts\truns\tare\tcommunicated\tto\tall\tdependencies.\n\nIt\tis\tfully\tautomated,\tis\tlogged,\tand\tis\tscheduled.",
      "content_length": 549,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 176,
      "content": "Chaos\tTesting In\tthis\tchapter,\twe’ve\tseen\tvarious\tpotential\tfailure\tscenarios\tand\tcatastrophes that\tcan\thappen\tat\teach\tlayer\tof\tthe\tstack.\tWe’ve\tseen\thow\tcode\ttesting\tcatches small\tpotential\tfailures\tat\tthe\tindividual\tmicroservice\tlevel,\tand\thow\tload\ttesting catches\tfailures\tthat\tarise\tfrom\tscalability\tlimitations\tat\tthe\tmicroservice\tlevel. However,\tthe\tmajority\tof\tthe\tfailure\tscenarios\tand\tpotential\tcatastrophes\tlie elsewhere\tin\tthe\tecosystem\tand\tcannot\tbe\tcaught\tby\tany\tof\tthese\tkinds\tof\ttests. To\ttest\tfor\tall\tfailure\tscenarios,\tto\tmake\tsure\tthat\tmicroservices\tcan\tgracefully recover\tfrom\tany\tpotential\tcatastrophe,\tthere’s\tone\tadditional\ttype\tof\tresiliency testing\tthat\tneeds\tto\tbe\tin\tplace,\tand\tit’s\tknown\t(quite\tappropriately)\tas\tchaos testing.\n\nIn\tchaos\ttesting,\tmicroservices\tare\tactively\tpushed\tto\tfail\tin\tproduction,\tbecause the\tonly\tway\tto\tmake\tsure\tthat\ta\tmicroservice\tcan\tsurvive\ta\tfailure\tis\tto\tmake\tit fail\tall\tof\tthe\ttime,\tand\tin\tevery\tway\tpossible.\tThat\tmeans\tthat\tevery\tfailure scenario\tand\tpotential\tcatastrophe\tneeds\tto\tbe\tidentified,\tand\tthen\tis\tneeds\tto\tbe forced\tto\thappen\tin\tproduction.\tRunning\tscheduled\tand\trandom\ttests\tof\teach failure\tscenario\tand\tpotential\tcatastrophe\tcan\thelp\tmimic\tthe\treal\tworld\tof complex\tsystem\tfailures:\tdevelopers\twill\tknow\tthat\tpart\tof\tthe\tsystem\twill\tbe pushed\tto\tfail\ton\ta\tscheduled\tbasis\tand\twill\tprepare\tfor\tthose\tscheduled\tchaos runs,\tand\tthey’ll\talso\tbe\tcaught\toff\tguard\tby\trandomly\tscheduled\ttests.",
      "content_length": 1462,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 177,
      "content": "RESPONSIBLE\tCHAOS\tTESTING\n\nChaos\ttesting\tmust\tbe\twell\tcontrolled\tin\torder\tto\tavoid\tchaos\ttests\tfrom\tbringing\tdown\tthe ecosystem.\tMake\tsure\tyour\tchaos\ttesting\tsoftware\thas\tappropriate\tpermissions,\tand\tthat\tevery single\tevent\tis\tlogged,\tso\tthat\tif\tmicroservices\tare\tunable\tto\tgracefully\trecover\t(or\tif\tthe\tchaos testing\tgoes\trogue),\tpinpointing\tand\tresolving\tthe\tproblems\twon’t\trequire\tany\tserious sleuthing.\n\nLike\tload\ttesting\t(and\tmany\tof\tthe\tother\tsystems\tcovered\tin\tthis\tbook),\tchaos testing\tis\tbest\tprovided\tas\ta\tservice,\tand\tnot\timplemented\tin\tvarious\tad\thoc manners\tacross\tdevelopment\tteams.\tAutomate\tthe\ttesting,\trequire\tevery microservice\tto\trun\ta\tsuite\tof\tboth\tgeneral\tand\tservice-specific\ttests,\tencourage development\tteams\tto\tdiscover\tadditional\tways\ttheir\tservice\tcan\tfail,\tand\tthen give\tthem\tthe\tresources\tto\tdesign\tnew\tchaos\ttests\tthat\tpush\ttheir\tmicroservices to\tfail\tin\tthese\tnew\tways.\tMake\tsure\tthat\tevery\tpart\tof\tthe\tecosystem\t(including the\tchaos\ttesting\tservice)\tcan\tsurvive\ta\tstandard\tset\tof\tchaos\ttests,\tand\tbreak each\tmicroservice\tand\tpiece\tof\tthe\tinfrastructure\tmultiple\ttimes,\tagain\tand\tagain and\tagain,\tuntil\tevery\tdevelopment\tand\tinfrastructure\tteam\tis\tconfident\tthat\ttheir services\tand\tsystems\tcan\twithstand\tinevitable\tfailures.\n\nFinally,\tchaos\ttesting\tis\tnot\tjust\tfor\tcompanies\thosted\ton\tcloud\tproviders,\teven though\tthey\tare\tthe\tmost\tvocal\t(and\tcommon)\tusers.\tThere\tare\tvery\tfew differences\tin\tfailure\tmodes\tof\tbare-metal\tversus\tcloud\tprovider\thardware,\tand anything\tthat\tis\tbuilt\tto\trun\tin\tthe\tcloud\tcan\twork\tjust\tas\twell\ton\tbare\tmetal\t(and vice\tversa).\tAn\topen\tsource\tsolution\tlike\tSimian\tArmy\t(which\tcomes\twith\ta standard\tsuite\tof\tchaos\ttests\tthat\tcan\tbe\tcustomized)\twill\twork\tfor\tthe\tmajority of\tcompanies,\tbut\torganizations\twith\tspecific\tneeds\tcan\teasily\tbuild\ttheir\town.\n\nEXAMPLES\tOF\tCHAOS\tTESTS\n\nSome\tcommon\ttypes\tof\tchaos\ttests:\n\nDisable\tthe\tAPI\tendpoint\tof\tone\tof\ta\tmicroservice’s\tdependencies.\n\nStop\tall\ttraffic\trequests\tto\ta\tdependency.\n\nIntroduce\tlatency\tbetween\tvarious\tparts\tof\tthe\tecosystem\tto\tmimic\tnetwork\tproblems:\tbetween\n\nclients\tand\tdependencies,\tbetween\tmicroservices\tand\tshared\tdatabases,\tbetween\tmicroservices\tand",
      "content_length": 2166,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 178,
      "content": "distributed\ttask-processing\tsystems,\tetc.\n\nStop\tall\ttraffic\tto\ta\tdatacenter\tor\ta\tregion.\n\nTake\tout\ta\thost\tat\trandom\tby\tshutting\tdown\tone\tmachine.",
      "content_length": 145,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 179,
      "content": "Failure\tDetection\tand\tRemediation In\taddition\tto\tthe\tresiliency\ttesting\tsuite,\tin\twhich\tmicroservices\tare\ttested\tfor every\tknown\tfailure\tand\tcatastrophe,\ta\tproduction-ready\tmicroservice\tneeds\tto have\tfailure\tdetection\tand\tremediation\tstrategies\tfor\twhen\tfailures\tdo\thappen. We’ll\ttake\ta\tlook\tat\torganizational\tprocesses\tthat\tcan\tbe\tused\tacross\tthe ecosystem\tto\ttriage,\tmitigate,\tand\tresolve\tincidents\tand\toutages,\tbut\tfirst\twe’ll focus\ton\tseveral\ttechnical\tmitigation\tstrategies\tin\tthis\tsection.\n\nWhen\ta\tfailure\tdoes\thappen,\tthe\tgoal\tof\tfailure\tdetection\tand\tremediation\talways needs\tto\tbe\tthe\tfollowing:\treduce\tthe\timpact\tto\tusers.\tIn\ta\tmicroservice ecosystem,\tthe\t“users”\tare\twhoever\tmay\tbe\tusing\tthe\tservice\t—\tthis\tcould\tbe another\tmicroservice\t(who\tis\ta\tclient\tof\tthe\tservice)\tor\tan\tactual\tcustomer\tof\tthe product\t(if\tthe\tservice\tin\tquestion\tis\tcustomer-facing).\tIf\tthe\tfailure\tin\tquestion was\t(or\tmay\thave\tbeen)\tintroduced\tinto\tproduction\tby\ta\tnew\tdeployment,\tthe single\tmost\teffective\tway\tto\treduce\tthe\timpact\tto\tusers\twhen\tsomething\tis\tgoing wrong\tis\tto\timmediately\troll\tback\tto\tthe\tlast\tstable\tbuild\tof\tthe\tservice.\tRolling back\tto\tthe\tlast\tstable\tbuild\tensures\tthat\tthe\tmicroservice\thas\tbeen\treturned\tto\ta known\tstate,\ta\tstate\tthat\twasn’t\tsusceptible\tto\tthe\tfailures\tor\tcatastrophes\tthat were\tintroduced\twith\tthe\tnewest\tbuild.\tThe\tsame\tholds\tfor\tchanges\tto\tlow-level configurations:\ttreat\tconfigs\tlike\tcode,\tdeploy\tthem\tin\tvarious\tsuccessive releases,\tand\tmake\tsure\tthat\tif\ta\tconfig\tchange\tcauses\tan\toutage,\tthe\tsystem\tcan quickly\tand\teffortlessly\troll\tback\tto\tthe\tlast\tstable\tset\tof\tconfigurations.\n\nA\tsecond\tstrategy\tin\tcase\tof\tfailure\tis\tfailing\tover\tto\ta\tstable\talternative.\tIf\tone of\ta\tmicroservice’s\tdependencies\tis\tdown,\tthis\twould\tmean\tsending\trequests\tto\ta different\tendpoint\t(if\tthe\tendpoint\tis\tbroken)\tor\ta\tdifferent\tservice\t(if\tthe\tentire service\tis\tdown).\tIf\tit’s\tnot\tpossible\tto\troute\tto\tanother\tservice\tor\tendpoint,\tthen there\tneeds\tto\tbe\ta\tway\tto\tqueue\tor\tsave\tthe\trequests\tand\thold\tthem\tuntil problems\twith\tthe\tdependency\thave\tbeen\tmitigated.\tIf\tthe\tproblem\tis\trelegated to\tone\tdatacenter,\tor\tif\ta\tdatacenter\tis\texperiencing\tfailures,\tthe\tway\tto\tfail\tover to\ta\tstable\talternative\twould\tbe\tto\tre-route\ttraffic\tto\tanother\tdatacenter. Whenever\tyou\tare\tfaced\twith\tvarious\tways\tto\thandle\tfailure,\tand\tone\tof\tthose choices\tis\tto\tre-route\ttraffic\tto\tanother\tservice\tor\tdatacenter,\tre-routing\tthe\ttraffic is\talmost\talways\tthe\tsmartest\tchoice:\trouting\ttraffic\tis\teasy\tand\timmediately reduces\tthe\timpact\tto\tusers.",
      "content_length": 2529,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 180,
      "content": "Importantly,\tthe\tdetection\taspect\tof\t“failure\tdetection\tand\tremediation”\tcan\tonly really\tbe\taccomplished\tby\tproduction-ready\tmonitoring\t(see\tChapter\t6, Monitoring,\tfor\tall\tthe\tnitty-gritty\tmonitoring\tdetails).\tHuman\tbeings\tare horrible\tat\tdetecting\tand\tdiagnosing\tsystem\tfailures,\tand\tintroducing\tengineers into\tthe\tfailure\tdetection\tprocess\tbecomes\ta\tsingle\tpoint\tof\tfailure\tfor\tthe\toverall system.\tThis\tholds\tfor\tfailure\tremediation\tas\twell:\tmost\tof\tthe\tremediation within\tlarge\tmicroservice\tecosystems\tis\tdone\tby\tengineers,\tall\tby\thand,\tall\tin\tan almost\tpainfully\tmanual\tway,\tintroducing\ta\tnew\tpoint\tof\tfailure\tfor\tthe\tsystem —\tbut\tit\tdoesn’t\thave\tto\tbe\tthat\tway.\tTo\tcut\tout\tthe\tpotential\tand\tpossibility\tfor human\terror\tin\tfailure\tremediation,\tall\tmitigation\tstrategies\tneed\tto\tbe automated.\tFor\texample,\tif\ta\tservice\tfails\tcertain\thealthchecks\tor\tits\tkey\tmetrics hit\tthe\twarning\tand/or\tcritical\tthresholds\tafter\ta\tdeploy,\tthen\tthe\tsystem\tcan\tbe designed\tto\tautomatically\troll\tback\tto\tthe\tlast\tstable\tbuild.\tThe\tsame\tgoes\tfor traffic\trouting\tto\tanother\tendpoint,\tmicroservice,\tor\tdatacenter:\tif\tcertain\tkey metrics\thit\tspecific\tthresholds,\tset\tup\ta\tsystem\tthat\tautomatically\troutes\tthe traffic\tfor\tyou.\tFault\ttolerance\tabsolutely\trequires\tthat\tthe\tpotential\tand possibility\tfor\thuman\terror\tbe\tautomated\tand\tarchitected\taway\twhenever possible.",
      "content_length": 1346,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 181,
      "content": "Incidents\tand\tOutages Throughout\tthis\tbook,\tI’ve\temphasized\tthe\tavailability\tof\tthe\tmicroservices\tand the\toverall\tecosystem\tas\tthe\tgoal\tof\tstandardization.\tArchitecting,\tbuilding,\tand running\tmicroservice\tarchitecture\tthat\tis\tgeared\ttoward\thigh\tavailability\tcan\tbe accomplished\tthrough\tadopting\tthe\tproduction-readiness\tstandards\tand\ttheir related\trequirements,\tand\tit’s\tthe\treason\tI’ve\tintroduced\tand\tchosen\teach production-readiness\tstandard.\tIt’s\tnot\tenough,\thowever,\tfor\tthe\tindividual microservices\tand\teach\tlayer\tof\tthe\tmicroservice\tecosystem\tstack\tto\tbe\tfault tolerant\tand\tprepared\tfor\tany\tcatastrophe.\tThe\tdevelopment\tteams\tand\tthe engineering\torganization(s)\tresponsible\tfor\tthe\tmicroservices\tand\tthe\tecosystem they\tlive\tin\tneed\tto\thave\tthe\tappropriate\torganizational\tresponse\tprocedures\tin place\tfor\thandling\tincidents\tand\toutages\twhen\tthey\thappen.\n\nEvery\tminute\tthat\ta\tmicroservice\tis\tdown\tbrings\tdown\tits\tavailability.\tWhen part\tof\tthe\tmicroservice\tor\tits\tecosystem\tfails,\tcausing\tan\tincident\tor\toutage\tto happen,\tevery\tminute\tthat\tit\tis\tdown\tcounts\tagainst\tits\tavailability\tand\tcauses\tit to\tfail\tto\tmeet\tits\tSLA.\tFailing\tto\tmeet\tan\tSLA,\tand\tfailing\tto\tmeet\tavailability goals,\tincurs\ta\tserious\tcost:\tat\tmost\tcompanies,\toutages\tmean\ta\thuge\tfinancial cost\tto\tthe\tbusiness,\ta\tcost\tthat\tis\tusually\teasy\tto\tquantify\tand\tshare\twith development\tteams\twithin\tthe\torganization.\tWith\tthis\tin\tmind,\tit’s\teasy\tto\tsee how\tthe\tlength\tof\tthe\ttime\tto\tdetection,\tthe\ttime\tto\tmitigation,\tand\tthe\ttime\tto resolution\tof\toutages\tcan\tadd\tup\tvery\tquickly\tand\tcost\tthe\tcompany\tmoney, because\tthey\tcount\tagainst\ta\tmicroservice’s\tuptime\t(and,\tconsequently,\tits availability).",
      "content_length": 1662,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 182,
      "content": "Appropriate\tCategorization Not\tall\tmicroservices\tare\tcreated\tequal,\tand\tcategorizing\tthe\timportance\tand impact\tthat\ttheir\tfailures\twill\thave\ton\tthe\tbusiness\tmakes\tit\teasier\tto\tproperly triage,\tmitigate,\tand\tresolve\tincidents\tand\toutages.\tWhen\tan\tecosystem\tcontains hundreds\tor\teven\tthousands\tof\tmicroservices,\tthere\twill\tbe\tdozens\tor\teven hundreds\tof\tfailures\tper\tweek,\teven\tif\tonly\t10\tpercent\tof\tthe\tmicroservices experience\tfailures,\tthat’s\tstill\tover\t100\tfailures\tin\tan\tecosystem\tof\t1,000 services.\tWhile\tevery\tfailure\tneeds\tto\tbe\tproperly\thandled\tby\tits\ton-call\trotation, not\tevery\tfailure\twill\tneed\tto\tbe\ttreated\tas\tan\tall-hands-on-deck\temergency.\n\nIn\torder\tto\thave\ta\tconsistent,\tappropriate,\teffective,\tand\tefficient\tincident\tand outage\tresponse\tprocess\tacross\tthe\torganization,\tit\tis\timportant\tto\tdo\ttwo\tthings. First,\tit\tis\tincredibly\thelpful\tto\tcategorize\tthe\tmicroservices\tthemselves\twith regard\tto\thow\ttheir\tfailures\twill\taffect\tthe\tecosystem\tso\tthat\tit\twill\tbe\teasy\tto prioritize\tvarious\tincidents\tand\tfailures\t(this\talso\thelps\twith\tproblems\trelated\tto competition\tfor\tresources\t—\tboth\tengineering\tresources\tand\thardware\tresources —\twithin\tthe\torganization).\tSecond,\tincidents\tand\toutages\tneed\tto\tbe categorized\tso\tthat\tthe\tscope\tand\tseverity\tof\tevery\tsingle\tfailure\twill\tbe understood\tacross\tthe\torganization.\n\nCategorizing\tmicroservices\tTo\tmitigate\tthe\tchallenges\tof\tcompetition\tfor resources,\tand\tto\tensure\tproper\tincident\tresponse\tmeasures\tare\ttaken,\teach microservice\twithin\tthe\tecosystem\tcan\t(and\tshould)\tbe\tcategorized\tand\tranked according\tto\tits\tcriticality\tto\tthe\tbusiness.\tCategorization\tdoesn’t\tneed\tto\tbe perfect\tat\tfirst,\tas\ta\trough\tcategorization\trubric\twill\tdo\tthe\tjob\tjust\tfine.\tThe\tkey here\tis\tto\tmark\tmicroservices\tthat\tare\tcritical\tto\tthe\tbusiness\tas\thaving\tthe highest\tpriority\tand\timpact,\tand\tthen\tevery\tother\tmicroservice\twill\thave\ta\tlower rank\tand\tpriority\tdepending\ton\thow\tclose\tor\tfar\tit\tis\tto\tthe\tmost\tcritical\tservices. Infrastructure\tlayers\tare\talways\tof\tthe\thighest\tpriority:\tanything\twithin\tthe hardware,\tcommunication,\tand\tapplication\tplatform\tlayers\tthat\tis\tused\tby\tany\tof the\tbusiness-critical\tmicroservices\tshould\tbe\tthe\thighest\tpriority\twithin\tthe ecosystem.\n\nCategorizing\tincidents\tand\toutages\tThere\tare\ttwo\taxes\tthat\tevery\tincident, outage,\tand\tfailure\tcan\tbe\tplotted\tagainst:\tthe\tfirst\tis\tthe\tseverity\tof\tthe\tincident, outage,\tor\tfailure,\tand\tthe\tsecond\tis\tits\tscope.\tSeverity\tis\tlinked\tto\tthe categorization\tof\tthe\tapplication,\tmicroservice,\tor\tsystem\tin\tquestion.\tIf\tthe",
      "content_length": 2522,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 183,
      "content": "microservice\tis\tbusiness-critical\t(i.e.,\tif\teither\tthe\tbusiness\tor\tan\tessential customer-facing\tpart\tof\tthe\tproduct\tcannot\tfunction\twithout\tit),\tthen\tthe\tseverity of\tany\tfailure\tit\texperiences\tshould\tmatch\tthe\tservice’s\tcategorization.\tScope,\ton the\tother\thand,\tis\trelated\tto\thow\tmuch\tof\tthe\tecosystem\tis\taffected\tby\tthe failure,\tand\tis\tusually\tsplit\tinto\tthree\tcategories:\thigh,\tmedium,\tand\tlow.\tAn incident\twhose\tscope\tis\thigh\tis\tan\tincident\tthat\taffects\tthe\tentire\tbusiness\tand/or an\texternal\t(e.g.,\tuser-facing)\tfeature;\ta\tmedium-scope\tincident\twould\tbe\tone that\taffected\tonly\tthe\tservice\titself,\tor\tthe\tservice\tand\ta\tfew\tof\tits\tclients;\ta\tlow- scope\tincident\twould\tbe\tone\twhose\tnegative\teffects\tare\tnot\tnoticed\tby\tclients, the\tbusiness,\tor\texternal\tcustomers\tusing\tthe\tproduct.\tIn\tother\twords,\tseverity should\tbe\tcategorized\tbased\ton\tthe\timpact\tto\tthe\tbusiness,\tand\tscope\tshould\tbe categorized\tbased\ton\twhether\tthe\tincident\tis\tlocal\tor\tglobal.\n\nLet’s\tgo\tthrough\ta\tfew\texamples\tto\tclarify\twhat\tthis\tlooks\tlike\tin\tpractice.\tWe’ll assign\tfour\tlevels\tof\tseverity\tto\teach\tfailure\t(0–4,\twhere\t0\tis\tthe\tmost\tsevere incident\tlevel\tand\t4\tis\tthe\tleast\tsevere),\tand\twe’ll\tstick\twith\tthe\thigh-medium- low\tlevels\twhen\tdetermining\tscope.\tFirst,\tlet’s\tlook\tat\tan\texample\twhose severity\tand\tscope\tare\tvery\teasy\tto\tcategorize:\ta\tcomplete\tdatacenter\tfailure.\tIf\ta datacenter\tgoes\tcompletely\tdown\t(for\twhatever\treason),\tthe\tseverity\tis\tclearly\t0 (it\taffects\tthe\tentire\tbusiness),\tand\tthe\tscope\tis\thigh\t(again,\tit\taffects\tthe\tentire business).\tNow\tlet’s\tlook\tat\tanother\tscenario:\timagine\twe\thave\ta\tmicroservice that\tis\tresponsible\tfor\ta\tbusiness-critical\tfunction\tin\tthe\tproduct,\tand\tit\tgoes down\tfor\t30\tminutes;\tas\ta\tresult\tof\tits\tfailure,\tlet’s\timagine\tthat\tone\tof\tits\tclients suffers,\tbut\tthe\trest\tof\tthe\tecosystem\tremains\tunaffected.\tWe’d\tcategorize\tthis\tas severity\t0\t(because\tit\timpacts\ta\tbusiness-critical\tfeature)\tand\tscope\tmedium\t(it doesn’t\taffect\tthe\twhole\tbusiness,\tonly\titself\tand\tone\tclient\tservice).\tFinally, let’s\tconsider\tan\tinternal\ttool\tresponsible\tfor\tgenerating\ttemplates\tfor\tnew microservices,\tand\timagine\tthat\tit\tgoes\tdown\tfor\tseveral\thours\t—\thow\twould this\tbe\tcategorized?\tGenerating\ttemplates\tfor\tnew\tmicroservices\t(and\tspinning up\tnew\tmicroservices)\tisn’t\tbusiness-critical\tand\tdoesn’t\taffect\tany\tuser-facing features,\tso\tthis\twouldn’t\tbe\ta\t0\tseverity\tproblem\t(it\tprobably\twouldn’t\tbe\ta\t1\tor a\t2\teither);\thowever,\tsince\tthe\tservice\titself\tis\tdown,\twe’d\tprobably\tcategorize its\tseverity\tas\ta\t3,\tand\tthen\tits\tscope\tas\tlow\t(since\tit\tis\tthe\tonly\tservice\taffected by\tits\tfailure).",
      "content_length": 2586,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 184,
      "content": "The\tFive\tStages\tof\tIncident\tResponse When\tfailures\thappen,\tit’s\tcritical\tto\tthe\tavailability\tof\tthe\tentire\tsystem\tthat there\tare\tstandardized\tincident\tresponse\tprocedures\tin\tplace.\tHaving\ta\tclear\tset of\tsteps\tthat\tneed\tto\tbe\ttaken\twhen\tan\tincident\tor\toutage\toccurs\tcuts\tdown\ton the\ttime\tto\tmitigation\tand\tthe\ttime\tto\tresolution,\twhich\tin\tturn\tdecreases\tthe downtime\texperienced\tby\teach\tmicroservice.\tWithin\tthe\tindustry\ttoday,\tthere are\ttypically\tthree\tstandard\tsteps\tin\tthe\tprocess\tof\tresponding\tto\tand\tresolving an\tincident:\ttriage,\tmitigate,\tand\tresolve.\tAdopting\tmicroservice\tarchitecture, however,\tand\tachieving\thigh\tavailability\tand\tfault\ttolerance\trequires\tadopting two\tadditional\tsteps\tin\tthe\tincident\tresponse\tprocess:\tone\tfor\tcoordination,\tand another\tfor\tfollow-up.\tTogether,\tthese\tsteps\tgive\tus\tthe\tfive\tstages\tof\tincident response\t(Figure\t5-1):\tassessment,\tcoordination,\tmitigation,\tresolution,\tand follow-up.",
      "content_length": 922,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 185,
      "content": "Figure\t5-1.\tThe\tfive\tstages\tof\tincident\tresponse\n\nAssessment\tWhenever\tan\talert\tis\ttriggered\tby\ta\tchange\tin\ta\tservice’s\tkey\tmetric (see\tChapter\t6,\tMonitoring,\tfor\tmore\tdetails\ton\talerting,\tkey\tmetrics,\tand\ton-call rotations),\tand\tthe\tdeveloper\ton\tcall\tfor\tthe\tservice\tneeds\tto\trespond\tto\tthe\talert, the\tvery\tfirst\tstep\tthat\tneeds\tto\tbe\ttaken\tis\tto\tassess\tthe\tincident.\tThe\ton-call engineer\tis\tthe\tfirst\tresponder,\ttriaging\tevery\tproblem\tas\tsoon\tas\tit\ttriggers\tan alert,\tand\this\tjob\tis\tto\tdetermine\tthe\tseverity\tand\tscope\tof\tthe\tissue.\n\nCoordination\tOnce\tthe\tincident\thas\tbeen\tassessed\tand\ttriaged,\tthe\tnext\tstep\tis to\tfirst\tcoordinate\twith\tother\tdevelopers\tand\tteams\tand\tthen\tbegin communicating\tabout\tthe\tincident.\tVery\tfew\tdevelopers\ton\tcall\tfor\tany\tgiven service\twill\tbe\table\tto\tresolve\tevery\tsingle\tproblem\twith\tthe\tservice,\tand\tso coordination\twith\tother\tteams\twho\tcan\tresolve\tthe\tissue\twill\tensure\tthat\tthe problem\tis\tmitigated\tand\tresolved\tquickly.\tThis\tmeans\tthat\tthere\tneed\tto\tbe\tclear channels\tof\tcommunication\tfor\tincidents\tand\toutages\tso\tthat\tany\thigh-severity, high-scope\tproblem\tcan\treceive\tthe\timmediate\tattention\tthat\tit\trequires.\n\nDuring\tthe\tincident\tor\toutage,\tit’s\timportant\tto\thave\ta\tclear\trecord\tof communication\tregarding\tthe\tincident\tfor\tseveral\treasons.\tFirst,\trecording communication\tduring\tthe\tincident\t(in\tchat\tlogs,\tover\temail,\tetc.)\thelps\tin diagnosing,\troot-causing,\tand\tmitigating\tthe\tincident:\teveryone\tknows\twho\tis working\ton\twhich\tfix,\teveryone\tknows\twhat\tpossible\tfailures\thave\tbeen eliminated\tas\tpossible\tcauses,\tand\tonce\tthe\troot\thas\tbeen\tidentified,\teveryone knows\texactly\twhat\tcaused\tthe\tproblem.\tSecond,\tother\tservices\tthat\tdepend\ton the\tservice\texperiencing\tthe\tincident\tor\toutage\tneed\tto\tbe\tapprised\tof\tany problems\tso\tthat\tthey\tcan\tmitigate\tits\tnegative\teffects\tand\tensure\tthat\ttheir\town service\tis\tprotected\tfrom\tthe\tfailure.\tThis\tkeeps\toverall\tavailability\thigh,\tand prevents\tone\tservice\tfrom\tbringing\tdown\tentire\tdependency\tchains.\tThird,\tit helps\twhen\tpostmortems\tare\twritten\tfor\tsevere,\tglobal\tincidents\tby\tgiving\ta clear,\tdetailed\trecord\tof\texactly\twhat\thappened\tand\thow\tthe\tproblem\twas triaged,\tmitigated,\tand\tresolved.\n\nMitigation\tThe\tthird\tstep\tis\tmitigation.\tAfter\tthe\tproblem\thas\tbeen\tassessed\tand organizational\tcommunication\thas\tbegun\t(ensuring\tthat\tthe\tright\tpeople\tare working\tto\tfix\tthe\tproblem),\tdevelopers\tneed\tto\twork\tto\treduce\tthe\timpact\tof\tthe incident\ton\tclients,\tthe\tbusiness,\tand\tanything\telse\tthat\tmay\tbe\taffected\tby\tthe incident.\tMitigation\tis\tnot\tthe\tsame\tas\tresolution:\tit\tis\tnot\tfixing\tthe\troot\tcause\tof",
      "content_length": 2574,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 186,
      "content": "the\tproblem\tcompletely,\tonly\treducing\tits\timpact.\tAn\tissue\tis\tnot\tmitigated\tuntil both\tits\tavailability\tand\tthe\tavailability\tof\tits\tclients\tare\tno\tlonger\tcompromised or\tsuffering.\n\nResolution\tAfter\tthe\teffects\tof\tthe\tincident\tor\toutage\thave\tbeen\tmitigated, engineers\tcan\twork\tto\tresolve\tthe\troot\tcause\tof\tthe\tproblem.\tThis\tis\tthe\tfourth step\tof\tthe\tincident\tresponse\tprocess.\tThis\tentails\tactually\tfixing\tthe\troot\tcause of\tthe\tproblem,\twhich\tmay\tnot\thave\tbeen\tdone\twhen\tthe\tproblem\twas\tmitigated. Most\timportantly,\tthis\tis\twhen\tthe\tclock\tstops\tticking.\tThe\ttwo\tmost\timportant quantities\tthat\tcount\tagainst\ta\tmicroservice’s\tSLA\tare\ttime\tto\tdetection\t(TTD) and\ttime\tto\tmitigation\t(TTM).\tOnce\ta\tproblem\thas\tbeen\tmitigated,\tit\tshould\tno longer\tbe\taffecting\tend\tusers\tor\tcompromising\tthe\tservice’s\tSLA,\tand\tso\ttime\tto resolution\t(TTR)\trarely\t(if\tever)\tcounts\tagainst\ta\tservice’s\tavailability.\n\nFollow-up\tThree\tthings\tneed\tto\thappen\tin\tthe\tfifth\tand\tfinal\tfollow-up\tstage\tof incident\tresponse:\tpostmortems\tneed\tto\tbe\twritten\tto\tanalyze\tand\tunderstand\tthe incident\tor\toutage,\tsevere\tincidents\tand\toutages\tneed\tto\tbe\tshared\tand\treviewed, and\ta\tlist\tof\taction\titems\tneeds\tto\tbe\tput\ttogether\tso\tthat\tthe\tdevelopment team(s)\tcan\tcomplete\tthem\tin\torder\tfor\tthe\taffected\tmicroservice(s)\tto\treturn\tto\ta production-ready\tstate\t(action\titems\tcan\toften\tbe\tfit\tinto\tpostmortems).\n\nThe\tmost\timportant\taspect\tof\tincident\tfollow-up\tis\tthe\tpostmortem.\tIn\tgeneral,\ta postmortem\tis\ta\tdetailed\tdocument\tthat\tfollows\tevery\tsingle\tincident\tand/or outage\tand\tcontains\tcritical\tinformation\tabout\twhat\thappened,\twhy\tit\thappened, and\twhat\tcould\thave\tbeen\tdone\tto\tprevent\tit.\tEvery\tpostmortem\tshould,\tat\tthe very\tminimum,\tcontain\ta\tsummary\tof\twhat\thappened,\tdata\tabout\twhat\thappened (time\tto\tdetection,\ttime\tto\tmitigation,\ttime\tto\tresolution,\ttotal\tdowntime,\tnumber of\taffected\tusers,\tany\trelevant\tgraphs\tand\tcharts,\tetc.),\ta\tdetailed\ttimeline,\ta comprehensive\troot-cause\tanalysis,\ta\tsummary\tof\thow\tthe\tincident\tcould\thave been\tprevented,\tways\tthat\tsimilar\toutages\tcan\tbe\tprevented\tin\tthe\tfuture,\tand\ta list\tof\taction\titems\tthat\tneed\tto\tbe\tcompleted\tin\torder\tto\tbring\tthe\tservice\tback\tto a\tproduction-ready\tstate.\tPostmortems\tare\tmost\teffective\twhen\tthey’re blameless,\twhen\tthey\tdon’t\tname\tnames\tbut\tonly\tpoint\tout\tobjective\tfacts\tabout the\tservice.\tPointing\tfingers,\tnaming\tnames,\tand\tblaming\tdevelopers\tand engineers\tfor\toutages\tstifles\tthe\torganizational\tlearning\tand\tsharing\tthat\tis essential\tfor\tmaintaining\ta\treliable,\tsustainable\tecosystem.\n\nWithin\tlarge\tand\tcomplex\tmicroservice\tecosystems,\tany\tfailure\tor\tproblem\tthat brings\tone\tmicroservice\tdown\t—\twhether\tbig\tor\tsmall\t—\talmost\tcertainly\tcan (and\twill)\taffect\tat\tleast\tone\tother\tmicroservice\twithin\tthe\tecosystem.",
      "content_length": 2741,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 187,
      "content": "Communicating\tsevere\tincidents\tand\toutages\tacross\tvarious\tteams\t(and\tacross the\twhole\torganization)\tcan\thelp\tcatch\tthese\tfailures\tin\tother\tservices\tbefore they\toccur.\tI’ve\tseen\thow\teffective\tincidents\tand\toutage\treviews\tcan\tbe\twhen done\tproperly,\tand\thave\twatched\tdevelopers\tattend\tthese\tmeetings\tand\tthen\trush off\tto\ttheir\tmicroservice\tafterward\tto\tfix\tany\tbugs\tin\ttheir\town\tservice\tthat\tled\tto the\tincidents\tand/or\toutages\tthat\twere\treviewed.",
      "content_length": 444,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 188,
      "content": "Evaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tfault\ttolerance\tand\tcatastrophe- preparedness,\tuse\tthe\tfollowing\tlist\tof\tquestions\tto\tassess\tthe\tproduction- readiness\tof\tyour\tmicroservice(s)\tand\tmicroservice\tecosystem.\tThe\tquestions\tare organized\tby\ttopic,\tand\tcorrespond\tto\tthe\tsections\twithin\tthis\tchapter.",
      "content_length": 331,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 189,
      "content": "Avoiding\tSingle\tPoints\tof\tFailure\n\nDoes\tthe\tmicroservice\thave\ta\tsingle\tpoint\tof\tfailure?\n\nDoes\tit\thave\tmore\tthan\tone\tpoint\tof\tfailure?\n\nCan\tany\tpoints\tof\tfailure\tbe\tarchitected\taway,\tor\tdo\tthey\tneed\tto\tbe mitigated?",
      "content_length": 215,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 190,
      "content": "Catastrophes\tand\tFailure\tScenarios\n\nHave\tall\tof\tthe\tmicroservice’s\tfailure\tscenarios\tand\tpossible\tcatastrophes been\tidentified?\n\nWhat\tare\tcommon\tfailures\tacross\tthe\tmicroservice\tecosystem?\n\nWhat\tare\tthe\thardware-layer\tfailure\tscenarios\tthat\tcan\taffect\tthis microservice?\n\nWhat\tcommunication-layer\tand\tapplication-layer\tfailures\tcan\taffect\tthis microservice?\n\nWhat\tsorts\tof\tdependency\tfailures\tcan\taffect\tthis\tmicroservice?\n\nWhat\tare\tthe\tinternal\tfailures\tthat\tcould\tbring\tdown\tthis\tmicroservice?",
      "content_length": 495,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 191,
      "content": "Resiliency\tTesting\n\nDoes\tthis\tmicroservice\thave\tappropriate\tlint,\tunit,\tintegration,\tand\tend-to- end\ttests?\n\nDoes\tthis\tmicroservice\tundergo\tregular,\tscheduled\tload\ttesting?\n\nAre\tall\tpossible\tfailure\tscenarios\timplemented\tand\ttested\tusing\tchaos testing?",
      "content_length": 252,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 192,
      "content": "Failure\tDetection\tand\tRemediation\n\nAre\tthere\tstandardized\tprocesses\tacross\tthe\tengineering\torganization(s)\tfor handling\tincidents\tand\toutages?\n\nHow\tdo\tfailures\tand\toutages\tof\tthis\tmicroservice\timpact\tthe\tbusiness?\n\nAre\tthere\tclearly\tdefined\tlevels\tof\tfailure?\n\nAre\tthere\tclearly\tdefined\tmitigation\tstrategies?\n\nDoes\tthe\tteam\tfollow\tthe\tfive\tstages\tof\tincident\tresponse\twhen\tincidents and\toutages\toccur?",
      "content_length": 402,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 193,
      "content": "Chapter\t6.\tMonitoring\n\nA\tproduction-ready\tmicroservice\tis\tone\tthat\tis\tproperly\tmonitored.\tProper monitoring\tis\tone\tof\tthe\tmost\timportant\tparts\tof\tbuilding\ta\tproduction-ready microservice\tand\tguarantees\thigher\tmicroservice\tavailability.\tIn\tthis\tchapter,\tthe essential\tcomponents\tof\tmicroservice\tmonitoring\tare\tcovered,\tincluding\twhich key\tmetrics\tto\tmonitor,\thow\tto\tlog\tkey\tmetrics,\tbuilding\tdashboards\tthat\tdisplay key\tmetrics,\thow\tto\tapproach\talerting,\tand\ton-call\tbest\tpractices.",
      "content_length": 481,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 194,
      "content": "Principles\tof\tMicroservice\tMonitoring The\tmajority\tof\toutages\tin\ta\tmicroservice\tecosystem\tare\tcaused\tby\tbad deployments.\tThe\tsecond\tmost\tcommon\tcause\tof\toutages\tis\tthe\tlack\tof\tproper monitoring.\tIt’s\teasy\tto\tsee\twhy\tthis\tis\tthe\tcase.\tIf\tthe\tstate\tof\ta\tmicroservice\tis unknown,\tif\tkey\tmetrics\taren’t\ttracked,\tthen\tany\tprecipitating\tfailures\twill remain\tunknown\tuntil\tan\tactual\toutage\toccurs.\tBy\tthe\ttime\ta\tmicroservice experiences\tan\toutage\tdue\tto\tlack\tof\tmonitoring,\tits\tavailability\thas\talready\tbeen compromised.\tDuring\tthese\toutages,\tthe\ttime\tto\tmitigation\tand\ttime\tto\trepair\tare prolonged,\tpulling\tthe\tavailability\tof\tthe\tmicroservice\tdown\teven\tfurther: without\teasily\taccessible\tinformation\tabout\tthe\tmicroservice’s\tkey\tmetrics, developers\tare\toften\tfaced\twith\ta\tblank\tslate,\tunprepared\tto\tquickly\tresolve\tthe issue.\tThis\tis\twhy\tproper\tmonitoring\tis\tessential:\tit\tprovides\tthe\tdevelopment team\twith\tall\tof\tthe\trelevant\tinformation\tabout\tthe\tmicroservice.\tWhen\ta microservice\tis\tproperly\tmonitored,\tits\tstate\tis\tnever\tunknown.\n\nMonitoring\ta\tproduction-ready\tmicroservice\thas\tfour\tcomponents.\tThe\tfirst\tis proper\tlogging\tof\tall\trelevant\tand\timportant\tinformation,\twhich\tallows developers\tto\tunderstand\tthe\tstate\tof\tthe\tmicroservice\tat\tany\ttime\tin\tthe\tpresent or\tin\tthe\tpast.\tThe\tsecond\tis\tthe\tuse\tof\twell-designed\tdashboards\tthat\taccurately reflect\tthe\thealth\tof\tthe\tmicroservice,\tand\tare\torganized\tin\tsuch\ta\tway\tthat anyone\tat\tthe\tcompany\tcould\tview\tthe\tdashboard\tand\tunderstand\tthe\thealth\tand status\tof\tthe\tmicroservice\twithout\tdifficulty.\tThe\tthird\tcomponent\tis\tactionable and\teffective\talerting\ton\tall\tkey\tmetrics,\ta\tpractice\tthat\tmakes\tit\teasy\tfor developers\tto\tmitigate\tand\tresolve\tproblems\twith\tthe\tmicroservice\tbefore\tthey cause\toutages.\tThe\tfinal\tcomponent\tis\tthe\timplementation\tand\tpractice\tof running\ta\tsustainable\ton-call\trotation\tresponsible\tfor\tthe\tmonitoring\tof\tthe microservice.\tWith\teffective\tlogging,\tdashboards,\talerting,\tand\ton-call\trotation, the\tmicroservice’s\tavailability\tcan\tbe\tprotected:\tfailures\tand\terrors\twill\tbe detected,\tmitigated,\tand\tresolved\tbefore\tthey\tbring\tdown\tany\tpart\tof\tthe microservice\tecosystem.\n\nA\tPRODUCTION-READY\tSERVICE\tIS\tPROPERLY\tMONITORED\n\nIts\tkey\tmetrics\tare\tidentified\tand\tmonitored\tat\tthe\thost,\tinfrastructure,\tand\tmicroservice\tlevels.\n\nIt\thas\tappropriate\tlogging\tthat\taccurately\treflects\tthe\tpast\tstates\tof\tthe\tmicroservice.",
      "content_length": 2379,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 195,
      "content": "Its\tdashboards\tare\teasy\tto\tinterpret,\tand\tcontain\tall\tkey\tmetrics.\n\nIts\talerts\tare\tactionable\tand\tare\tdefined\tby\tsignal-providing\tthresholds.\n\nThere\tis\ta\tdedicated\ton-call\trotation\tresponsible\tfor\tmonitoring\tand\tresponding\tto\tany\tincidents\tand\n\noutages.\n\nThere\tis\ta\tclear,\twell-defined,\tand\tstandardized\ton-call\tprocedure\tin\tplace\tfor\thandling\tincidents\tand\n\noutages.",
      "content_length": 367,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 196,
      "content": "Key\tMetrics Before\twe\tjump\tinto\tthe\tcomponents\tof\tproper\tmonitoring,\tit’s\timportant\tto identify\tprecisely\twhat\twe\twant\tand\tneed\tto\tmonitor:\twe\twant\tto\tmonitor\ta microservice,\tbut\twhat\tdoes\tthat\tactually\tmean?\tA\tmicroservice\tisn’t\tan individual\tobject\tthat\twe\tcan\tfollow\tor\ttrack,\tit\tcannot\tbe\tisolated\tand quarantined\t—\tit’s\tfar\tmore\tcomplicated\tthan\tthat.\tDeployed\tacross\tdozens,\tif not\thundreds,\tof\tservers,\tthe\tbehavior\tof\ta\tmicroservice\tis\tthe\tsum\tof\tits behavior\tacross\tall\tof\tits\tinstantiations,\twhich\tisn’t\tthe\teasiest\tthing\tto\tquantify. The\tkey\tis\tidentifying\twhich\tproperties\tof\ta\tmicroservice\tare\tnecessary\tand sufficient\tfor\tdescribing\tits\tbehavior,\tand\tthen\tdetermining\twhat\tchanges\tin those\tproperties\ttell\tus\tabout\tthe\toverall\tstatus\tand\thealth\tof\tthe\tmicroservice. We’ll\tcall\tthese\tproperties\tkey\tmetrics.\n\nThere\tare\ttwo\ttypes\tof\tkey\tmetrics:\thost\tand\tinfrastructure\tmetrics,\tand microservice\tmetrics.\tHost\tand\tinfrastructure\tmetrics\tare\tthose\tthat\tpertain\tto\tthe status\tof\tthe\tinfrastructure\tand\tthe\tservers\ton\twhich\tthe\tmicroservice\tis\trunning, while\tmicroservice\tmetrics\tare\tmetrics\tthat\tare\tunique\tto\tthe\tindividual microservice.\tIn\tterms\tof\tthe\tfour-layer\tmodel\tof\tthe\tmicroservice\tecosystem\tas described\tin\tChapter\t1,\tMicroservices,\thost\tand\tinfrastructure\tmetrics\tare metrics\tbelonging\tto\tlayers\t1–3,\twhile\tmicroservice\tmetrics\tare\tthose\tbelonging to\tlayer\t4.\n\nSeparating\tkey\tmetrics\tinto\tthese\ttwo\tdifferent\ttypes\tis\timportant\tboth organizationally\tand\ttechnically.\tHost\tand\tinfrastructure\tmetrics\toften\taffect more\tthan\tone\tmicroservice:\tfor\texample,\tif\tthere\tis\ta\tproblem\twith\ta\tparticular server,\tand\tthe\tmicroservice\tecosystem\tshares\tthe\thardware\tresources\tamong multiple\tmicroservices,\thost-level\tkey\tmetrics\twill\tbe\trelevant\tto\tevery microservice\tteam\tthat\thas\ta\tmicroservice\tdeployed\tto\tthat\thost.\tLikewise, microservice-specific\tmetrics\twill\trarely\tbe\tapplicable\tor\tuseful\tto\tanyone\tbut the\tteam\tof\tdevelopers\tworking\ton\tthat\tparticular\tmicroservice.\tTeams\tshould monitor\tboth\ttypes\tof\tkey\tmetrics\t(that\tis,\tall\tmetrics\trelevant\tto\ttheir microservice),\tand\tany\tmetrics\trelevant\tto\tmultiple\tmicroservices\tshould\tbe monitored\tand\tshared\tbetween\tthe\tappropriate\tteams.\n\nThe\thost\tand\tinfrastructure\tmetrics\tthat\tshould\tbe\tmonitored\tfor\teach microservice\tare\tthe\tCPU\tutilized\tby\tthe\tmicroservice\ton\teach\thost,\tthe\tRAM",
      "content_length": 2343,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 197,
      "content": "utilized\tby\tthe\tmicroservice\ton\teach\thost,\tthe\tavailable\tthreads,\tthe microservice’s\topen\tfile\tdescriptors\t(FD),\tand\tthe\tnumber\tof\tdatabase connections\tthat\tthe\tmicroservice\thas\tto\tany\tdatabases\tit\tuses.\tMonitoring\tthese key\tmetrics\tshould\tbe\tdone\tin\tsuch\ta\tway\tthat\tthe\tstatus\tof\teach\tmetric\tis accompanied\tby\tinformation\tabout\tthe\tinfrastructure\tand\tthe\tmicroservice.\tThis means\tthat\tmonitoring\tshould\tbe\tgranular\tenough\tthat\tdevelopers\tcan\tknow\tthe status\tof\tthe\tkeys\tmetrics\tfor\ttheir\tmicroservice\ton\tany\tparticular\thost\tand\tacross all\tof\tthe\thosts\tthat\tit\truns\ton.\tFor\texample,\tdevelopers\tshould\tbe\table\tto\tknow how\tmuch\tCPU\ttheir\tmicroservice\tis\tusing\ton\tone\tparticular\thost\tand\thow\tmuch CPU\ttheir\tmicroservice\tis\tusing\tacross\tall\thosts\tit\truns\ton.",
      "content_length": 754,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 198,
      "content": "MONITORING\tHOST-LEVEL\tMETRICS\tWHEN\tRESOURCES ARE\tABSTRACTED\n\nSome\tmicroservice\tecosystems\tmay\tuse\tcluster\tmanagement\tapplications\t(like\tMesos)\tin which\tthe\tresources\t(CPU,\tRAM,\tetc.)\tare\tabstracted\taway\tfrom\tthe\thost\tlevel.\tHost-level metrics\twon’t\tbe\tavailable\tin\tthe\tsame\tway\tto\tdevelopers\tin\tthese\tsituations,\tbut\tall\tkey metrics\tfor\tthe\tmicroservice\toverall\tshould\tstill\tbe\tmonitored\tby\tthe\tmicroservice\tteam.\n\nDetermining\tthe\tnecessary\tand\tsufficient\tkey\tmetrics\tat\tthe\tmicroservice\tlevel\tis a\tbit\tmore\tcomplicated\tbecause\tit\tcan\tdepend\ton\tthe\tparticular\tlanguage\tthat\tthe microservice\tis\twritten\tin.\tEach\tlanguage\tcomes\twith\tits\town\tspecial\tway\tof processing\ttasks,\tfor\texample,\tand\tthese\tlanguage-specific\tfeatures\tmust\tbe monitored\tclosely\tin\tthe\tmajority\tof\tcases.\tConsider\ta\tPython\tservice\tthat utilizes\tuwsgi\tworkers:\tthe\tnumber\tof\tuwsgi\tworkers\tis\ta\tnecessary\tkey\tmetric for\tproper\tmonitoring.\n\nIn\taddition\tto\tlanguage-specific\tkey\tmetrics,\twe\talso\tmust\tmonitor\tthe availability\tof\tthe\tservice,\tthe\tservice-level\tagreement\t(SLA)\tof\tthe\tservice, latency\t(of\tboth\tthe\tservice\tas\ta\twhole\tand\tits\tAPI\tendpoints),\tsuccess\tof\tAPI endpoints,\tresponses\tand\taverage\tresponse\ttimes\tof\tAPI\tendpoints,\tthe\tservices (clients)\tfrom\twhich\tAPI\trequests\toriginate\t(along\twith\twhich\tendpoints\tthey send\trequests\tto),\terrors\tand\texceptions\t(both\thandled\tand\tunhandled),\tand\tthe health\tand\tstatus\tof\tdependencies.\n\nImportantly,\tall\tkey\tmetrics\tshould\tbe\tmonitored\teverywhere\tthat\tthe\tapplication is\tdeployed.\tThis\tmeans\tthat\tevery\tstage\tof\tthe\tdeployment\tpipeline\tshould\tbe monitored.\tStaging\tmust\tbe\tclosely\tmonitored\tin\torder\tto\tcatch\tany\tproblems before\ta\tnew\tcandidate\tfor\tproduction\t(a\tnew\tbuild)\tis\tdeployed\tto\tservers running\tproduction\ttraffic.\tIt\talmost\tgoes\twithout\tsaying\tthat\tall\tdeployments\tto production\tservers\tshould\tbe\tmonitored\tcarefully,\tboth\tin\tthe\tcanary\tand production\tdeployment\tphases.\t(For\tmore\tinformation\ton\tdeployment\tpipelines, see\tChapter\t3,\tStability\tand\tReliability.)\tOnce\tthe\tkey\tmetrics\tfor\ta\tmicroservice have\tbeen\tidentified,\tthe\tnext\tstep\tis\tto\tcapture\tthe\tmetrics\temitted\tby\tyour service.\tCapture\tthem,\tand\tthen\tlog\tthem,\tgraph\tthem,\tand\talert\ton\tthem.\tWe’ll cover\teach\tof\tthese\tsteps\tin\tthe\tfollowing\tsections.\n\nSUMMARY\tOF\tKEY\tMETRICS",
      "content_length": 2265,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 199,
      "content": "Host\tand\tinfrastructure\tkey\tmetrics:\n\nCPU\n\nRAM\n\nThreads\n\nFile\tdescriptors\n\nDatabase\tconnections\n\nMicroservice\tkey\tmetrics:\n\nLanguage-specific\tmetrics\n\nAvailability\n\nSLA\n\nLatency\n\nEndpoint\tsuccess\n\nEndpoint\tresponses\n\nEndpoint\tresponse\ttimes\n\nClients\n\nErrors\tand\texceptions\n\nDependencies",
      "content_length": 286,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 200,
      "content": "Logging Logging\tis\tthe\tfirst\tcomponent\tof\tproduction-ready\tmonitoring.\tIt\tbegins\tand belongs\tin\tthe\tcodebase\tof\teach\tmicroservice,\tnestled\tdeep\twithin\tthe\tcode\tof each\tservice,\tcapturing\tall\tof\tthe\tinformation\tnecessary\tto\tdescribe\tthe\tstate\tof the\tmicroservice.\tIn\tfact,\tdescribing\tthe\tstate\tof\tthe\tmicroservice\tat\tany\tgiven time\tin\tthe\trecent\tpast\tis\tthe\tultimate\tgoal\tof\tlogging.\n\nOne\tof\tthe\tbenefits\tof\tmicroservice\tarchitecture\tis\tthe\tfreedom\tit\tgives developers\tto\tdeploy\tnew\tfeatures\tand\tcode\tchanges\tfrequently,\tand\tone\tof\tthe consequences\tof\tthis\tnewfound\tdeveloper\tfreedom\tand\tincreased\tdevelopment velocity\tis\tthat\tthe\tmicroservice\tis\talways\tchanging.\tIn\tmost\tcases,\tthe\tservice will\tnot\tbe\tthe\tsame\tservice\tit\twas\t12\thours\tago,\tlet\talone\tseveral\tdays\tago,\tand reproducing\tany\tproblems\twill\tbe\timpossible.\tWhen\tfaced\twith\ta\tproblem,\toften the\tonly\tway\tto\tdetermine\tthe\troot\tcause\tof\tan\tincident\tor\toutage\tis\tto\tcomb through\tthe\tlogs,\tdiscover\tthe\tstate\tof\tthe\tmicroservice\tat\tthe\ttime\tof\tthe\toutage, and\tfigure\tout\twhy\tthe\tservice\tfailed\tin\tthat\tstate.\tLogging\tneeds\tto\tbe\tsuch\tthat developers\tcan\tdetermine\tfrom\tthe\tlogs\texactly\twhat\twent\twrong\tand\twhere things\tfell\tapart.",
      "content_length": 1185,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 201,
      "content": "LOGGING\tWITHOUT\tMICROSERVICE\tVERSIONING\n\nMicroservice\tversioning\tis\toften\tdiscouraged\tbecause\tit\tcan\tlead\tto\tother\t(client)\tservices pinning\tto\tspecific\tversions\tof\ta\tmicroservice\tthat\tmay\tnot\tbe\tthe\tbest\tor\tmost\tupdated\tversion of\tthe\tmicroservice.\tWithout\tversioning,\tdetermining\tthe\tstate\tof\ta\tmicroservice\twhen\ta\tfailure or\toutage\toccurred\tcan\tbe\tdifficult,\tbut\tthorough\tlogging\tcan\tprevent\tthis\tfrom\tbecoming\ta problem:\tif\tthe\tlogging\tis\tgood\tenough\tthat\tstate\tof\ta\tmicroservice\tat\tthe\ttime\tof\tan\toutage\tcan be\tsufficiently\tknown\tand\tunderstood,\tthe\tlack\tof\tversioning\tceases\tto\tbe\ta\thindrance\tto\tquick and\teffective\tmitigation\tand\tresolution.\n\nDetermining\tprecisely\twhat\tto\tlog\tis\tspecific\tto\teach\tmicroservice.\tThe\tbest guidance\ton\tdetermining\twhat\tneeds\tto\tbe\tlogged\tis,\tsomewhat\tunfortunately, necessarily\tvague:\tlog\twhatever\tinformation\tis\tessential\tto\tdescribing\tthe\tstate\tof the\tservice\tat\ta\tgiven\ttime.\tLuckily,\twe\tcan\tnarrow\tdown\twhich\tinformation\tis necessary\tby\trestricting\tour\tlogging\tto\twhatever\tcan\tbe\tcontained\tin\tthe\tcode\tof the\tservice.\tHost-level\tand\tinfrastructure-level\tinformation\twon’t\t(and shouldn’t)\tbe\tlogged\tby\tthe\tapplication\titself,\tbut\tby\tservices\tand\ttools\trunning the\tapplication\tplatform.\tSome\tmicroservice-level\tkey\tmetrics\tand\tinformation, like\thashed\tuser\tIDs\tand\trequest\tand\tresponse\tdetails\tcan\tand\tshould\tbe\tlocated in\tthe\tmicroservice’s\tlogs.\n\nThere\tare,\tof\tcourse,\tsome\tthings\tthat\tshould\tnever,\tever\tbe\tlogged.\tLogs\tshould never\tcontain\tidentifying\tinformation,\tsuch\tas\tnames\tof\tcustomers,\tSocial Security\tnumbers,\tand\tother\tprivate\tdata.\tThey\tshould\tnever\tcontain\tinformation that\tcould\tpresent\ta\tsecurity\trisk,\tsuch\tas\tpasswords,\taccess\tkeys,\tor\tsecrets.\tIn most\tcases,\teven\tseemingly\tinnocuous\tthings\tlike\tuser\tIDs\tand\tusernames should\tnot\tbe\tlogged\tunless\tencrypted.\n\nAt\ttimes,\tlogging\tat\tthe\tindividual\tmicroservice\tlevel\twill\tnot\tbe\tenough.\tAs we’ve\tseen\tthroughout\tthis\tbook,\tmicroservices\tdo\tnot\tlive\talone,\tbut\twithin complex\tchains\tof\tclients\tand\tdependencies\twithin\tthe\tmicroservice\tecosystem. While\tdevelopers\tcan\ttry\ttheir\tbest\tto\tlog\tand\tmonitor\teverything\timportant\tand relevant\tto\ttheir\tservice,\ttracking\tand\tlogging\trequests\tand\tresponses\tthroughout the\tentire\tclient\tand\tdependency\tchains\tfrom\tend-to-end\tcan\tilluminate important\tinformation\tabout\tthe\tsystem\tthat\twould\totherwise\tgo\tunknown\t(such as\ttotal\tlatency\tand\tavailability\tof\tthe\tstack).\tTo\tmake\tthis\tinformation accessible\tand\tvisible,\tbuilding\ta\tproduction-ready\tmicroservice\tecosystem requires\ttracing\teach\trequest\tthrough\tthe\tentire\tstack.\n\nThe\treader\tmight\thave\tnoticed\tat\tthis\tpoint\tthat\tit\tappears\tthat\ta\tlot\tof",
      "content_length": 2640,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 202,
      "content": "The\treader\tmight\thave\tnoticed\tat\tthis\tpoint\tthat\tit\tappears\tthat\ta\tlot\tof information\tneeds\tto\tbe\tlogged.\tLogs\tare\tdata,\tand\tlogging\tis\texpensive:\tthey\tare expensive\tto\tstore,\tthey\tare\texpensive\tto\taccess,\tand\tboth\tstoring\tand\taccessing logs\tcomes\twith\tthe\tadditional\tcost\tassociated\twith\tmaking\texpensive\tcalls\tover the\tnetwork.\tThe\tcost\tof\tstoring\tlogs\tmay\tnot\tseem\tlike\tmuch\tfor\tan\tindividual microservice,\tbut\tif\tthe\tlogging\tneeds\tof\tall\tthe\tmicroservices\twithin\ta microservice\tecosystem\tare\tadded\ttogether,\tthe\tcost\tis\trather\thigh.",
      "content_length": 536,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 203,
      "content": "LOGS\tAND\tDEBUGGING\n\nAvoid\tadding\tdebugging\tlogs\tin\tcode\tthat\twill\tbe\tdeployed\tto\tproduction\t—\tsuch\tlogs\tare very\tcostly.\tIf\tany\tlogs\tare\tadded\tspecifically\tfor\tthe\tpurpose\tof\tdebugging,\tdevelopers\tshould take\tgreat\tcare\tto\tensure\tthat\tany\tbranch\tor\tbuild\tcontaining\tthese\tadditional\tlogs\tdoes\tnot ever\ttouch\tproduction.\n\nLogging\tneeds\tto\tbe\tscalable,\tit\tneeds\tto\tbe\tavailable,\tand\tit\tneeds\tto\tbe\teasily accessible\tand\tsearchable.\tTo\tkeep\tthe\tcost\tof\tlogs\tdown\tand\tto\tensure scalability\tand\thigh\tavailability,\tit’s\toften\tnecessary\tto\timpose\tper-service logging\tquotas\talong\twith\tlimits\tand\tstandards\ton\twhat\tinformation\tcan\tbe logged,\thow\tmany\tlogs\teach\tmicroservice\tcan\tstore,\tand\thow\tlong\tthe\tlogs\twill be\tstored\tbefore\tbeing\tdeleted.",
      "content_length": 735,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 204,
      "content": "Dashboards Every\tmicroservice\tmust\thave\tat\tleast\tone\tdashboard\twhere\tall\tkey\tmetrics (such\tas\thardware\tutilization,\tdatabase\tconnections,\tavailability,\tlatency, responses,\tand\tthe\tstatus\tof\tAPI\tendpoints)\tare\tcollected\tand\tdisplayed.\tA dashboard\tis\ta\tgraphical\tdisplay\tthat\tis\tupdated\tin\treal\ttime\tto\treflect\tall\tthe\tmost important\tinformation\tabout\ta\tmicroservice.\tDashboards\tshould\tbe\teasily accessible,\tcentralized,\tand\tstandardized\tacross\tthe\tmicroservice\tecosystem.\n\nDashboards\tshould\tbe\teasy\tto\tinterpret\tso\tthat\tan\toutsider\tcan\tquickly\tdetermine the\thealth\tof\tthe\tmicroservice:\tanyone\tshould\tbe\table\tto\tlook\tat\tthe\tdashboard and\tknow\timmediately\twhether\tor\tnot\tthe\tmicroservice\tis\tworking\tcorrectly. This\trequires\tstriking\ta\tbalance\tbetween\toverloading\ta\tviewer\twith\tinformation (which\twould\trender\tthe\tdashboard\teffectively\tuseless)\tand\tnot\tdisplaying enough\tinformation\t(which\twould\talso\tmake\tthe\tdashboard\tuseless):\tonly\tthe necessary\tminimum\tof\tinformation\tabout\tkey\tmetrics\tshould\tbe\tdisplayed.\n\nA\tdashboard\tshould\talso\tserve\tas\tan\taccurate\treflection\tof\tthe\toverall\tquality\tof monitoring\tof\tthe\tentire\tmicroservice.\tAny\tkey\tmetric\tthat\tis\talerted\ton\tshould be\tincluded\tin\tthe\tdashboard\t(we\twill\tcover\tthis\tin\tthe\tnext\tsection):\tthe exclusion\tof\tany\tkey\tmetric\tin\tthe\tdashboard\twill\treflect\tpoor\tmonitoring\tof\tthe service,\twhile\tthe\tinclusion\tof\tmetrics\tthat\tare\tnot\tnecessary\twill\treflect\ta neglect\tof\talerting\t(and,\tconsequently,\tmonitoring)\tbest\tpractices.\n\nThere\tare\tseveral\texceptions\tto\tthe\trule\tagainst\tinclusion\tof\tnonkey\tmetrics.\tIn addition\tto\tkey\tmetrics,\tinformation\tabout\teach\tphase\tof\tthe\tdeployment\tpipeline should\tbe\tdisplayed,\tthough\tnot\tnecessarily\twithin\tthe\tsame\tdashboard. Developers\tworking\ton\tmicroservices\tthat\trequire\tmonitoring\ta\tlarge\tnumber\tof key\tmetrics\tmay\topt\tto\tset\tup\tseparate\tdashboards\tfor\teach\tdeployment\tphase (one\tfor\tstaging,\tone\tfor\tcanary,\tand\tone\tfor\tproduction)\tto\taccurately\treflect\tthe health\tof\tthe\tmicroservice\tat\teach\tdeployment\tphase:\tsince\tdifferent\tbuilds\twill be\trunning\ton\tthe\tdeployment\tphases\tsimultaneously,\taccurately\treflecting\tthe health\tof\tthe\tmicroservice\tin\ta\tdashboard\tmight\trequire\tapproaching\tdashboard design\twith\tthe\tgoal\tof\treflecting\tthe\thealth\tof\tthe\tmicroservice\tat\ta\tparticular deployment\tphase\t(treating\tthem\talmost\tas\tdifferent\tmicroservices,\tor\tat\tleast\tas different\tinstantiations\tof\ta\tmicroservice).",
      "content_length": 2389,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 205,
      "content": "DASHBOARDS\tAND\tOUTAGE\tDETECTION\n\nEven\tthough\tdashboards\tcan\tilluminate\tanomalies\tand\tnegative\ttrends\tof\ta\tmicroservice’s\tkey metrics,\tdevelopers\tshould\tnever\tneed\tto\twatch\ta\tmicroservice’s\tdashboard\tin\torder\tto\tdetect incidents\tand\toutages.\tDoing\tso\tis\tan\tanti-pattern\tthat\tleads\tto\tdeficiencies\tin\talerting\tand overall\tmonitoring.\n\nTo\tassist\tin\tdetermining\tproblems\tintroduced\tby\tnew\tdeployments,\tit\thelps\tto include\tinformation\tabout\twhen\ta\tdeployment\toccurred\tin\tthe\tdashboard.\tThe most\teffective\tand\tuseful\tway\tto\taccomplish\tthis\tis\tto\tmake\tsure\tthat deployment\ttimes\tare\tshown\twithin\tthe\tgraphs\tof\teach\tkey\tmetric.\tDoing\tso allows\tdevelopers\tto\tquickly\tcheck\tgraphs\tafter\teach\tdeployment\tto\tsee\tif\tany strange\tpatterns\temerge\tin\tany\tof\tthe\tkey\tmetrics.\n\nWell-designed\tdashboards\talso\tgive\tdevelopers\tan\teasy,\tvisual\tway\tto\tdetect anomalies\tand\tdetermine\talerting\tthresholds.\tVery\tslight\tor\tgradual\tchanges\tor disturbances\tin\tkey\tmetrics\trun\tthe\trisk\tof\tnot\tbeing\tcaught\tby\talerting,\tbut\ta careful\tlook\tat\tan\taccurate\tdashboard\tcan\tilluminate\tanomalies\tthat\twould otherwise\tgo\tundetected.\tAlerting\tthresholds,\twhich\twe\twill\tcover\tin\tthe\tnext section,\tare\tnotoriously\tdifficult\tto\tdetermine,\tbut\tcan\tbe\tset\tappropriately\twhen historical\tdata\ton\tthe\tdashboard\tis\texamined:\tdevelopers\tcan\tsee\tnormal\tpatterns in\tkey\tmetrics,\tview\tspikes\tin\tmetrics\tthat\toccurred\twith\toutages\t(or\tled\tto outages)\tin\tthe\tpast,\tand\tthen\tset\tthresholds\taccordingly.",
      "content_length": 1445,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 206,
      "content": "Alerting The\tthird\tcomponent\tof\tmonitoring\ta\tproduction-ready\tmicroservice\tis\treal-time alerting.\tThe\tdetection\tof\tfailures,\tas\twell\tas\tthe\tdetection\tof\tchanges\twithin\tkey metrics\tthat\tcould\tlead\tto\ta\tfailure,\tis\taccomplished\tthrough\talerting.\tTo\tensure this,\tall\tkey\tmetrics\t—\thost-level\tmetrics,\tinfrastructure\tmetrics,\tand microservice-specific\tmetrics\t—\tshould\tbe\talerted\ton,\twith\talerts\tset\tat\tvarious thresholds.\tEffective\tand\tactionable\talerting\tis\tessential\tto\tpreserving\tthe availability\tof\ta\tmicroservice\tand\tpreventing\tdowntime.",
      "content_length": 539,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 207,
      "content": "Setting\tup\tEffective\tAlerting Alerts\tmust\tbe\tset\tup\tfor\tall\tkey\tmetrics.\tAny\tchange\tin\ta\tkey\tmetric\tat\tthe\thost level,\tinfrastructure\tlevel,\tor\tmicroservice\tlevel\tthat\tcould\tlead\tto\tan\toutage, cause\ta\tspike\tin\tlatency,\tor\tsomehow\tharm\tthe\tavailability\tof\tthe\tmicroservice should\ttrigger\tan\talert.\tImportantly,\talerts\tshould\talso\tbe\ttriggered\twhenever\ta key\tmetric\tis\tnot\tseen.\n\nAll\talerts\tshould\tbe\tuseful:\tthey\tshould\tbe\tdefined\tby\tgood,\tsignal-providing thresholds.\tThree\ttypes\tof\tthresholds\tshould\tbe\tset\tfor\teach\tkey\tmetric,\tand\thave both\tupper\tand\tlower\tbounds:\tnormal,\twarning,\tand\tcritical.\tNormal\tthresholds reflect\tthe\tusual,\tappropriate\tupper\tand\tlower\tbounds\tof\teach\tkey\tmetric\tand shouldn’t\tever\ttrigger\tan\talert.\tWarning\tthresholds\ton\teach\tkey\tmetric\twill trigger\talerts\twhen\tthere\tis\ta\tdeviation\tfrom\tthe\tnorm\tthat\tcould\tlead\tto\ta problem\twith\tthe\tmicroservice;\twarning\tthresholds\tshould\tbe\tset\tsuch\tthat\tthey will\ttrigger\talerts\tbefore\tany\tdeviations\tfrom\tthe\tnorm\tcause\tan\toutage\tor otherwise\tnegatively\taffect\tthe\tmicroservice.\tCritical\tthresholds\tshould\tbe\tset based\ton\twhich\tupper\tand\tlower\tbounds\ton\tkey\tmetrics\tactually\tcause\tan\toutage, cause\tlatency\tto\tspike,\tor\totherwise\thurt\ta\tmicroservice’s\tavailability.\tIn\tan\tideal world,\twarning\tthresholds\tshould\ttrigger\talerts\tthat\tlead\tto\tquick\tdetection, mitigation,\tand\tresolution\tbefore\tany\tcritical\tthresholds\tare\treached.\tIn\teach category,\tthresholds\tshould\tbe\thigh\tenough\tto\tavoid\tnoise,\tbut\tlow\tenough\tto catch\tany\tand\tall\treal\tproblems\twith\tkey\tmetrics.",
      "content_length": 1526,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 208,
      "content": "DETERMINING\tTHRESHOLDS\tEARLY\tIN\tTHE\tLIFECYCLE OF\tA\tMICROSERVICE\n\nThresholds\tfor\tkey\tmetrics\tcan\tbe\tvery\tdifficult\tto\tset\twithout\thistorical\tdata.\tAny\tthresholds set\tearly\tin\ta\tmicroservice’s\tlifecycle\trun\tthe\trisk\tof\teither\tbeing\tuseless\tor\ttriggering\ttoo many\talerts.\tTo\tdetermine\tthe\tappropriate\tthresholds\tfor\ta\tnew\tmicroservice\t(or\teven\tan\told one),\tdevelopers\tcan\trun\tload\ttesting\ton\tthe\tmicroservice\tto\tgauge\twhere\tthe\tthresholds\tshould lie.\tRunning\t“normal”\ttraffic\tloads\tthrough\tthe\tmicroservice\tcan\tdetermine\tthe\tnormal thresholds,\twhile\trunning\tlarger-than-expected\ttraffic\tloads\tcan\thelp\tdetermine\twarning\tand critical\tthresholds.\n\nAll\talerts\tneed\tto\tbe\tactionable.\tNonactionable\talerts\tare\tthose\tthat\tare\ttriggered and\tthen\tresolved\t(or\tignored)\tby\tthe\tdeveloper(s)\ton\tcall\tfor\tthe\tmicroservice because\tthey\tare\tnot\timportant,\tnot\trelevant,\tdo\tnot\tsignify\tthat\tanything\tis wrong\twith\tthe\tmicroservice,\tor\talert\ton\ta\tproblem\tthat\tcannot\tbe\tresolved\tby the\tdeveloper(s).\tAny\talert\tthat\tcannot\tbe\timmediately\tacted\ton\tby\tthe\ton-call developer(s)\tshould\tbe\tremoved\tfrom\tthe\tpool\tof\talerts,\treassigned\tto\tthe relevant\ton-call\trotation,\tor\t(if\tpossible)\tchanged\tso\tthat\tit\tbecomes\tactionable.\n\nSome\tof\tthe\tkey\tmicroservice\tmetrics\trun\tthe\trisk\tof\tbeing\tnonactionable.\tFor example,\talerting\ton\tthe\tavailability\tof\tdependencies\tcan\teasily\tlead\tto nonactionable\talerts\tif\tdependency\toutages,\tincreases\tin\tdependency\tlatency,\tor dependency\tdowntime\tdo\tnot\trequire\tany\taction\tto\tbe\ttaken\tby\ttheir\tclient(s).\tIf no\taction\tneeds\tto\tbe\ttaken,\tthen\tthe\tthresholds\tshould\tbe\tset\tappropriately,\tor\tin more\textreme\tcases,\tno\talerts\tshould\tbe\tset\ton\tdependencies\tat\tall.\tHowever,\tif any\taction\tat\tall\tshould\tbe\ttaken,\teven\tsomething\tas\tsmall\tas\tcontacting\tthe dependency’s\ton-call\tor\tdevelopment\tteam\tin\torder\tto\talert\tthem\tto\tthe\tissue and/or\tcoordinate\tmitigation\tand\tresolution,\tthen\tan\talert\tshould\tbe\ttriggered.",
      "content_length": 1909,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 209,
      "content": "Handling\tAlerts Once\tan\talert\thas\tbeen\ttriggered,\tit\tneeds\tto\tbe\thandled\tquickly\tand\teffectively. The\troot\tcause\tof\tthe\ttriggered\talert\tshould\tbe\tmitigated\tand\tresolved.\tTo quickly\tand\teffectively\thandle\talerts,\tthere\tare\tseveral\tsteps\tthat\tcan\tbe\ttaken.\n\nThe\tfirst\tstep\tis\tto\tcreate\tstep-by-step\tinstructions\tfor\teach\tknown\talert\tthat detail\thow\tto\ttriage,\tmitigate,\tand\tresolve\teach\talert.\tThese\tstep-by-step\talert instructions\tshould\tlive\twithin\tan\ton-call\trunbook\twithin\tthe\tcentralized documentation\tof\teach\tmicroservice,\tmaking\tthem\teasily\taccessible\tto\tanyone who\tis\ton\tcall\tfor\tthe\tmicroservice\t(more\tdetails\ton\trunbooks\tcan\tbe\tfound\tin Chapter\t7,\tDocumentation\tand\tUnderstanding).\tRunbooks\tare\tcrucial\tto\tthe monitoring\tof\ta\tmicroservice:\tthey\tallow\tany\ton-call\tdeveloper\tto\thave\tstep-by- step\tinstructions\ton\thow\tto\tmitigate\tand\tresolve\tthe\troot\tcauses\tof\teach\talert. Since\teach\talert\tis\ttied\tto\ta\tdeviation\tin\ta\tkey\tmetric,\trunbooks\tcan\tbe\twritten\tso that\tthey\taddress\teach\tkey\tmetric,\tknown\tcauses\tof\tdeviations\tfrom\tthe\tnorm, and\thow\tto\tgo\tabout\tdebugging\tthe\tproblem.\n\nTwo\ttypes\tof\ton-call\trunbooks\tshould\tbe\tcreated.\tThe\tfirst\tare\trunbooks\tfor host-level\tand\tinfrastructure-level\talerts\tthat\tshould\tbe\tshared\tbetween\tthe\twhole engineering\torganization\t—\tthese\tshould\tbe\twritten\tfor\tevery\tkey\thost-level\tand infrastructure-level\tmetric.\tThe\tsecond\tare\ton-call\trunbooks\tfor\tspecific microservices\tthat\thave\tstep-by-step\tinstructions\tregarding\tmicroservice-specific alerts\ttriggered\tby\tchanges\tin\tkey\tmetrics;\tfor\texample,\ta\tspike\tin\tlatency\tshould trigger\tan\talert,\tand\tthere\tshould\tbe\tstep-by-step\tinstructions\tin\tthe\ton-call runbook\tthat\tclearly\tdocument\thow\tto\tdebug,\tmitigate,\tand\tresolve\tspikes\tin\tthe microservice’s\tlatency.\n\nThe\tsecond\tstep\tis\tto\tidentify\talerting\tanti-patterns.\tIf\tthe\tmicroservice\ton-call rotation\tis\toverwhelmed\tby\talerts\tyet\tthe\tmicroservice\tappears\tto\twork\tas expected,\tthen\tany\talerts\tthat\tare\tseen\tmore\tthan\tonce\tbut\tthat\tcan\tbe\teasily mitigated\tand/or\tresolved\tshould\tbe\tautomated\taway.\tThat\tis,\tbuild\tthe mitigation\tand/or\tresolution\tsteps\tinto\tthe\tmicroservice\titself.\tThis\tholds\tfor every\talert,\tand\twriting\tstep-by-step\tinstructions\tfor\talerts\twithin\ton-call runbooks\tallows\texecuting\ton\tthis\tstrategy\tto\tbe\trather\teffective.\tIn\tfact,\tany alert\tthat,\tonce\ttriggered,\trequires\ta\tsimple\tset\tof\tsteps\tto\tbe\ttaken\tin\torder\tto\tbe mitigated\tand\tresolved,\tcan\tbe\teasily\tautomated\taway.\tOnce\tthis\tlevel\tof production-ready\tmonitoring\thas\tbeen\testablished,\ta\tmicroservice\tshould\tnever experience\tthe\tsame\texact\tproblem\ttwice.",
      "content_length": 2565,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 210,
      "content": "On-Call\tRotations In\ta\tmicroservice\tecosystem,\tthe\tdevelopment\tteams\tthemselves\tare\tresponsible for\tthe\tavailability\tof\ttheir\tmicroservices.\tWhere\tmonitoring\tis\tconcerned,\tthis means\tthat\tdevelopers\tneed\tto\tbe\ton\tcall\tfor\ttheir\town\tmicroservices.\tThe\tgoal of\teach\tdeveloper\ton-call\tfor\ta\tmicroservice\tneeds\tto\tbe\tclear:\tthey\tare\tto\tdetect, mitigate,\tand\tresolve\tany\tissue\tthat\tarises\twith\tthe\tmicroservice\tduring\ttheir\ton call\tshift\tbefore\tthe\tissue\tcauses\tan\toutage\tfor\ttheir\tmicroservice\tor\timpacts\tthe business\titself.\n\nIn\tsome\tlarger\tengineering\torganizations,\tsite\treliability\tengineers,\tDevOps,\tor other\toperations\tengineers\tmay\ttake\ton\tthe\tresponsibility\tfor\tmonitoring\tand\ton call,\tbut\tthis\trequires\teach\tmicroservice\tto\tbe\trelatively\tstable\tand\treliable\tbefore the\ton-call\tresponsibilities\tcan\tbe\thanded\toff\tto\tanother\tteam.\tIn\tmost microservice\tecosystems,\tmicroservices\trarely\treach\tthis\thigh\tlevel\tof\tstability because,\tas\twe’ve\tseen\tthroughout\tthe\tprevious\tchapters,\tmicroservices\tare constantly\tchanging.\tIn\ta\tmicroservice\tecosystem,\tdevelopers\tneed\tto\tbear\tthe responsibility\tof\tmonitoring\tthe\tcode\tthat\tthey\tdeploy.\n\nDesigning\tgood\ton-call\trotations\tis\tcrucial\tand\trequires\tthe\tinvolvement\tof\tthe entire\tteam.\tTo\tprevent\tburnout,\ton-call\trotations\tshould\tbe\tboth\tbrief\tand shared:\tno\tfewer\tthan\ttwo\tdevelopers\tshould\tever\tbe\ton\tcall\tat\tone\ttime,\tand\ton- call\tshifts\tshould\tlast\tno\tlonger\tthan\tone\tweek\tand\tbe\tspaced\tno\tmore\tfrequently than\tone\tmonth\tapart.\n\nThe\ton-call\trotations\tof\teach\tmicroservice\tshould\tbe\tinternally\tpublicized\tand easily\taccessible.\tIf\ta\tmicroservice\tteam\tis\texperiencing\tissues\twith\tone\tof\ttheir dependencies,\tthey\tshould\tbe\table\tto\ttrack\tdown\tthe\ton-call\tengineers\tfor\tthe microservice\tand\tcontact\tthem\tvery\tquickly.\tHosting\tthis\tinformation\tin\ta centralized\tplace\thelps\tto\tmake\tdevelopers\tmore\teffective\tin\ttriaging\tproblems and\tpreventing\toutages.\n\nDeveloping\tstandardized\ton-call\tprocedures\tacross\tan\tengineering\torganization will\tgo\ta\tlong\tway\ttoward\tbuilding\ta\tsustainable\tmicroservice\tecosystem. Developers\tshould\tbe\ttrained\tabout\thow\tto\tapproach\ttheir\ton-call\tshifts,\tbe\tmade aware\tof\ton-call\tbest\tpractices,\tand\tbe\tramped\tup\tfor\tjoining\tthe\ton-call\trotation very\tquickly.\tStandardizing\tthis\tprocess\tand\tmaking\ton-call\texpectations completely\tclear\tto\tevery\tdeveloper\twill\tprevent\tthe\tburnout,\tconfusion,\tand frustration\tthat\tusually\taccompanies\tany\tmention\tof\tjoining\tan\ton-call\trotation.",
      "content_length": 2437,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 211,
      "content": "Evaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tmonitoring,\tuse\tthe\tfollowing\tlist\tof questions\tto\tassess\tthe\tproduction-readiness\tof\tyour\tmicroservice(s)\tand microservice\tecosystem.\tThe\tquestions\tare\torganized\tby\ttopic,\tand\tcorrespond\tto the\tsections\twithin\tthis\tchapter.",
      "content_length": 295,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 212,
      "content": "Key\tMetrics\n\nWhat\tare\tthis\tmicroservice’s\tkey\tmetrics?\n\nWhat\tare\tthe\thost\tand\tinfrastructure\tmetrics?\n\nWhat\tare\tthe\tmicroservice-level\tmetrics?\n\nAre\tall\tthe\tmicroservice’s\tkey\tmetrics\tmonitored?",
      "content_length": 194,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 213,
      "content": "Logging\n\nWhat\tinformation\tdoes\tthis\tmicroservice\tneed\tto\tlog?\n\nDoes\tthis\tmicroservice\tlog\tall\timportant\trequests?\n\nDoes\tthe\tlogging\taccurately\treflect\tthe\tstate\tof\tthe\tmicroservice\tat\tany given\ttime?\n\nIs\tthis\tlogging\tsolution\tcost-effective\tand\tscalable?",
      "content_length": 254,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 214,
      "content": "Dashboards\n\nDoes\tthis\tmicroservice\thave\ta\tdashboard?\n\nIs\tthe\tdashboard\teasy\tto\tinterpret?\tAre\tall\tkey\tmetrics\tdisplayed\ton\tthe dashboard?\n\nCan\tI\tdetermine\twhether\tor\tnot\tthis\tmicroservice\tis\tworking\tcorrectly\tby looking\tat\tthe\tdashboard?",
      "content_length": 237,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 215,
      "content": "Alerting\n\nIs\tthere\tan\talert\tfor\tevery\tkey\tmetric?\n\nAre\tall\talerts\tdefined\tby\tgood,\tsignal-providing\tthresholds?\n\nAre\talert\tthresholds\tset\tappropriately\tso\tthat\talerts\twill\tfire\tbefore\tan\toutage occurs?\n\nAre\tall\talerts\tactionable?\n\nAre\tthere\tstep-by-step\ttriage,\tmitigation,\tand\tresolution\tinstructions\tfor each\talert\tin\tthe\ton-call\trunbook?",
      "content_length": 340,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 216,
      "content": "On-Call\tRotations\n\nIs\tthere\ta\tdedicated\ton-call\trotation\tresponsible\tfor\tmonitoring\tthis microservice?\n\nIs\tthere\ta\tminimum\tof\ttwo\tdevelopers\ton\teach\ton-call\tshift?\n\nAre\tthere\tstandardized\ton-call\tprocedures\tacross\tthe\tengineering organization?",
      "content_length": 243,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 217,
      "content": "Chapter\t7.\tDocumentation\tand Understanding\n\nA\tproduction-ready\tmicroservice\tis\tdocumented\tand\tunderstood.\tDocumentation and\torganizational\tunderstanding\tincrease\tdeveloper\tvelocity\twhile\tmitigating two\tof\tthe\tmost\tsignificant\ttrade-offs\tthat\tcome\twith\tthe\tadoption\tof microservice\tarchitecture:\torganizational\tsprawl\tand\ttechnical\tdebt.\tThis\tchapter explores\tthe\tessential\telements\tof\tdocumenting\tand\tunderstanding\ta microservice,\tincluding\thow\tto\tbuild\tcomprehensive\tand\tuseful\tdocumentation, how\tto\tincrease\tmicroservice\tunderstanding\tat\tevery\tlevel\tof\tthe\tmicroservice ecosystem,\tand\thow\tto\timplement\tproduction-readiness\tthroughout\tan engineering\torganization.",
      "content_length": 664,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 218,
      "content": "Principles\tof\tMicroservice\tDocumentation\tand Understanding I’m\tgoing\tto\topen\tthis\tfinal\tchapter\ton\tthe\tlast\tprinciple\tof\tmicroservice standardization\twith\ta\tfamous\tstory\tfrom\tRussian\tliterature.\tWhile\tit\tmay\tseem rather\tunorthodox\tto\tquote\tDostoyevsky\tin\ta\tbook\ton\tsoftware\tarchitecture,\tthe character\tGrushenka\tin\tThe\tBrothers\tKaramazov\tcaptures\tso\tperfectly\twhat\tI believe\tto\tbe\tthe\tkey\tof\tmicroservice\tdocumentation\tand\tunderstanding:\t“Just know\tone\tthing,\tRakitka,\tI\tmay\tbe\twicked,\tbut\tstill\tI\tgave\tan\tonion.”\n\nMy\tfavorite\tpart\tof\tDostoyevsky’s\tbrilliant\tnovel\tis\ta\ttale\ttold\tby\tthe\tcharacter Grushenka\tabout\tan\told\twoman\tand\tan\tonion.\tThe\ttale\tgoes\tsomething\tlike\tthis: there\twas\tonce\tan\told,\tbitter\twoman\twho\twas\tvery\tselfish\tand\theartless.\tOne day,\tshe\thappened\tupon\ta\tbeggar,\tand\tfor\tsome\treason,\tfelt\ta\tgreat\tdeal\tof\tpity. She\twanted\tto\tgive\tsomething\tto\tthe\tbeggar,\tbut\tall\tshe\thad\twas\tan\tonion,\tso\tshe gave\ther\tonion\tto\tthe\tbeggar.\tThe\told\twoman\teventually\tdied,\tand\tthanks\tto\ther bitterness\tand\tcoldness\tof\theart,\tended\tup\tin\thell.\tAfter\tshe\thad\tsuffered\tfor quite\tsome\ttime,\tan\tangel\tcame\tto\tsave\ther,\tfor\tGod\thad\tremembered\ther\tone selfless\tdeed\tin\tlife,\tand\twanted\tto\textend\tthe\tsame\tkindness\tin\treturn.\tThe\tangel reached\tout\tto\ther\twith\tan\tonion\tin\this\thand.\tThe\told\twoman\tgrabbed\tthe\tonion, but\tto\ther\tdismay,\tthe\tother\tsinners\taround\ther\treached\tfor\tthe\tonion\ttoo.\tHer cold,\tbitter\tnature\tkicked\tin,\tand\tshe\ttried\tto\tfight\tthem\toff,\tnot\twanting\tany\tof them\tto\thave\tany\tpiece\tof\tthe\tonion,\tand\tsadly,\tas\tshe\ttried\tto\tclaw\tthe\tonion away\tfrom\tthem,\tthe\tonion\tsplit\tinto\tmany\tlayers\tand\tshe\tand\tthe\tother\tsinners fell\tback\tinto\thell.\n\nIt’s\tnot\tthe\tmost\theartwarming\ttale,\tbut\tthere’s\ta\tmoral\tto\tGrushenka’s\tstory\tthat I\thave\tfound\tremarkably\tapplicable\tto\tthe\tpractice\tof\tmicroservice documentation:\talways\tgive\tan\tonion.\n\nThe\timportance\tof\tthorough,\tupdated\tdocumentation\tfor\tevery\tmicroservice cannot\tbe\temphasized\tenough.\tAsk\tdevelopers\tworking\tin\ta\tmicroservice ecosystem\twhat\ttheir\tmain\tconcerns\tare,\tand\tthey’ll\trattle\toff\ta\tlist\tof\tfeatures still\tto\tbe\timplemented,\tbugs\tto\tbe\tfixed,\tdependencies\tthat\tare\tcausing\ttrouble, and\tthings\tthat\tthey\tdon’t\tunderstand\tabout\ttheir\town\tservice\tand\tthe dependencies\tthey\trely\ton.\tWhen\tasked\tto\tgo\tinto\tgreater\tdetail\tabout\tthe\tlatter two\tthings,\tthey\ttend\tto\tgive\tsimilar\tanswers:\tthey\tdon’t\tunderstand\thow\tit works,\tit’s\ta\tblack\tbox,\tand\tthe\tdocumentation\tis\tcompletely\tuseless.\n\nPoor\tdocumentation\tof\tdependencies\tand\tinternal\ttools\tslows\tdevelopers\tdown",
      "content_length": 2518,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 219,
      "content": "Poor\tdocumentation\tof\tdependencies\tand\tinternal\ttools\tslows\tdevelopers\tdown and\taffects\ttheir\tability\tto\tmake\ttheir\town\tservices\tproduction-ready.\tIt\tprevents them\tfrom\tusing\tdependencies\tand\tinternal\ttools\tcorrectly\tand\twastes\tcountless engineering\thours,\tbecause\tsometimes\tthe\tonly\tway\tto\tfigure\tout\twhat\ta\tservice or\ttool\tdoes\t(without\tproper\tdocumentation)\tis\tto\treverse-engineer\tit\tuntil\tyou understand\thow\tit\tworks.\n\nPoor\tdocumentation\tof\ta\tservice\talso\thurts\tthe\tproductivity\tof\tthe\tdevelopers who\tare\tcontributing\tto\tit.\tFor\texample,\tthe\tlack\tof\trunbooks\tfor\tan\ton-call\tshift means\twhoever\tis\ton\tcall\twill\tneed\tto\tfigure\tout\teach\tproblem\tfrom\tsquare\tone every\tsingle\ttime.\tWithout\tan\tonboarding\tguide,\teach\tnew\tdeveloper\tworking\ton the\tservice\twill\tneed\tto\tstart\tfrom\tscratch\tto\tunderstand\thow\tthe\tservice\tworks. Single\tpoints\tof\tfailure\tand\tproblems\twith\tthe\tservice\twill\tgo\tunnoticed\tuntil they\tcause\tan\toutage.\tNew\tfeatures\tadded\tto\tthe\tservice\twill\toften\tmiss\tthe\tbig picture\tof\thow\tthe\tservice\tactually\tworks.\n\nThe\tgoal\tof\tgood,\tproduction-ready\tdocumentation\tis\tto\tcreate\tand\tmaintain\ta centralized\trepository\tof\tknowledge\tabout\tthe\tservice.\tSharing\tthat\tknowledge has\ttwo\tcomponents:\tthe\tbare\tfacts\tabout\tthe\tservice,\tand\torganizational understanding\tof\twhat\tthe\tservice\tdoes\tand\twhere\tit\tfits\tinto\tthe\torganization\tas a\twhole.\tThe\tproblem\tof\tpoor\tdocumentation\tcan\tthen\tbe\tdivided\tinto\ttwo subproblems:\tlack\tof\tdocumentation\t(the\tfacts)\tand\tlack\tof\tunderstanding. Solving\tthese\ttwo\tsubproblems\trequires\tstandardizing\tdocumentation\tfor\tevery microservice\tand\tputting\torganizational\tstructures\tinto\tplace\tfor\tsharing microservice\tunderstanding.\n\nGrushenka’s\ttale\tis\tthe\tgolden\trule\tof\tmicroservice\tdocumentation:\talways\tgive an\tonion.\tGive\tan\tonion\tfor\tyour\tsake,\tfor\tthe\tsake\tof\tfellow\tdevelopers\tworking on\tyour\tservice,\tand\tfor\tthe\tsake\tof\tthe\tdevelopers\twhose\tservices\tdepend\ton yours.\n\nA\tPRODUCTION-READY\tSERVICE\tIS\tDOCUMENTED\tAND\tUNDERSTOOD\n\nIt\thas\tcomprehensive\tdocumentation.\n\nIts\tdocumentation\tis\tupdated\tregularly.\n\nIts\tdocumentation\tcontains\ta\tdescription\tof\tthe\tmicroservice;\tan\tarchitecture\tdiagram;\tcontact\tand\n\non-call\tinformation;\tlinks\tto\timportant\tinformation;\tan\tonboarding\tand\tdevelopment\tguide;\n\ninformation\tabout\tthe\tservice’s\trequest\tflow(s),\tendpoints,\tand\tdependencies;\tan\ton-call\trunbook;\n\nand\tanswers\tto\tfrequently\tasked\tquestions.",
      "content_length": 2372,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 220,
      "content": "It\tis\twell\tunderstood\tat\tthe\tdeveloper,\tteam,\tand\torganizational\tlevels.\n\nIt\tis\theld\tto\ta\tset\tof\tproduction-readiness\tstandards\tand\tmeets\tthe\tassociated\trequirements.\n\nIts\tarchitecture\tis\treviewed\tand\taudited\tfrequently.",
      "content_length": 220,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 221,
      "content": "Microservice\tDocumentation The\tdocumentation\tfor\tall\tmicroservices\tin\tan\tengineering\torganization\tshould be\tstored\tin\ta\tcentralized,\tshared,\tand\teasily\taccessible\tplace.\tAny\tdeveloper\ton any\tteam\tshould\tbe\table\tto\tfind\tthe\tdocumentation\tfor\tevery\tmicroservice without\tany\tdifficulty.\tAn\tinternal\twebsite\tcontaining\tthe\tdocumentation\tfor\tall microservices\tand\tinternal\ttools\ttends\tto\tbe\tthe\tbest\tmedium\tfor\tthis.",
      "content_length": 411,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 222,
      "content": "READMES\tAND\tCODE\tCOMMENTS\tARE\tNOT DOCUMENTATION\n\nMany\tdevelopers\tlimit\tthe\tdocumentation\tof\ttheir\tmicroservices\tto\ta\tREADME\tfile\tin\ttheir repository\tor\tto\tcomments\tscattered\tthroughout\tthe\tcode.\tWhile\thaving\ta\tREADME\tis essential,\tand\tall\tmicroservice\tcode\tshould\tcontain\tappropriate\tcomments,\tthis\tis\tnot production-ready\tdocumentation\tand\trequires\tthat\tdevelopers\tcheck\tout\tand\tsearch\tthrough\tthe code.\tProper\tdocumentation\tis\tstored\tin\ta\tcentralized\tplace\t(like\ta\twebsite)\twhere\tthe documentation\tfor\tall\tmicroservices\tin\tthe\tengineering\torganization\tlives.\n\nThe\tdocumentation\tshould\tbe\tupdated\tregularly.\tAny\ttime\ta\tsignificant\tchange is\tmade\tto\tthe\tservice,\tthe\tdocumentation\tshould\tbe\tupdated.\tFor\texample,\tif\ta new\tAPI\tendpoint\tis\tadded,\tinformation\tabout\tthe\tendpoint\tmust\tbe\tadded\tto\tthe documentation\tas\twell.\tIf\ta\tnew\talert\tis\tadded,\tthen\tstep-by-step\tinstructions\ton how\tto\ttriage,\tmitigate,\tand\tresolve\tthe\talert\tshould\talso\tbe\tadded\tto\tthe service’s\ton-call\trunbook.\tIf\ta\tnew\tdependency\tis\tadded,\tthen\tinformation\tabout that\tdependency\tshould\tbe\tadded\tto\tthe\tdocumentation.\tAlways\tgive\tan\tonion.\n\nThe\tbest\tway\tto\taccomplish\tthis\tis\tto\tmake\tthe\tprocess\tof\tupdating documentation\tpart\tof\tthe\tdevelopment\tworkflow.\tIf\tupdating\tdocumentation\tis seen\tas\ta\tseparate\ttask\taside\tfrom\t(and\tsecondary\tto)\tdevelopment,\tthen\tit\twill never\tget\tdone\tand\twill\tbecome\tpart\tof\tthe\ttechnical\tdebt\tof\tthe\tservice.\tTo reduce\ttechnical\tdebt,\tdevelopers\tshould\tbe\tencouraged\t(or,\tif\tneed\tbe,\trequired) to\taccompany\tevery\tsignificant\tcode\tchange\twith\tan\tupdate\tto\tthe documentation.",
      "content_length": 1573,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 223,
      "content": "MAKE\tUPDATING\tDOCUMENTATION\tPART\tOF\tTHE DEVELOPMENT\tCYCLE\n\nIf\tupdating\tand\timproving\tdocumentation\tis\tviewed\tas\tsecondary\tto\twriting\tcode,\tit\twill\toften be\tpushed\toff\tand\tbecome\tpart\tof\tthe\ttechnical\tdebt\tof\tthe\tservice.\tTo\tavoid\tthis,\tmake documentation\tupdates\tand\timprovements\ta\trequired\tpart\tof\tthe\tdevelopment\tcycle\tof\tthe service.\n\nDocumentation\tshould\tbe\tboth\tcomprehensive\tand\tuseful.\tIt\tshould\tcontain\tall of\tthe\trelevant\tand\timportant\tfacts\tabout\tthe\tservice.\tAfter\treading\tthrough\tthe documentation,\ta\tdeveloper\tshould\tknow\thow\tto\tdevelop\tand\tcontribute\tto\tthe service;\tthe\tarchitecture\tof\tthe\tservice;\tthe\tcontact\tand\ton-call\tinformation\tfor the\tservice;\thow\tthe\tservice\tworks\t(request\tflows,\tendpoints,\tdependencies, etc.);\thow\tto\ttriage,\tmitigate,\tand\tfix\tincidents\tand\toutages\tas\twell\tas\tresolve alerts\tgenerated\tby\tthe\tservice;\tand\tanswers\tto\tfrequently\tasked\tquestions\tabout the\tservice.\n\nMost\timportantly,\tdocumentation\tshould\tbe\twritten\tclearly\tand\tshould\tbe\teasy\tto understand.\tJargon-heavy\tdocumentation\tis\tuseless,\tdocumentation\tthat\tis\toverly technical\tand\tdoesn’t\texplain\tthings\tthat\tmay\tbe\tunique\tto\tthe\tservice\tis\talso useless,\tas\tis\tdocumentation\tthat\tdoesn’t\tgo\tinto\tany\tsignificant\tdetail\tat\tall.\tThe goal\tin\twriting\tgood,\tclean,\tand\tclear\tdocumentation\tis\tto\twrite\tit\tso\tthat\tit\tcan be\tunderstood\tby\tany\tdeveloper,\tmanager,\tproduct\tmanager,\tor\texecutive\twithin the\tcompany.\n\nLet’s\tdive\ta\tlittle\tbit\tdeeper\tinto\teach\tof\tthe\telements\tof\tproduction-ready microservice\tdocumentation.",
      "content_length": 1509,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 224,
      "content": "Description Each\tmicroservice’s\tdocumentation\tshould\tbegin\twith\ta\tdescription\tof\tthe service.\tIt\tshould\tbe\tshort,\tsweet,\tand\tto\tthe\tpoint.\tFor\texample,\tif\tthere\tis\ta microservice\tcalled\treceipt-sender\twhose\tpurpose\tis\tto\tsend\ta\treceipt\tafter\ta customer\tcompletes\tan\torder,\tthe\tdescription\tshould\tread:\n\nDescription: After\ta\tcustomer\tplaces\tan\torder,\treceipt-sender\tsends\ta\treceipt\tto\tthe customer\tvia\temail.\n\nThis\tis\tessential\tbecause\tit\tensures\tthat\tanyone\twho\tfinds\tthe\tdocumentation\twill know\twhat\trole\tthe\tmicroservice\tplays\tin\tthe\tmicroservice\tecosystem.",
      "content_length": 559,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 225,
      "content": "Architecture\tDiagram The\tdescription\tof\tthe\tservice\tshould\tbe\tfollowed\tby\tan\tarchitecture\tdiagram. This\tdiagram\tshould\tdetail\tthe\tarchitecture\tof\tthe\tservice,\tincluding\tits components,\tits\tendpoints,\tthe\trequest\tflow,\tits\tdependencies\t(both\tupstream\tand downstream),\tand\tinformation\tabout\tany\tdatabases\tor\tcaches.\tSee\tan\texample architecture\tdiagram\tin\tFigure\t7-1.\n\nArchitecture\tdiagrams\tare\tessential\tfor\tseveral\treasons.\tIt’s\tnearly\timpossible\tto understand\thow\tand\twhy\ta\tmicroservice\tworks\tjust\tby\treading\tthrough\tthe\tcode, and\tso\ta\twell-designed\tarchitecture\tdiagram\tis\tan\teasily\tunderstandable\tvisual description\tand\tsummary\tof\tthe\tmicroservice.\tThese\tdiagrams\talso\taid developers\tin\tadding\tnew\tfeatures\tby\tabstracting\taway\tthe\tinner\tworkings\tof\tthe service\tso\tthat\tdevelopers\tcan\tsee\twhere\tand\thow\tnew\tfeatures\twill\t(or\twill\tnot) fit.\tMost\timportantly,\tthey\tilluminate\tissues\tand\tproblems\twith\tthe\tservice\tthat would\tgo\tunnoticed\twithout\ta\tcomplete\tvisual\trepresentation\tof\tits\tarchitecture: it’s\tdifficult\tto\tdiscover\ta\tservice’s\tpoints\tof\tfailure\tby\tcombing\tthrough\tlines\tof code,\tbut\tthey\ttend\tto\tstick\tout\tlike\tsore\tthumbs\tin\tan\taccurate\tarchitecture diagram.",
      "content_length": 1169,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 226,
      "content": "Figure\t7-1.\tExample\tmicroservice\tarchitecture\tdiagram",
      "content_length": 53,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 227,
      "content": "Contact\tand\tOn-Call\tInformation Chances\tare,\tanyone\tlooking\tat\ta\tservice’s\tdocumentation\twill\teither\tbe someone\ton\tthe\tservice\tteam,\tor\tsomeone\ton\ta\tdifferent\tteam\twho\tis experiencing\ttrouble\twith\tthe\tservice\tor\twants\tto\tknow\thow\tthe\tservice\tworks. For\tdevelopers\tin\tthe\tsecond\tgroup,\thaving\taccess\tto\tinformation\tabout\tthe\tteam is\tboth\tuseful\tand\tnecessary,\tand\tso\tseveral\timportant\tfacts\tshould\tbe\tincluded\tin a\tcontact\tand\ton-call\tinformation\tsection\twithin\tthe\tdocumentation.\n\nThis\tsection\tshould\tinclude\tthe\tnames,\tpositions,\tand\tcontact\tinformation\tof everyone\ton\tthe\tteam\t(including\tindividual\tcontributors,\tmanagers,\tand program/product\tmanagers).\tThis\tmakes\tit\teasy\tfor\tdevelopers\ton\tother\tteams\tto quickly\tdetermine\twho\tthey\tshould\tcontact\tif\tthey\texperience\ta\tproblem\twith\tthe service\tor\thave\ta\tquestion\tabout\tit.\tThis\tinformation\tis\tuseful,\tfor\texample,\twhen a\tdeveloper\tis\texperiencing\tproblems\twith\tone\tof\ttheir\tdependencies:\tknowing who\tto\tcontact\tand\twhat\ttheir\trole\tis\ton\tthe\tteam\tmakes\tcross-team communication\teasy\tand\tefficient.\n\nAdding\tinformation\tabout\tthe\ton-call\trotation\t(and\tkeeping\tit\tupdated\tso\tthat\tit reflects\twho\tis\ton\tcall\tfor\tthe\tservice\tat\tany\tgiven\ttime)\twill\tensure\tthat\tpeople will\tknow\texactly\twho\tto\tcontact\tfor\tgeneral\tproblems\tor\temergencies:\tthe engineer\twho\tis\ton\tcall\tfor\tthe\tservice.",
      "content_length": 1328,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 228,
      "content": "Links Documentation\tneeds\tto\tbe\ta\tcentralized\tresource\tfor\tall\tthe\tinformation\tabout\ta microservice.\tIn\torder\tfor\tthis\tto\tbe\ttrue,\tthe\tdocumentation\tneeds\tto\tcontain links\tto\tthe\trepository\t(so\tthat\tdevelopers\tcan\teasily\tcheck\tout\tthe\tcode),\ta\tlink to\tthe\tdashboard,\ta\tlink\tto\tthe\toriginal\tRFC\tfor\tthe\tmicroservice,\tand\ta\tlink\tto the\tmost\trecent\tarchitecture\treview\tslides.\tAny\textra\tinformation\tabout\tother microservices,\ttechnologies\tused\tby\tthe\tmicroservice,\tetc.,\tthat\tmay\tbe\tuseful\tto the\tdeveloper\tshould\tbe\tincluded\tin\ta\tlinks\tsection\tof\tthe\tdocumentation.",
      "content_length": 563,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 229,
      "content": "Onboarding\tand\tDevelopment\tGuide The\tpurpose\tof\tan\tonboarding\tand\tdevelopment\tsection\tis\tto\tmake\tit\teasy\tfor\ta new\tdeveloper\tto\tonboard\tto\tthe\tteam,\tbegin\tcontributing\tcode,\tadd\tfeatures\tto the\tmicroservice,\tand\tintroduce\tnew\tchanges\tinto\tthe\tdeployment\tpipeline.\n\nThe\tfirst\tpart\tof\tthis\tsection\tshould\tbe\ta\tstep-by-step\tguide\tto\tsetting\tup\tthe service.\tIt\tshould\twalk\ta\tdeveloper\tthrough\tchecking\tout\tthe\tcode,\tsetting\tup\tthe environment,\tstarting\tthe\tservice,\tand\tverifying\tthat\tthe\tservice\tis\tworking correctly\t(including\tall\tcommands\tor\tscripts\tthat\tneed\tto\tbe\trun\tin\torder\tto accomplish\tthis).\n\nThe\tsecond\tpart\tshould\tguide\tthe\tdeveloper\tthrough\tthe\tdevelopment\tcycle\tand deployment\tpipeline\tof\tthe\tservice\t(details\tof\ta\tproduction-ready\tdevelopment cycle\tand\tdeployment\tpipeline\tcan\tbe\tfound\tin\t“The\tDevelopment\tCycle”\tand “The\tDeployment\tPipeline”).\tThis\tshould\tinclude\tthe\ttechnical\tdetails\t(e.g., commands\tthat\tmust\tbe\trun,\talong\twith\tseveral\texamples)\tof\teach\tof\tthe\tsteps: how\tto\tcheck\tout\tthe\tcode,\thow\tto\tmake\ta\tchange\tto\tthe\tcode,\thow\tto\twrite\ta unit\ttest\tfor\tthe\tchange\t(if\tnecessary),\thow\tto\trun\tthe\trequired\ttests,\thow\tto commit\ttheir\tchanges,\thow\tto\tsend\tchanges\tfor\tcode\treview,\thow\tto\tmake\tsure that\tthe\tservice\tis\tbuilt\tand\treleased\tcorrectly,\tand\tthen\thow\tto\tdeploy\t(as\twell\tas how\tthe\tdeployment\tpipeline\tis\tset\tup\tfor\tthe\tservice).",
      "content_length": 1355,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 230,
      "content": "Request\tFlows,\tEndpoints,\tand\tDependencies The\tdocumentation\tshould\talso\tcontain\tcritical\tinformation\tabout\trequest\tflows, endpoints,\tand\tdependencies\tof\tthe\tmicroservice.\n\nRequest\tflow\tdocumentation\tcan\tconsist\tof\ta\tdiagram\tof\tthe\trequest\tflows\tof\tthe application.\tThis\tcan\tbe\tthe\tarchitecture\tdiagram,\tif\tthe\trequest\tflow\tis\tdetailed appropriately\twithin\tthe\tarchitecture\tdiagram.\tAny\tdiagram\tshould\tbe accompanied\tby\ta\tqualitative\tdescription\tof\tthe\ttypes\tof\trequests\tthat\tare\tmade to\tthe\tmicroservice\tand\thow\tthey\tare\thandled.\n\nThis\tis\talso\tthe\tplace\tto\tdocument\tall\tAPI\tendpoints\tof\tthe\tservice.\tA\tbulleted list\tof\tthe\tendpoints\twith\ttheir\tnames\tand\ta\tqualitative\tdescription\tof\teach\talong with\ttheir\tresponses\tis\tusually\tsufficient.\tIt\tmust\tbe\tclear\tand\tunderstandable enough\tthat\tanother\tdeveloper\tworking\ton\ta\tdifferent\tteam\tcould\tread\tthe descriptions\tof\tyour\tservice’s\tAPI\tendpoints\tand\ttreat\tyour\tmicroservice\tas\ta black\tbox,\thitting\tthe\tendpoints\tsuccessfully\tand\treceiving\tthe\texpected responses.\n\nThe\tthird\telement\tof\tthis\tsection\tis\tinformation\tabout\tthe\tservice’s\tdependencies. List\tthe\tdependencies,\tthe\trelevant\tendpoints\tof\tthese\tdependencies,\tand\tany requests\tthe\tservice\tmakes\tto\tthem,\talong\twith\tinformation\tabout\ttheir\tSLAs, any\talternatives/caching/backups\tin\tplace\tin\tcase\tof\tfailure,\tand\tlinks\tto\ttheir documentation\tand\tdashboards.",
      "content_length": 1358,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 231,
      "content": "On-Call\tRunbooks As\tcovered\tin\tChapter\t6,\tMonitoring,\tevery\tsingle\talert\tshould\tbe\tincluded\tin\tan on-call\trunbook\tand\taccompanied\tby\tstep-by-step\tinstructions\tdescribing\thow\tit should\tbe\ttriaged,\tmitigated,\tand\tresolved.\tThe\ton-call\trunbook\tshould\tbe\tkept in\tthe\tcentralized\tdocumentation\tof\tthe\tservice,\tin\tan\ton-call\trunbook\tsection, along\twith\tboth\tgeneral\tand\tdetailed\tguidance\ton\ttroubleshooting\tand\tdebugging new\terrors.\n\nA\tgood\trunbook\twill\tbegin\twith\tany\tgeneral\ton-call\trequirements\tand procedures,\tand\tthen\tcontain\ta\tcomplete\tlist\tof\tthe\tservice’s\talerts.\tFor\teach alert,\tthe\ton-call\trunbook\tshould\tinclude\tthe\talert\tname,\ta\tdescription\tof\tthe alert,\ta\tdescription\tof\tthe\tproblem,\tand\ta\tstep-by-step\tguide\ton\thow\tto\ttriage\tthe alert,\tmitigate\tit,\tand\tthen\tresolve\tit.\tIt\twill\talso\tdescribe\tany\torganizational implications\tof\tthe\talert:\tthe\tseverity\tof\tthe\tproblem,\twhether\tor\tnot\tthe\talert signifies\tan\toutage,\tand\tinformation\tabout\thow\tto\tcommunicate\tany\tincidents and\toutages\tto\tthe\tteam,\tand\tif\tnecessary,\tto\tthe\trest\tof\tthe\tengineering organization.",
      "content_length": 1063,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 232,
      "content": "WRITE\tON-CALL\tRUNBOOKS\tTHAT\tSLEEPY DEVELOPERS\tCAN\tUNDERSTAND\tAT\t2\tA.M.\n\nDevelopers\ton\tcall\tfor\ta\tservice\tmay\t(or,\tmore\trealistically,\twill)\tbe\tpaged\tat\tany\thour\tof\tthe day,\tincluding\tlate\tat\tnight\tor\tvery\tearly\tin\tthe\tmorning.\tWrite\tyour\ton-call\trunbooks\tso\tthat\ta half-asleep\tdeveloper\twill\tbe\table\tto\tfollow\talong\twithout\tany\tdifficulty.\n\nWriting\tgood,\tclear,\teasily\tunderstandable\ton-call\trunbooks\tis\textremely important.\tThey\tshould\tbe\twritten\tso\tthat\tany\tdeveloper\twho\tis\ton\tcall\tfor\tthe service\tor\twho\tis\texperiencing\ttrouble\twith\tthe\tservice\twill\tbe\table\tto\tact quickly,\tdiagnose\tthe\tproblem,\tmitigate\tthe\tincident,\tand\tresolve,\tall\tin\tan extremely\tsmall\tamount\tof\ttime\tin\torder\tto\tkeep\tthe\tdowntime\tof\tthe\tservice very,\tvery\tlow.\n\nNot\tevery\talert\twill\tbe\teasily\tmitigated\tor\tresolved,\tand\tmost\toutages\t(aside from\tthose\tcaused\tby\tcode\tbugs\tintroduced\tby\ta\trecent\tdeployment)\thaven’t been\tseen\tbefore.\tTo\tequip\tdevelopers\tto\thandle\tthese\tproblems\twisely,\tadd\ta general\ttroubleshooting\tand\tdebugging\tsection\tto\tthe\ton-call\trunbook\tin\tthe documentation\tthat\tis\tfilled\twith\ttips\ton\thow\tto\tapproach\tnew\tproblems\tin\ta strategic\tand\tmethodical\tway.",
      "content_length": 1149,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 233,
      "content": "FAQ\n\nAn\toften\tforgotten\telement\tof\tdocumentation\tis\ta\tsection\tdevoted\tto\tanswering common\tquestions\tabout\tthe\tservice.\tHaving\ta\t“Frequently\tAsked\tQuestions” section\ttakes\tthe\tburden\tof\tanswering\tcommon\tquestions\toff\tof\twhomever\tis\ton call\tand,\tconsequently,\tthe\trest\tof\tthe\tteam.\n\nThere\tare\ttwo\tcategories\tof\tquestions\tthat\tshould\tbe\tanswered\there.\tThe\tfirst\tare questions\tthat\tdevelopers\ton\tother\tteams\task\tabout\tthe\tservice.\tThe\tway\tto approach\tanswering\tthese\tquestions\tin\tan\tFAQ\tsetting\tis\tsimple:\tif\tsomeone\tasks you\ta\tquestion,\tand\tyou\tthink\tit\tmight\tbe\tasked\tagain,\tadd\tit\tto\tthe\tFAQ.\tThe second\tcategory\tof\tquestions\tare\tthose\tthat\tcome\tfrom\tteam\tmembers,\tand\tthe same\tapproach\tcan\tbe\ttaken\there:\tif\tthere’s\ta\tquestion\tabout\thow\tor\twhy\tor when\tto\tdo\tsomething\trelated\tto\tthe\tservice,\tadd\tit\tto\tthe\tFAQ.\n\nSUMMARY:\tELEMENTS\tOF\tPRODUCTION-READY\tMICROSERVICE DOCUMENTATION\n\nProduction-ready\tmicroservice\tdocumentation\tincludes:\n\nA\tdescription\tof\tthe\tmicroservice\tand\tits\tplace\tin\tthe\toverall\tmicroservice\tecosystem\tand\tthe\n\nbusiness\n\nAn\tarchitecture\tdiagram\tdetailing\tthe\tarchitecture\tof\tthe\tservice\tand\tits\tclients\tand\tdependencies\tat\ta\n\nhigh\tlevel\tof\tabstraction\n\nContact\tand\ton-call\tinformation\tabout\tthe\tmicroservice’s\tdevelopment\tteam\n\nLinks\tto\tthe\trepository,\tdashboard(s),\tthe\tRFC\tfor\tthe\tservice,\tarchitecture\treviews,\tand\tany\tother\n\nrelevant\tor\tuseful\tinformation\n\nAn\tonboarding\tand\tdevelopment\tguide\tcontaining\tdetails\tabout\tthe\tdevelopment\tprocess,\tthe\n\ndeployment\tpipeline,\tand\tany\tother\tinformation\tthat\twill\tbe\tuseful\tto\tdevelopers\twho\tcontribute\tcode\n\nto\tthe\tservice\n\nDetailed\tinformation\tabout\tthe\tmicroservice’s\trequest\tflows,\tSLA,\tproduction-readiness\tstatus,\tAPI\n\nendpoints,\timportant\tclients,\tand\tdependencies\n\nAn\ton-call\trunbook\tcontaining\tgeneral\tincident\tand\toutage\tresponse\tprocedures,\tstep-by-step\n\ninstructions\ton\thow\tto\ttriage,\tmitigate,\tand\tresolve\teach\talert,\tand\ta\tgeneral\ttroubleshooting\tand\n\ndebugging\tsection",
      "content_length": 1945,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 234,
      "content": "A\t“Frequently\tAsked\tQuestions”\t(FAQ)\tsection",
      "content_length": 44,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 235,
      "content": "Microservice\tUnderstanding Centralized,\tupdated,\tand\tthorough\tdocumentation\tis\tonly\tone\tpart\tof production-ready\tmicroservice\tdocumentation\tand\tunderstanding.\tAside\tfrom writing\tand\tupdating\tdocumentation,\torganizational\tprocesses\tshould\tbe\tput\tinto place\tto\tensure\tthat\tmicroservices\tare\twell\tunderstood\tnot\tonly\tby\tthe\tindividual development\tteams\tbut\tby\tthe\torganization\tas\ta\twhole.\tIn\tmany\tways,\ta\twell- understood\tmicroservice\tis\tone\tthat\tmeets\tevery\tproduction-readiness requirement.\n\nMicroservice\tunderstanding\tis\ttruly\tindispensable\tto\tthe\tdeveloper,\tthe\tteam,\tand the\torganization.\tWhile\tthe\tnotion\tof\t“understanding”\ta\tmicroservice\tmay\tseem too\tvague\tto\tbe\tuseful\tat\tfirst\tglance,\tthe\tconcept\tof\ta\tproduction-ready microservice\tcan\tbe\tused\tto\tguide\tand\tdefine\tmicroservice\tunderstanding\tat every\tlevel.\tArmed\twith\tproduction-readiness\tstandards\tand\trequirements,\talong with\ta\trealistic\tunderstanding\tof\torganizational\tcomplexity\tand\tthe\tchallenges that\tmicroservice\tarchitecture\tbrings\tto\tthe\tarena,\tdevelopers\tcan\tquantify\ttheir understanding\tof\teach\tmicroservice\tand\t(as\tI’ve\turged\tthe\treader\tearlier\tin\tthis chapter)\tcan\tgive\tan\tonion\tto\tthe\trest\tof\tthe\torganization.\n\nFor\tthe\tindividual\tdeveloper,\tthis\ttranslates\tto\tbeing\table\tto\tanswer\tquestions about\ther\tmicroservice.\tFor\texample,\twhen\tasked\tif\ther\tmicroservice\tis\tscalable, she\twill\tbe\table\tto\tlook\tat\ta\tlist\tof\tscalability\trequirements\tand\tconfidently answer\t“Yes,”\t“No,”\tor\tsomething\tin\tbetween\t(e.g.,\t“It\tmeets\trequirements\tx and\tz,\tbut\ty\thas\tnot\tyet\tbeen\timplemented”).\tLikewise,\twhen\tasked\tif\ther microservice\tis\tfault\ttolerant,\tshe’ll\tbe\table\tto\trattle\toff\tall\tfailure\tscenarios\tand possible\tcatastrophes,\tthen\texplain\tin\tdetail\thow\tshe\thas\tprepared\tfor\tthese\tusing various\ttypes\tof\tresiliency\ttesting.\n\nAt\tthe\tteam\tlevel,\tunderstanding\tsignifies\tthat\tthe\tteam\tis\taware\tof\twhere\ttheir microservice\tstands\twith\tregard\tto\tproduction-readiness\tand\twhat\tneeds\tto\tbe accomplished\tto\tbring\ttheir\tservice\tto\ta\tproduction-ready\tstate.\tThis\thas\tto\tbe\ta cultural\telement\tof\teach\tteam\tin\torder\tfor\tit\tto\tbe\tsuccessful:\tproduction- readiness\tstandards\tand\trequirements\tneed\tto\tdrive\tthe\tdecisions\tmade\tby\tthe team\tand\tbe\tseen\tnot\tmerely\tas\tboxes\tto\tcheck\toff\ton\ta\tchecklist,\tbut\trather\tas principles\tthat\tguide\tthe\tteam\ttoward\tbuilding\tthe\tbest\tpossible\tmicroservice.\n\nUnderstanding\tneeds\tto\tbe\tbuilt\tinto\tthe\tfabric\tof\tthe\torganization\titself.\tThis",
      "content_length": 2412,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 236,
      "content": "requires\tthat\tproduction-readiness\tstandards\tand\trequirements\tbecome\tpart\tof the\torganizational\tprocess.\tBefore\ta\tservice\tis\teven\tbuilt,\tand\ta\trequest\tfor comments\t(RFC)\tis\tsent\taround\tfor\treview,\tthe\tservice\tcan\tbe\tevaluated\tagainst the\tproduction-readiness\tstandards\tand\trequirements.\tDevelopers,\tarchitects,\tand operations\tengineers\tcan\tmake\tsure\tthat\tthe\tservice\tis\tbuilt\tfor\tstability, reliability,\tscalability,\tperformance,\tfault\ttolerance,\tcatastrophe-preparedness, proper\tmonitoring,\tand\tappropriately\tdocumented\tand\tunderstood\tbefore\tit\teven begins\trunning\t—\tensuring\tthat\tonce\tthe\tnew\tservice\tbegins\tto\thost\tproduction traffic,\tit\thas\tbeen\tarchitected\tand\toptimized\tfor\tavailability\tand\tcan\tbe\ttrusted with\tproduction\ttraffic.\n\nIt’s\tnot\tenough\tto\tonly\treview\tand\tarchitect\tfor\tproduction-readiness\tat\tthe beginning\tof\ta\tmicroservice’s\tlifecycle.\tExisting\tservices\tneed\tto\tbe\treviewed and\taudited\tconstantly\tso\tthat\tthe\tquality\tof\teach\tmicroservice\tis\tkept\tat\ta sufficiently\thigh\tlevel,\tensuring\thigh\tavailability\tand\ttrust\tacross\tvarious microservice\tteams\tand\tthe\tentire\tmicroservice\tecosystem.\tAutomating\tthese production-readiness\taudits\tof\texisting\tservices\tand\tinternally\tpublicizing\tthe results\tcan\thelp\tto\testablish\tawareness\tacross\tthe\torganization\tabout\tthe\tquality of\tthe\toverall\tmicroservice\tecosystem.",
      "content_length": 1323,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 237,
      "content": "Architecture\tReviews One\tthing\tI’ve\tlearned\tafter\tdriving\tthese\tproduction-readiness\tstandards\tand their\trequirements\tacross\tover\ta\tthousand\tdifferent\tmicroservices\tand\ttheir development\tteams\tis\tthat\tthe\tmost\timmediately\teffective\tway\tto\taccomplish microservice\tunderstanding\tis\tto\thold\tscheduled\tarchitecture\treviews\tfor\teach microservice.\tA\tgood\tarchitecture\treview\tis\ta\tmeeting\twhere\tany\tand\tall developers\tand\tsite\treliability\tengineers\t(or\tother\toperations\tengineers)\tworking on\tthe\tservice\tmeet\tin\ta\troom,\tdraw\tup\tthe\tarchitecture\tof\tthe\tservice\ton\ta whiteboard,\tand\tthoroughly\tevaluate\tits\tarchitecture.\n\nWithin\tseveral\tminutes\tinto\tthis\texercise,\tit\ttends\tto\tbecome\tvery\tclear\tprecisely what\tthe\tscope\tof\tunderstanding\tis\tat\tthe\tdeveloper\tand\tteam\tlevels.\tTalking through\tthe\tarchitecture,\tdevelopers\twill\tquickly\tdiscover\tscalability\tand performance\tbottlenecks,\tpreviously\tundiscovered\tpoints\tof\tfailure,\tpossible outages\tand\tfuture\tincidents\tand\tfailures\tand\tcatastrophe\tscenarios,\tand\tnew features\tthat\tshould\tbe\tadded.\tPoor\tarchitectural\tdecisions\tthat\twere\tmade\tin\tthe past\twill\tbecome\tobvious,\tand\told\ttechnologies\tthat\tshould\tbe\treplaced\tby\tnewer and/or\tbetter\tones\twill\tstand\tout.\tTo\tensure\tthat\tevaluation\tand\tdiscussion\tis productive\tand\tobjective,\tit’s\thelpful\tto\tbring\tin\tdevelopers\tfrom\tother\tteams (especially\tthose\tin\tinfrastructure,\tDevOps,\tor\tsite\treliability\tengineering)\twho have\texperience\tin\tlarge-scale\tdistributed\tsystems\tarchitecture\t(and\tthe organization’s\tspecific\tmicroservice\tecosystem)\tand\twill\tbe\table\tto\tpoint\tout problems\tthat\tdevelopers\tmay\tnot\tnotice.\n\nEach\tmeeting\tshould\tproduce\ta\tnew,\tupdated\tarchitecture\tdiagram\tfor\tthe service,\talong\twith\ta\tlist\tof\tprojects\tto\ttackle\tin\tthe\tcoming\tweeks\tand\tmonths. The\tnew\tdiagram\tshould\tdefinitely\tbe\tadded\tto\tthe\tdocumentation,\tand\tprojects can\tbe\tincluded\tin\teach\tservice’s\troadmap\t(see\t“Production-Readiness Roadmaps”)\tand\tobjectives\tand\tkey\tresults\t(OKRs).\n\nBecause\tmicroservice\tdevelopment\tmoves\trather\tquickly,\tmicroservices\tevolve at\ta\trapid\tpace\tand\tthe\tlower\tlayers\tof\tthe\tmicroservice\tecosystem\twill\tbe constantly\tchanging.\tIn\torder\tto\tkeep\tthe\tarchitecture\tand\tits\tunderstanding relevant\tand\tproductive,\tthese\tmeetings\tshould\tbe\theld\tregularly.\tI’ve\tfound\tthat a\tgood\trule\tof\tthumb\tis\tto\tschedule\tthem\tso\tthat\tthey\talign\twith\tOKR\tand project\tplanning.\tIf\tprojects\tand\tOKRs\tare\tplanned\tand\tscheduled\tquarterly,\tthen quarterly\tarchitecture\treviews\tshould\tbe\theld\teach\tquarter\tbefore\tthe\tplanning cycle\tbegins.",
      "content_length": 2504,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 238,
      "content": "Production-Readiness\tAudits To\tmake\tsure\tthat\ta\tmicroservice\tmeets\tproduction-readiness\tstandards\tand requirements\tand\tis\tactually\tproduction-ready,\tthe\tteam\tcan\trun\ta\tproduction- readiness\taudit\ton\tthe\tservice.\tRunning\tan\taudit\tis\tquite\tsimple:\tthe\tteam\tsits down\twith\ta\tchecklist\tof\tthe\tproduction-readiness\trequirements\tand\tchecks\toff whether\tor\tnot\ttheir\tservice\tmeets\teach\trequirement.\tThis\tenables\tunderstanding of\ta\tservice:\teach\tdeveloper\tand\tteam\twill\tknow,\tby\tthe\tend\tof\tthe\taudit,\texactly where\ttheir\tservice\tstands\tand\twhere\tthings\tcan\tbe\timproved.\n\nThe\tstructure\tof\tan\taudit\tshould\tmirror\tthe\tproduction-readiness\tstandards\tand requirements\tthat\tthe\tengineering\torganization\thas\tadopted.\tThe\tteam\tshould\tuse the\taudits\tto\tquantify\tthe\tstability,\treliability,\tscalability,\tfault\ttolerance, catastrophe-preparedness,\tperformance,\tmonitoring,\tand\tdocumentation\tof\tthe service.\tAs\tI’ve\tdescribed\tin\tearlier\tchapters,\teach\tof\tthese\tstandards\tis accompanied\tby\ta\tset\tof\trequirements\tthat\tcan\tbe\tused\tto\tbring\teach\tservice\tup to\tthose\tstandards\t—\tdevelopers\tcan\tadjust\tthese\trequirements\tof\teach production-readiness\tstandard\tso\tthat\tthey\tmeet\tthe\tneeds\tand\tgoals\tof\tthe organization.\tThe\texact\trequirements\twill\tdepend\ton\tthe\tdetails\tof\tthe company’s\tmicroservice\tecosystem,\tbut\tthe\tstandards\tand\ttheir\tbasic components\tare\trelevant\tacross\tevery\tecosystem\t(see\tAppendix\tA\tfor\ta summary\tchecklist\tcontaining\tthe\tproduction-readiness\tstandards\tand\ttheir general\trequirements).",
      "content_length": 1481,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 239,
      "content": "Production-Readiness\tRoadmaps Once\ta\tmicroservice\tdevelopment\tteam\thas\tcompleted\ta\tthorough\tproduction- readiness\taudit\tof\ttheir\tmicroservice\tand\tthe\tteam\tunderstands\twhether\ttheir service\tis\tproduction-ready,\tthe\tnext\tstep\tis\tto\tplan\thow\tto\tbring\tthe\tservice\tto\ta production-ready\tstate.\tAudits\tmake\tthis\teasy:\tat\tthis\tpoint,\tthe\tteam\thas\ta checklist\tof\twhich\tproduction-readiness\trequirements\ttheir\tservice\tdoesn’t\tmeet, and\tall\tthat\tis\tleft\tto\tdo\tis\tto\tsatisfy\teach\tunfulfilled\trequirement.\n\nThis\tis\twhere\tproduction-readiness\troadmaps\tcan\tbe\tdeveloped,\tand\tI’ve\tfound them\tto\tbe\tan\textremely\tuseful\tpiece\tof\tthe\tproduction-readiness\tand microservice\tunderstanding\tprocess.\tEach\tmicroservice\tis\tdifferent,\tand\tthe implementation\tdetails\tof\teach\tunsatisfied\trequirement\twill\tvary\tbetween services,\tso\tproducing\ta\tdetailed\troadmap\tthat\tdocuments\tall\tof\tthe implementation\tdetails\twill\tguide\tthe\tteam\ttoward\tmaking\ttheir\tmicroservice production-ready.\tRequirements\tthat\tneed\tto\tbe\tmet\tcan\tbe\taccompanied\tby\tthe technical\tdetails,\tproblems\tthat\thave\tarisen\t(outages\tand\tincidents)\tthat\tare related\tto\tthe\trequirement,\ta\tlink\tto\tsome\tticket\tin\ta\ttask-management\tsystem, and\tthe\tname(s)\tof\tthe\tdeveloper(s)\twho\twill\tbe\tworking\ton\tthe\tproject.\n\nThe\troadmap\tand\tthe\tlist\tof\tunsatisfied\tproduction-readiness\trequirements\tit contains\tcan\tbecome\tpart\tof\twhatever\tplanning\tand\t(if\tused\tat\tthe\tcompany) OKRs\tare\tin\tstore\tfor\tthe\tservice.\tSatisfying\tproduction-readiness\trequirements works\tbest\twhen\tthe\tprocess\tgoes\thand\tin\thand\tboth\twith\tfeature\tdevelopment and\twith\tthe\tadoption\tof\tnew\ttechnologies.\tMaking\teach\tservice\tin\tthe microservice\tecosystem\tstable,\treliable,\tscalable,\tperformant,\tfault\ttolerant, catastrophe-prepared,\tmonitored,\tdocumented,\tand\tunderstood\tis\ta straightforward,\tquantifiable\tway\tto\tguarantee\tthat\teach\tservice\tis\ttruly production-ready,\tensuring\tthe\tavailability\tof\tthe\tentire\tmicroservice\tecosystem.",
      "content_length": 1918,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 240,
      "content": "Production-Readiness\tAutomation Architecture\treviews,\taudits,\tand\troadmaps\tsolve\tthe\tchallenges\tof\tmicroservice understanding\tat\tthe\tdeveloper\tand\tteam\tlevels,\tbut\tunderstanding\tat\tan organizational\tlevel\trequires\tan\tadditional\tcomponent.\tAs\tI’ve\tpresented\tit\tso far,\tall\tof\tthe\twork\tthat\tgoes\tinto\tbuilding\ta\tproduction-ready\tmicroservice\tis mostly\tmanual,\trequiring\tdevelopers\tto\tindividually\tfollow\teach\taudit\tstep,\tmake tasks\tand\tlists\tand\troadmaps\tand\tcheck\toff\tindividual\trequirement\tboxes. Manual\twork\tlike\tthis\toften\tgets\tput\ton\tthe\tback\tburner\tto\tjoin\tthe\trest\tof\tthe technical\tdebt,\teven\tin\tthe\tmost\tproductive\tand\tproduction-readiness\tdriven teams.\n\nOne\tof\tthe\tkey\tprinciples\tof\tsoftware\tengineering\tin\tpractice\tis\tthis:\tif\tyou\thave to\tdo\tsomething\tmanually\tmore\tthan\tonce,\tautomate\tit\tso\tthat\tyou\tnever\thave\tto do\tit\tagain.\tThis\tapplies\tto\toperational\twork,\tit\tapplies\tto\tany\tone-off,\tad\thoc situations\tand\tanything\tyou\tneed\tto\ttype\tinto\ta\tterminal,\tand\tnot\tsurprisingly,\tit applies\tto\tenforcing\tproduction-readiness\tstandards\tacross\tan\tengineering organization.\tAutomation\tis\tthe\tbest\tonion\tyou\tcan\tgive\tto\tyour\tdevelopment teams.\n\nIt’s\teasy\tto\tmake\ta\tlist\tof\tthe\tproduction-readiness\trequirements\tfor\tevery microservice.\tI’ve\tdone\tit\tmyself\tat\tUber,\tI’ve\tseen\tother\tdevelopers\timplement the\tvery\tsame\tproduction-readiness\tstandards\tin\tthis\tbook\tat\ttheir\town companies,\tand\tI’ve\tcreated\ta\ttemplate\tchecklist\t(Appendix\tA,\tProduction- Readiness\tChecklist)\tthat\tyou,\tthe\treader,\tcan\tuse.\tA\tlist\tlike\tthis\tmakes automating\tthe\tchecklist\trather\teasy.\tFor\texample,\tto\tcheck\tfor\tfault\ttolerance and\tcatastrophe-preparedness,\tyou\tcan\trun\tautomated\tchecks\tto\tensure\tthat\tthe proper\tresiliency\ttests\tare\tin\tplace,\tare\trunning,\tand\tthat\teach\tmicroservice passes\tthe\ttests\twith\tflying\tcolors.\n\nThe\tdifficulty\tin\tautomating\teach\tof\tthese\tproduction-readiness\tchecks\twill depend\tentirely\ton\tthe\tcomplexity\tof\tyour\tinternal\tservices\twithin\teach\tlayer\tof the\tmicroservice\tecosystem.\tIf\tall\tmicroservices\tand\tself-service\ttools\thave decent\tAPIs,\tautomation\tis\ta\tbreeze.\tIf\tyour\tservices\thave\ttrouble communicating,\tor\tif\tany\tself-service\tinternal\ttools\tare\tfinicky\tor\tpoorly\twritten, you’re\tgoing\tto\thave\ta\tbad\ttime\t(and\tnot\tjust\twith\tproduction-readiness,\tbut\twith the\tintegrity\tof\tyour\tservice\tand\tthe\tentire\tmicroservice\tecosystem).\n\nAutomating\tproduction-readiness\tincreases\torganizational\tunderstanding\tin several\textremely\timportant\tand\teffective\tways.\tIf\tyou\tautomate\tthese\tchecks",
      "content_length": 2483,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 241,
      "content": "and\trun\tthem\tconstantly,\tteams\tin\tthe\torganization\twill\talways\tknow\twhere\teach microservice\tstands.\tPublicize\tthese\tresults\tinternally,\tgive\teach\tmicroservice\ta production-readiness\tscore\tmeasuring\thow\tproduction-ready\ttheir\tservice\tis, require\tbusiness-critical\tservices\tto\thave\ta\thigh\tminimum\tproduction-readiness score,\tand\tgate\tdeployments.\tProduction-readiness\tcan\tbe\tmade\tpart\tof\tthe engineering\tculture,\tand\tthis\tis\tone\tsurefire\tway\tyou\tcan\taccomplish\tthat.",
      "content_length": 464,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 242,
      "content": "Evaluate\tYour\tMicroservice Now\tthat\tyou\thave\ta\tbetter\tunderstanding\tof\tdocumentation,\tuse\tthe\tfollowing list\tof\tquestions\tto\tassess\tthe\tproduction-readiness\tof\tyour\tmicroservice(s)\tand microservice\tecosystem.\tThe\tquestions\tare\torganized\tby\ttopic,\tand\tcorrespond\tto the\tsections\twithin\tthis\tchapter.",
      "content_length": 298,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 243,
      "content": "Microservice\tDocumentation\n\nIs\tthe\tdocumentation\tfor\tall\tmicroservices\tstored\tin\ta\tcentralized,\tshared, and\teasily\taccessible\tplace?\n\nIs\tthe\tdocumentation\teasily\tsearchable?\n\nAre\tsignificant\tchanges\tto\tthe\tmicroservice\taccompanied\tby\tupdates\tto\tthe microservice’s\tdocumentation?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\ta\tdescription\tof\tthe microservice?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tarchitecture\tdiagram?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tcontact\tand\ton-call information?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tlinks\tto\timportant information?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tonboarding\tand development\tguide?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tinformation\tabout\tthe microservice’s\trequest\tflow,\tendpoints,\tand\tdependencies?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\ton-call\trunbook?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tFAQ\tsection?",
      "content_length": 932,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 244,
      "content": "Microservice\tUnderstanding\n\nCan\tevery\tdeveloper\ton\tthe\tteam\tanswer\tquestions\tabout\tthe\tproduction- readiness\tof\tthe\tmicroservice?\n\nIs\tthere\ta\tset\tof\tprinciples\tand\tstandards\tthat\tall\tmicroservices\tare\theld\tto?\n\nIs\tthere\tan\tRFC\tprocess\tin\tplace\tfor\tevery\tnew\tmicroservice?\n\nAre\texisting\tmicroservices\treviewed\tand\taudited\tfrequently?\n\nAre\tarchitecture\treviews\theld\tfor\tevery\tmicroservice\tteam?\n\nIs\tthere\ta\tproduction-readiness\taudit\tprocess\tin\tplace?\n\nAre\tproduction-readiness\troadmaps\tused\tto\tbring\tthe\tmicroservice\tto\ta production-ready\tstate?\n\nDo\tthe\tproduction-readiness\tstandards\tdrive\tthe\torganization’s\tOKRs?\n\nIs\tthe\tproduction-readiness\tprocess\tautomated?",
      "content_length": 662,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 245,
      "content": "Appendix\tA.\tProduction-Readiness Checklist\n\nThis\twill\tbe\ta\tchecklist\tto\trun\tover\tall\tmicroservices\t—\tmanually\tor\tin\tan automated\tway.",
      "content_length": 133,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 246,
      "content": "A\tProduction-Ready\tService\tIs\tStable\tand\tReliable\n\nIt\thas\ta\tstandardized\tdevelopment\tcycle.\n\nIts\tcode\tis\tthoroughly\ttested\tthrough\tlint,\tunit,\tintegration,\tand\tend-to-end testing.\n\nIts\ttest,\tpackaging,\tbuild,\tand\trelease\tprocess\tis\tcompletely\tautomated.\n\nIt\thas\ta\tstandardized\tdeployment\tpipeline,\tcontaining\tstaging,\tcanary,\tand production\tphases.\n\nIts\tclients\tare\tknown.\n\nIts\tdependencies\tare\tknown,\tand\tthere\tare\tbackups,\talternatives,\tfallbacks, and\tcaching\tin\tplace\tin\tcase\tof\tfailures.\n\nIt\thas\tstable\tand\treliable\trouting\tand\tdiscovery\tin\tplace.",
      "content_length": 551,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 247,
      "content": "A\tProduction-Ready\tService\tIs\tScalable\tand Performant\n\nIts\tqualitative\tand\tquantitative\tgrowth\tscales\tare\tknown.\n\nIt\tuses\thardware\tresources\tefficiently.\n\nIts\tresource\tbottlenecks\tand\trequirements\thave\tbeen\tidentified.\n\nCapacity\tplanning\tis\tautomated\tand\tperformed\ton\ta\tscheduled\tbasis.\n\nIts\tdependencies\twill\tscale\twith\tit.\n\nIt\twill\tscale\twith\tits\tclients.\n\nIts\ttraffic\tpatterns\tare\tunderstood.\n\nTraffic\tcan\tbe\tre-routed\tin\tcase\tof\tfailures.\n\nIt\tis\twritten\tin\ta\tprogramming\tlanguage\tthat\tallows\tit\tto\tbe\tscalable\tand performant.\n\nIt\thandles\tand\tprocesses\ttasks\tin\ta\tperformant\tmanner.\n\nIt\thandles\tand\tstores\tdata\tin\ta\tscalable\tand\tperformant\tway.",
      "content_length": 647,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 248,
      "content": "A\tProduction-Ready\tService\tIs\tFault\tTolerant\tand Prepared\tfor\tAny\tCatastrophe\n\nIt\thas\tno\tsingle\tpoint\tof\tfailure.\n\nAll\tfailure\tscenarios\tand\tpossible\tcatastrophes\thave\tbeen\tidentified.\n\nIt\tis\ttested\tfor\tresiliency\tthrough\tcode\ttesting,\tload\ttesting,\tand\tchaos testing.\n\nFailure\tdetection\tand\tremediation\thas\tbeen\tautomated.\n\nThere\tare\tstandardized\tincident\tand\toutage\tprocedures\tin\tplace\twithin\tthe microservice\tdevelopment\tteam\tand\tacross\tthe\torganization.",
      "content_length": 457,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 249,
      "content": "A\tProduction-Ready\tService\tIs\tProperly\tMonitored\n\nIts\tkey\tmetrics\tare\tidentified\tand\tmonitored\tat\tthe\thost,\tinfrastructure,\tand microservice\tlevels.\n\nIt\thas\tappropriate\tlogging\tthat\taccurately\treflects\tthe\tpast\tstates\tof\tthe microservice.\n\nIts\tdashboards\tare\teasy\tto\tinterpret\tand\tcontain\tall\tkey\tmetrics.\n\nIts\talerts\tare\tactionable\tand\tare\tdefined\tby\tsignal-providing\tthresholds.\n\nThere\tis\ta\tdedicated\ton-call\trotation\tresponsible\tfor\tmonitoring\tand responding\tto\tany\tincidents\tand\toutages.\n\nThere\tis\ta\tclear,\twell-defined,\tand\tstandardized\ton-call\tprocedure\tin\tplace for\thandling\tincidents\tand\toutages.",
      "content_length": 604,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 250,
      "content": "A\tProduction-Ready\tService\tIs\tDocumented\tand Understood\n\nIt\thas\tcomprehensive\tdocumentation.\n\nIts\tdocumentation\tis\tupdated\tregularly.\n\nIts\tdocumentation\tcontains\ta\tdescription\tof\tthe\tmicroservice;\tan architecture\tdiagram;\tcontact\tand\ton-call\tinformation;\tlinks\tto\timportant information;\tan\tonboarding\tand\tdevelopment\tguide;\tinformation\tabout\tthe service’s\trequest\tflow(s),\tendpoints,\tand\tdependencies;\tan\ton-call\trunbook; and\tanswers\tto\tfrequently\tasked\tquestions.\n\nIt\tis\twell\tunderstood\tat\tthe\tdeveloper,\tteam,\tand\torganizational\tlevels.\n\nIt\tis\theld\tto\ta\tset\tof\tproduction-readiness\tstandards\tand\tmeets\tthe\tassociated requirements.\n\nIts\tarchitecture\tis\treviewed\tand\taudited\tfrequently.",
      "content_length": 686,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 251,
      "content": "Appendix\tB.\tEvaluate\tYour Microservice\n\nTo\thelp\tthe\treader\tevaluate\tthe\tproduction-readiness\tof\ttheir\tmicroservice(s)\tand microservice\tecosystem,\tChapters\t3–7\tconclude\twith\ta\tshort\tlist\tof\tquestions associated\twith\tthe\tproduction-readiness\tstandard\tdiscussed.\tThe\tquestions\tare organized\tby\ttopic,\tand\tcorrespond\tto\tthe\tsections\twithin\teach\tchapter.\tAll\tof\tthe questions\tfrom\teach\tchapter\thave\tbeen\tcollected\there\tfor\teasy\treference.",
      "content_length": 433,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 252,
      "content": "Stability\tand\tReliability",
      "content_length": 25,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 253,
      "content": "The\tDevelopment\tCycle\n\nDoes\tthe\tmicroservice\thave\ta\tcentral\trepository\twhere\tall\tcode\tis\tstored?\n\nDo\tdevelopers\twork\tin\ta\tdevelopment\tenvironment\tthat\taccurately\treflects the\tstate\tof\tproduction\t(e.g.,\tthat\taccurately\treflects\tthe\treal\tworld)?\n\nAre\tthere\tappropriate\tlint,\tunit,\tintegration,\tand\tend-to-end\ttests\tin\tplace\tfor the\tmicroservice?\n\nAre\tthere\tcode\treview\tprocedures\tand\tpolicies\tin\tplace?\n\nIs\tthe\ttest,\tpackaging,\tbuild,\tand\trelease\tprocess\tautomated?",
      "content_length": 463,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 254,
      "content": "The\tDeployment\tPipeline\n\nDoes\tthe\tmicroservice\tecosystem\thave\ta\tstandardized\tdeployment\tpipeline?\n\nIs\tthere\ta\tstaging\tphase\tin\tthe\tdeployment\tpipeline\tthat\tis\teither\tfull\tor partial\tstaging?\n\nWhat\taccess\tdoes\tthe\tstaging\tenvironment\thave\tto\tproduction\tservices?\n\nIs\tthere\ta\tcanary\tphase\tin\tthe\tdeployment\tpipeline?\n\nDo\tdeployments\trun\tin\tthe\tcanary\tphase\tfor\ta\tperiod\tof\ttime\tthat\tis\tlong enough\tto\tcatch\tany\tfailures?\n\nDoes\tthe\tcanary\tphase\taccurately\thost\ta\trandom\tsample\tof\tproduction traffic?\n\nAre\tthe\tmicroservice’s\tports\tthe\tsame\tfor\tcanary\tand\tproduction?\n\nAre\tdeployments\tto\tproduction\tdone\tall\tat\tthe\tsame\ttime,\tor\tincrementally rolled\tout?\n\nIs\tthere\ta\tprocedure\tin\tplace\tfor\tskipping\tthe\tstaging\tand\tcanary\tphases\tin case\tof\tan\temergency?",
      "content_length": 748,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 255,
      "content": "Dependencies\n\nWhat\tare\tthis\tmicroservice’s\tdependencies?\n\nWhat\tare\tits\tclients?\n\nHow\tdoes\tthis\tmicroservice\tmitigate\tdependency\tfailures?\n\nAre\tthere\tbackups,\talternatives,\tfallbacks,\tor\tdefensive\tcaching\tfor\teach dependency?",
      "content_length": 224,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 256,
      "content": "Routing\tand\tDiscovery\n\nAre\thealth\tchecks\tto\tthe\tmicroservice\treliable?\n\nDo\thealth\tchecks\taccurately\treflect\tthe\thealth\tof\tthe\tmicroservice?\n\nAre\thealth\tchecks\trun\ton\ta\tseparate\tchannel\twithin\tthe\tcommunication layer?\n\nAre\tthere\tcircuit\tbreakers\tin\tplace\tto\tprevent\tunhealthy\tmicroservices\tfrom making\trequests?\n\nAre\tthere\tcircuit\tbreakers\tin\tplace\tto\tprevent\tproduction\ttraffic\tfrom\tbeing sent\tto\tunhealthy\thosts\tand\tmicroservices?",
      "content_length": 431,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 257,
      "content": "Deprecation\tand\tDecommissioning\n\nAre\tthere\tprocedures\tin\tplace\tfor\tdecommissioning\ta\tmicroservice?\n\nAre\tthere\tprocedures\tin\tplace\tfor\tdeprecating\ta\tmicroservice’s\tAPI endpoints?",
      "content_length": 177,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 258,
      "content": "Scalability\tand\tPerformance",
      "content_length": 27,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 259,
      "content": "Knowing\tthe\tGrowth\tScale\n\nWhat\tis\tthis\tmicroservice’s\tqualitative\tgrowth\tscale?\n\nWhat\tis\tthis\tmicroservice’s\tquantitative\tgrowth\tscale?",
      "content_length": 135,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 260,
      "content": "Efficient\tUse\tof\tResources\n\nIs\tthe\tmicroservice\trunning\ton\tdedicated\tor\tshared\thardware?\n\nAre\tany\tresource\tabstraction\tand\tallocation\ttechnologies\tbeing\tused?",
      "content_length": 158,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 261,
      "content": "Resource\tAwareness\n\nWhat\tare\tthe\tmicroservice’s\tresource\trequirements\t(CPU,\tRAM,\tetc.)?\n\nHow\tmuch\ttraffic\tcan\tone\tinstance\tof\tthe\tmicroservice\thandle?\n\nHow\tmuch\tCPU\tdoes\tone\tinstance\tof\tthe\tmicroservice\trequire?\n\nHow\tmuch\tmemory\tdoes\tone\tinstance\tof\tthe\tmicroservice\trequire?\n\nAre\tthere\tany\tother\tresource\trequirements\tthat\tare\tspecific\tto\tthis microservice?\n\nWhat\tare\tthe\tresource\tbottlenecks\tof\tthis\tmicroservice?\n\nDoes\tthis\tmicroservice\tneed\tto\tbe\tscaled\tvertically,\thorizontally,\tor\tboth?",
      "content_length": 492,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 262,
      "content": "Capacity\tPlanning\n\nIs\tcapacity\tplanning\tperformed\ton\ta\tscheduled\tbasis?\n\nWhat\tis\tthe\tlead\ttime\tfor\tnew\thardware?\n\nHow\toften\tare\thardware\trequests\tmade?\n\nAre\tany\tmicroservices\tgiven\tpriority\twhen\thardware\trequests\tare\tmade?\n\nIs\tcapacity\tplanning\tautomated\tor\tis\tit\tmanual?",
      "content_length": 271,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 263,
      "content": "Dependency\tScaling\n\nWhat\tare\tthis\tmicroservice’s\tdependencies?\n\nAre\tthe\tdependencies\tscalable\tand\tperformant?\n\nWill\tthe\tdependencies\tscale\twith\tthis\tmicroservice’s\texpected\tgrowth?\n\nAre\tdependency\towners\tprepared\tfor\tthis\tmicroservice’s\texpected\tgrowth?",
      "content_length": 253,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 264,
      "content": "Traffic\tManagement\n\nAre\tthe\tmicroservice’s\ttraffic\tpatterns\twell\tunderstood?\n\nAre\tchanges\tto\tthe\tservice\tscheduled\taround\ttraffic\tpatterns?\n\nAre\tdrastic\tchanges\tin\ttraffic\tpatterns\t(especially\tbursts\tof\ttraffic)\thandled carefully\tand\tappropriately?\n\nCan\ttraffic\tbe\tautomatically\trouted\tto\tother\tdatacenters\tin\tcase\tof\tfailure?",
      "content_length": 326,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 265,
      "content": "Task\tHandling\tand\tProcessing\n\nIs\tthe\tmicroservice\twritten\tin\ta\tprogramming\tlanguage\tthat\twill\tallow\tthe service\tto\tbe\tscalable\tand\tperformant?\n\nAre\tthere\tany\tscalability\tor\tperformance\tlimitations\tin\tthe\tway\tthe microservice\thandles\trequests?\n\nAre\tthere\tany\tscalability\tor\tperformance\tlimitations\tin\tthe\tway\tthe microservice\tprocesses\ttasks?\n\nDo\tdevelopers\ton\tthe\tmicroservice\tteam\tunderstand\thow\ttheir\tservice processes\ttasks,\thow\tefficiently\tit\tprocesses\tthose\ttasks,\tand\thow\tthe service\twill\tperform\tas\tthe\tnumber\tof\ttasks\tand\trequests\tincreases?",
      "content_length": 549,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 266,
      "content": "Scalable\tData\tStorage\n\nDoes\tthis\tmicroservice\thandle\tdata\tin\ta\tscalable\tand\tperformant\tway?\n\nWhat\ttype\tof\tdata\tdoes\tthis\tmicroservice\tneed\tto\tstore?\n\nWhat\tis\tthe\tschema\tneeded\tfor\tits\tdata?\n\nHow\tmany\ttransactions\tare\tneeded\tand/or\tmade\tper\tsecond?\n\nDoes\tthis\tmicroservice\tneed\thigher\tread\tor\twrite\tperformance?\n\nIs\tit\tread-heavy,\twrite-heavy,\tor\tboth?\n\nIs\tthis\tservice’s\tdatabase\tscaled\thorizontally\tor\tvertically?\tIs\tit\treplicated\tor partitioned?\n\nIs\tthis\tmicroservice\tusing\ta\tdedicated\tor\tshared\tdatabase?\n\nHow\tdoes\tthe\tservice\thandle\tand/or\tstore\ttest\tdata?",
      "content_length": 560,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 267,
      "content": "Fault\tTolerance\tand\tCatastrophe-Preparedness",
      "content_length": 44,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 268,
      "content": "Avoiding\tSingle\tPoints\tof\tFailure\n\nDoes\tthe\tmicroservice\thave\ta\tsingle\tpoint\tof\tfailure?\n\nDoes\tit\thave\tmore\tthan\tone\tpoint\tof\tfailure?\n\nCan\tany\tpoints\tof\tfailure\tbe\tarchitected\taway,\tor\tdo\tthey\tneed\tto\tbe mitigated?",
      "content_length": 215,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 269,
      "content": "Catastrophes\tand\tFailure\tScenarios\n\nHave\tall\tof\tthe\tmicroservice’s\tfailure\tscenarios\tand\tpossible\tcatastrophes been\tidentified?\n\nWhat\tare\tcommon\tfailures\tacross\tthe\tmicroservice\tecosystem?\n\nWhat\tare\tthe\thardware-layer\tfailure\tscenarios\tthat\tcan\taffect\tthis microservice?\n\nWhat\tcommunication-layer\tand\tapplication-layer\tfailures\tcan\taffect\tthis microservice?\n\nWhat\tsorts\tof\tdependency\tfailures\tcan\taffect\tthis\tmicroservice?\n\nWhat\tare\tthe\tinternal\tfailures\tthat\tcould\tbring\tdown\tthis\tmicroservice?",
      "content_length": 495,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 270,
      "content": "Resiliency\tTesting\n\nDoes\tthis\tmicroservice\thave\tappropriate\tlint,\tunit,\tintegration,\tand\tend-to- end\ttests?\n\nDoes\tthis\tmicroservice\tundergo\tregular,\tscheduled\tload\ttesting?\n\nAre\tall\tpossible\tfailure\tscenarios\timplemented\tand\ttested\tusing\tchaos testing?",
      "content_length": 252,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 271,
      "content": "Failure\tDetection\tand\tRemediation\n\nAre\tthere\tstandardized\tprocesses\tacross\tthe\tengineering\torganization(s)\tfor handling\tincidents\tand\toutages?\n\nHow\tdo\tfailures\tand\toutages\tof\tthis\tmicroservice\timpact\tthe\tbusiness?\n\nAre\tthere\tclearly\tdefined\tlevels\tof\tfailure?\n\nAre\tthere\tclearly\tdefined\tmitigation\tstrategies?\n\nDoes\tthe\tteam\tfollow\tthe\tfive\tstages\tof\tincident\tresponse\twhen\tincidents and\toutages\toccur?",
      "content_length": 402,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 272,
      "content": "Monitoring",
      "content_length": 10,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 273,
      "content": "Key\tMetrics\n\nWhat\tare\tthis\tmicroservice’s\tkey\tmetrics?\n\nWhat\tare\tthe\thost\tand\tinfrastructure\tmetrics?\n\nWhat\tare\tthe\tmicroservice-level\tmetrics?\n\nAre\tall\tthe\tmicroservice’s\tkey\tmetrics\tmonitored?",
      "content_length": 194,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 274,
      "content": "Logging\n\nWhat\tinformation\tdoes\tthis\tmicroservice\tneed\tto\tlog?\n\nDoes\tthis\tmicroservice\tlog\tall\timportant\trequests?\n\nDoes\tthe\tlogging\taccurately\treflect\tthe\tstate\tof\tthe\tmicroservice\tat\tany given\ttime?\n\nIs\tthis\tlogging\tsolution\tcost-effective\tand\tscalable?",
      "content_length": 254,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 275,
      "content": "Dashboards\n\nDoes\tthis\tmicroservice\thave\ta\tdashboard?\n\nIs\tthe\tdashboard\teasy\tto\tinterpret?\tAre\tall\tkey\tmetrics\tdisplayed\ton\tthe dashboard?\n\nCan\tI\tdetermine\twhether\tor\tnot\tthis\tmicroservice\tis\tworking\tcorrectly\tby looking\tat\tthe\tdashboard?",
      "content_length": 237,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 276,
      "content": "Alerting\n\nIs\tthere\tan\talert\tfor\tevery\tkey\tmetric?\n\nAre\tall\talerts\tdefined\tby\tgood,\tsignal-providing\tthresholds?\n\nAre\talert\tthresholds\tset\tappropriately\tso\tthat\talerts\twill\tfire\tbefore\tan\toutage occurs?\n\nAre\tall\talerts\tactionable?\n\nAre\tthere\tstep-by-step\ttriage,\tmitigation,\tand\tresolution\tinstructions\tfor each\talert\tin\tthe\ton-call\trunbook?",
      "content_length": 340,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 277,
      "content": "On-Call\tRotations\n\nIs\tthere\ta\tdedicated\ton-call\trotation\tresponsible\tfor\tmonitoring\tthis microservice?\n\nIs\tthere\ta\tminimum\tof\ttwo\tdevelopers\ton\teach\ton-call\tshift?\n\nAre\tthere\tstandardized\ton-call\tprocedures\tacross\tthe\tengineering organization?",
      "content_length": 243,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 278,
      "content": "Documentation\tand\tUnderstanding",
      "content_length": 31,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 279,
      "content": "Microservice\tDocumentation\n\nIs\tthe\tdocumentation\tfor\tall\tmicroservices\tstored\tin\ta\tcentralized,\tshared, and\teasily\taccessible\tplace?\n\nIs\tthe\tdocumentation\teasily\tsearchable?\n\nAre\tsignificant\tchanges\tto\tthe\tmicroservice\taccompanied\tby\tupdates\tto\tthe microservice’s\tdocumentation?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\ta\tdescription\tof\tthe microservice?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tarchitecture\tdiagram?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tcontact\tand\ton-call information?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tlinks\tto\timportant information?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tonboarding\tand development\tguide?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tinformation\tabout\tthe microservice’s\trequest\tflow,\tendpoints,\tand\tdependencies?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\ton-call\trunbook?\n\nDoes\tthe\tmicroservice’s\tdocumentation\tcontain\tan\tFAQ\tsection?",
      "content_length": 932,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 280,
      "content": "Microservice\tUnderstanding\n\nCan\tevery\tdeveloper\ton\tthe\tteam\tanswer\tquestions\tabout\tthe\tproduction- readiness\tof\tthe\tmicroservice?\n\nIs\tthere\ta\tset\tof\tprinciples\tand\tstandards\tthat\tall\tmicroservices\tare\theld\tto?\n\nIs\tthere\tan\tRFC\tprocess\tin\tplace\tfor\tevery\tnew\tmicroservice?\n\nAre\texisting\tmicroservices\treviewed\tand\taudited\tfrequently?\n\nAre\tarchitecture\treviews\theld\tfor\tevery\tmicroservice\tteam?\n\nIs\tthere\ta\tproduction-readiness\taudit\tprocess\tin\tplace?\n\nAre\tproduction-readiness\troadmaps\tused\tto\tbring\tthe\tmicroservice\tto\ta production-ready\tstate?\n\nDo\tthe\tproduction-readiness\tstandards\tdrive\tthe\torganization’s\tOKRs?\n\nIs\tthe\tproduction-readiness\tprocess\tautomated?",
      "content_length": 662,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 281,
      "content": "Glossary\n\nactionable\talert\n\nAn\talert\tthat,\twhen\ttriggered,\tcontains\ta\tstep-by-step\tprocess\tthat\tthe on-call\trotation\tcan\tfollow\tto\ttriage,\tmitigate,\tand\tresolve\tthe\talert.\n\nalerting\n\nThe\tpractice\tof\tnotifying\tan\ton-call\tdeveloper\t(or\tdevelopers)\twhen one\tof\ta\tservice’s\tkey\tmetrics\thas\treached\ta\tcritical\tor\twarning\talert threshold.\n\nalert\tthreshold\n\nStatic\tor\tdynamic\tquantities\tthat\tare\tset\tfor\teach\tkey\tmetric\tsignifying that\tthe\tkey\tmetric\tin\tquestion\tis\tat\ta\tnormal,\twarning,\tor\tcritical\tlevel; reaching\tthe\tthreshold\tshould\ttrigger\tan\tactionable\talert.\n\napplication\tplatform\tlayer\n\nThe\tthird\tlayer\tof\ta\tmicroservice\tecosystem,\tcontaining\tself-service internal\ttools,\tthe\tdevelopment\tenvironment,\ttest,\tpackage,\tbuild,\tand release\ttools,\tthe\tdeployment\tpipeline,\tmicroservice-level\tlogging,\tand microservice-level\tmonitoring.\n\napplication\tprogramming\tinterface\t(API)\n\nA\twell-defined\tclient-side\tinterface\tin\teach\tmicroservice\tthat\tallows other\tservices\tto\tinteract\twith\tit\tprogrammatically\tby\tsending\trequests to\tstatic\tendpoints.\n\narchitecture\tdiagram\n\nA\thigh-level\tvisual\trepresentation\tof\tthe\tarchitecture\tof\ta microservice.\n\narchitecture\treview\n\nAn\torganizational\tpractice\tand\tprocess\tfor\tevaluating,\tunderstanding, and\timproving\tthe\tarchitecture\tof\ta\tmicroservice.",
      "content_length": 1274,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 282,
      "content": "bare\tmetal\n\nThe\tterm\tused\tto\trefer\tto\tservers\towned,\trun,\tand\tmaintained\tby\tthe organization\titself,\tas\topposed\tto\thardware\trented\tfrom\tso-called\tcloud providers.\n\ncanary\n\nThe\tsecond\tstage\tof\tthe\tdeployment\tpipeline\tcontaining\ta\tsmall percentage\tof\tservers\thosting\tproduction\ttraffic\t(2%–5%\tof\tproduction traffic);\tused\tto\ttest\tnew\tbuilds\tthat\thave\tmade\tit\tthrough\tstaging before\tbeing\trolled\tout\tto\tall\tproduction\tservers.\n\ncandidate\tfor\tproduction\n\nA\tbuild\tthat\thas\tsuccessfully\tpassed\tall\tlint,\tunit,\tintegration,\tand\tend- to-end\ttests\tin\tthe\tdevelopment\tcycle\tand\tis\tready\tto\tbe\tintroduced into\tthe\tdeployment\tpipeline.\n\ncapacity\tplanning\n\nThe\torganizational\tpractice\tof\tplanned\tand\tscheduled\tresource allocation.\n\ncloud\tproviders\n\nCompanies\tsuch\tas\tAmazon\tWeb\tServices\t(AWS),\tGoogle\tCloud Platform\t(GCP),\tand\tMicrosoft\tAzure\tthat\tallow\thardware\tresources\tto be\trented\tand\teasily\taccessible\tover\tsecure\tnetworks.\n\ncode\ttesting\n\nTests\tthat\tcheck\tsyntax,\tstyle,\tindividual\tcomponents\tof\ta microservice,\thow\tthe\tcomponents\twork\ttogether,\tand\thow\tthe microservice\tperforms\twithin\tits\tcomplex\tdependency\tchains; comprised\tof\tlint\ttests,\tunit\ttests,\tintegration\ttests,\tand\tend-to-end tests.\n\ncommunication\tlayer\n\nThe\tsecond\tlayer\tof\tthe\tmicroservice\tecosystem;\tcontains\tthe\tnetwork, DNS,\tRPC\tframeworks,\tendpoints,\tmessaging,\tservice\tdiscovery, service\tregistry,\tand\tload\tbalancing.\n\nconcurrency\n\nApplications\tand\tmicroservices\tthat\thave\tconcurrency\tbreak\tup\teach task\tinto\tsmall\tpieces,\trather\tthan\thaving\tjust\tone\tprocess\tthat\tdoes\tall",
      "content_length": 1535,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 283,
      "content": "task\tinto\tsmall\tpieces,\trather\tthan\thaving\tjust\tone\tprocess\tthat\tdoes\tall of\tthe\twork;\tessential\tproperty\trequired\tfor\tscalability.\n\ncontinuous\tintegration\n\nA\tprocess\tthat\tautomatically\tintegrates,\ttests,\tpackages,\tand\tbuilds new\tchanges\tto\tcode\ton\ta\tscheduled\tand\tcontinuous\tbasis.\n\nConway’s\tLaw\n\nAn\tinformal\t“law”\tof\tsoftware\tarchitecture\tnamed\tafter\tMelvin Conway\tstating\tthat\tthe\tarchitectural\tstructure\tof\ta\tcompany’s products\tis\tdetermined\tby\tthe\tcommunication\tpatterns\tof\tthe organization;\tsee\talso\tInverse\tConway’s\tLaw.\n\ndashboard\n\nA\tvisual,\tgraphical\tdisplay\ton\tan\tinternal\twebsite\tcontaining\tgraphs and\tcharts\tof\tthe\thealth,\tstatus,\tbehavior,\tand\tkey\tmetrics\tof\tan application,\tmicroservice,\tor\tsystem.\n\ndecommissioning\n\nThe\tprocess\tof\tretiring\ta\tmicroservice\tand/or\tits\tAPI\tendpoints\tso\tthat they\twill\tno\tlonger\tbe\tavailable\tfor\tuse\tby\tupstream\t(client)\tservices.\n\ndedicated\thardware\n\nServers\tor\tdatabases\tthat\thost\tor\tstore\tdata\tfor\tonly\tone\tapplication, microservice,\tor\tsystem.\n\ndefensive\tcaching\n\nThe\tpractice\tof\tcaching\tthe\tdata\tfrom\ta\tmicroservice’s\tdownstream dependencies\tto\tprotect\tthat\tmicroservice\tfrom\tsuffering\tstability\tand reliability\tissues\tif\tthe\tdownstream\tdependency\tis\tunavailable.\n\ndependency\n\nA\tname\tfor\tany\tother\tmicroservice\tthat\ta\tmicroservice\tmakes\trequests to;\talso\trefers\tto\tlibraries\tthat\ta\tmicroservice\tdepends\ton;\talso\tused\tto refer\tto\texternal\t(third-party)\tservices\tthat\ta\tmicroservice\tdepends\ton.\n\ndeployment\n\nThe\tprocess\tthrough\twhich\ta\tnew\tbuild\tis\tsent\tto\tservers\tand\tthe service\tis\tstarted.\n\ndeployment\tpipeline",
      "content_length": 1560,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 284,
      "content": "The\tprocess\tof\tdeploying\tnew\tbuilds\tin\tthree\tstages\t(to\tstaging,\tto canary,\tand\tthen\tto\tproduction).\n\ndeprecation\n\nWhen\ta\tmicroservice\tand/or\tits\tendpoints\tare\tno\tlonger\tbeing maintained\tby\ta\tdevelopment\tteam\tand\tno\tlonger\trecommended\tfor use\tto\tupstream\t(client)\tservices.\n\ndeveloper\tvelocity\n\nThe\tspeed\tat\twhich\tdevelopment\tteams\tare\table\tto\titerate,\troll\tout\tnew features,\tand\tdeploy.\n\ndevelopment\tcycle\n\nA\tname\tfor\tthe\toverall\tprocess\tassociated\twith\tdeveloping\tan application,\tmicroservice,\tor\tsystem.\n\ndevelopment\tenvironment\n\nA\tsystem\tcontaining\ttools,\tenvironment\tvariables,\tand\tprocesses\tused by\tdevelopers\tto\twrite\tcode\tfor\tmicroservices.\n\nendpoint\n\nIn\tthis\tbook,\tthis\tterm\trefers\tto\tthe\tstatic\tAPI\tendpoints\t(HTTP,\tThrift, etc.)\tof\tmicroservices\tthat\trequests\tare\trouted\tto.\n\nend-to-end\ttests\n\nTests\tthat\tcheck\twhether\tchanges\tto\tan\tapplication,\tservice,\tor\tsystem work\tas\texpected\tby\ttesting\tendpoints,\tclients,\tdependencies,\tand\tany databases.\n\nexternal\tfailures\n\nFailures\twithin\tthe\tlower\tthree\tlayers\tof\tthe\tmicroservice\tecosystem stack.\n\nfull\tstaging\n\nWhen\tthe\tstaging\tphase\tof\tthe\tdeployment\tpipeline\truns\tas\ta complete\tmirror\tcopy\tof\tproduction.\n\ngrowth\tscale\n\nA\tname\tgiven\tto\tthe\tmeasure\tof\thow\tan\tapplication,\tmicroservice,\tor system\tscales;\tevery\tapplication,\tmicroservice,\tand\tsystem\thas\ttwo",
      "content_length": 1313,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 285,
      "content": "types\tof\tgrowth\tscales,\ta\tquantitative\tgrowth\tscale\tand\ta\tqualitative growth\tscale.\n\nhardware\tlayer\n\nThe\tfirst\tlayer\tof\tthe\tmicroservice\tecosystem;\tcontains\tphysical servers,\toperating\tsystems,\tresource\tisolation\tand\tabstraction, configuration\tmanagement,\thost-level\tmonitoring,\tand\thost-level logging.\n\nhardware\tresources\n\nSee\tresources.\n\nhorizontal\tscaling\n\nWhen\tan\tapplication\tor\tsystem\tis\tscaled\tby\tadding\tmore\tservers\t(or other\thardware\tresources).\n\nhost\tand\tinfrastructure\tmetrics\n\nKey\tmetrics\tof\tthe\tlower\tthree\tlayers\t(hardware\tlayer, communication\tlayer,\tand\tapplication\tplatform\tlayer)\tof\tthe microservice\tecosystem.\n\nhost\tparity\n\nWhen\ttwo\tseparate\tenvironments,\tsystems,\tor\tphases\tof\tthe deployment\tpipeline\t(e.g.,\tstaging\tversus\tproduction)\thave\tthe\tsame number\tof\thosts\tin\teach\tenvironment,\tsystem,\tdatacenter,\tor deployment\tphase.\n\ninfrastructure\n\nA\tterm\tused\tin\tthis\tbook\tto\trefer\tto\teither\tthe\tcombination\tof\tthe application\tplatform\tlayer\tand\tthe\tcommunication\tlayer\tor\tthe\tthree lowest\tlayers\tof\tthe\tmicroservice\tecosystem\t(hardware\tlayer, communication\tlayer,\tand\tapplication\tplatform\tlayer.\n\nintegration\ttests\n\nThese\ttest\thow\tthe\tcomponents\tof\tthe\tmicroservice\t(which\tare\ttested individually\tusing\tunit\ttests)\twork\ttogether.\n\ninternal\tfailures\n\nFailures\twithin\ta\tmicroservice.",
      "content_length": 1296,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 286,
      "content": "Inverse\tConway’s\tLaw\n\nThe\tinverse\tof\tConway’s\tLaw,\twhich\tstates\tthat\tthe\torganizational structure\tof\ta\tcompany\tis\tdetermined\tby\tthe\tarchitecture\tof\tits product(s).\n\nkey\tmetrics\n\nProperties\tof\tan\tapplication,\tmicroservice,\tor\tsystem\tthat\tare\tnecessary and\tsufficient\tfor\tdescribing\tthe\thealth,\tstatus,\tand\tbehavior\tof\tthe application,\tmicroservice,\tor\tsystem.\n\nlint\ttests\n\nTests\tthat\tcheck\tsyntax\tand\tstyle\terrors;\tpart\tof\ta\tcode-testing\tsuite.\n\nload\tbalancing\n\nA\tdevice\tor\tservice\tthat\tdistributes\ttraffic\tacross\tmultiple\tservers\tor microservices.\n\nlogging\n\nThe\tpractice\tof\trecording\tthe\tevents\tof\tan\tapplication,\tmicroservice,\tor system.\n\nmicroservice\n\nA\tsmall,\treplaceable,\tmodular,\tindependently\tdeveloped\tand independently\tdeployed\tsoftware\tapplication\tthat\tis\tresponsible\tfor performing\tone\tfunction\twithin\ta\tlarger\tsystem.\n\nmicroservice\tecosystem\n\nA\tterm\tfor\tthe\toverall\tsystem\tcontaining\tthe\tmicroservices\tand infrastructure,\twhich\tcan\tbe\tdivided\tinto\tfour\tlayers\tcontaining\tthe microservices,\tthe\tapplication\tplatform,\tthe\tcommunication\tlayer,\tand the\thardware\tlayer.\n\nmicroservice\tlayer\n\nThe\tfourth\tlayer\tof\tthe\tmicroservice\tecosystem;\tcontains\tthe microservices\tand\tall\tmicroservice-specific\tconfigurations.\n\nmicroservice\tmetrics\n\nThe\tkey\tmetrics\tunique\tto\teach\tmicroservice\tin\tthe\tmicroservice layer\tof\tthe\tmicroservice\tecosystem.",
      "content_length": 1341,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 287,
      "content": "monitoring\n\nThe\tpractice\tof\twatching\tand\ttracking\tthe\tstatus,\thealth,\tand\tbehavior of\tan\tapplication\tor\tmicroservice’s\tkey\tmetrics\tover\ta\tlong\tperiod\tof time.\n\nmonolith\n\nLarge,\tcomplex\tsoftware\tsystems\tthat\tare\tmaintained,\trun,\tand deployed\tas\tone\tsingle\tapplication\tcontaining\tall\tapplication-related code\tand\tfeatures.\n\non-call\trotation\n\nA\tgroup\tof\tdevelopers\tor\toperations\tengineers\tthat\tare\tresponsible\tfor responding\tto,\tmitigating,\tand\tresolving\tan\tapplication,\tmicroservice, or\tsystem’s\talerts,\tincidents,\tand\tfailures.\n\non-call\trunbook\n\nA\tsection\tof\tmicroservice\tdocumentation\tthat\tcontains\tgeneral\tincident and\toutage\tresponse\tprocedures,\tstep-by-step\tinstructions\ton\thow\tto triage,\tmitigate,\tand\tresolve\teach\talert,\tand\tgeneral\ttips\ton\thow\tto debug\tand\ttroubleshoot\tthe\tmicroservice;\tused\tby\tthe\tdevelopers\tor operational\tengineers\twho\tare\ton\tcall\tfor\tthe\tservice.\n\noperational\tengineers\n\nEngineers\twhose\tprimary\tresponsibilities\tare\tfor\tthe\toperational\ttasks associated\twith\trunning\ta\tsoftware\tapplication,\tincluding\tsystem administrators,\tTechOps,\tDevOps,\tand\tsite\treliability\tengineers.\n\noutage\n\nA\tperiod\tof\ttime\tduring\twhich\tan\tapplication,\tmicroservice,\tor\tother system\tis\tinaccessible\t(experiencing\tdowntime).\n\npartial\tstaging\n\nWhen\tthe\tstaging\tphase\tof\tthe\tdeployment\tpipeline\tis\tnot\ta\tcomplete mirror\tcopy\tof\tproduction,\tbut\twhere\tmicroservices\tin\tthe\tstaging environment\ttalk\tto\tthe\tproduction\tversions\tof\tclients,\tdependencies, and\tdatabases.\n\npartitioning\n\nThe\tprocess\tand\tarchitectural\tpractice\tof\tbreaking\teach\ttask\tup\tinto smaller\tpieces\tthat\tcan\tbe\tprocessed\tin\tparallel;\tessential\tproperty\tof",
      "content_length": 1618,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 288,
      "content": "smaller\tpieces\tthat\tcan\tbe\tprocessed\tin\tparallel;\tessential\tproperty\tof scalability.\n\nproduction\n\nThe\tfinal\tstage\tof\tthe\tdeployment\tpipeline\twhere\tall\treal-world\ttraffic is\thosted;\talso\tused\tto\trefer\tto\treal-world\ttraffic\tand\tthe\tenvironment hosting\tthat\ttraffic.\n\nproduction-readiness\taudit\n\nThe\tprocess\tof\tevaluating\ta\tmicroservice’s\tproduction-readiness\tusing a\tproduction-readiness\tchecklist.\n\nproduction-readiness\tautomation\n\nA\tmethod\tfor\tensuring\tthat\tmicroservices\tmeet\tthe\tproduction- readiness\tstandards\tby\tautomatically\tand\tprogrammatically\tchecking whether\teach\tmicroservice\tadheres\tto\tthe\trequirements\tassociated\twith each\tproduction-readiness\tstandard.\n\nproduction-readiness\tchecklist\n\nA\tlist\tof\tproduction-readiness\tstandards,\talong\twith\tspecific requirements\tthat\tcan\tbe\timplemented\tto\tachieve\teach\tproduction- readiness\tstandard.\n\nproduction-readiness\troadmap\n\nA\tdocument\tused\tas\tpart\tof\tthe\tproduction-readiness\tprocess\tthat details\tthe\tsteps\tthat\tneed\tto\tbe\ttaken\tto\tbring\ta\tmicroservice\tto\ta production-ready\tstate.\n\nproduction-readiness\tscore\n\nA\tscore\tassigned\tto\tmicroservices\tthat\tis\tcalculated\tbased\ton\thow\twell the\tmicroservice\tin\tquestion\tmeets\tthe\trequirements\tassociated\twith each\tproduction-readiness\tstandard.\n\npublish–subscribe\tmessaging\n\nAn\tasynchronous\tmessaging\tparadigm\tin\twhich\tclients\tsubscribe\tto\ta topic,\tand\twill\treceive\ta\tmessage\twhenever\ta\tpublisher\tpublishes\ta message\tto\tthat\ttopic.\n\nqualitative\tgrowth\tscale\n\nA\thigh-level,\tqualitative\tmeasure\tof\thow\tan\tapplication,\tmicroservice,",
      "content_length": 1523,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 289,
      "content": "or\tsystem\tscales\tthat\tis\ttied\tto\thigh-level\tbusiness\tmetrics;\tone\ttype\tof growth\tscale.\n\nquantitative\tgrowth\tscale\n\nA\tquantitative\tmeasure\tof\thow\tan\tapplication,\tmicroservice,\tor\tsystem scales;\tobtained\tby\ttranslating\tthe\tqualitative\tgrowth\tscale\tinto\ta measurable\tquantity;\tone\ttype\tof\tgrowth\tscale;\tusually\texpressed\tin terms\tof\trequests\tper\tsecond,\tqueries\tper\tsecond,\tor\ttransactions\tper second\tthat\tthe\tapplication,\tmicroservice,\tor\tsystem\tcan\tprocess.\n\nremote\tprocedure\tcall\t(RPC)\n\nA\tcall\tmade\tover\tthe\tnetwork\tto\ta\tremote\tserver\tthat\tis\tdesigned\tto look\tand\tbehave\texactly\tlike\ta\tlocal\tprocedure\tcall;\tused\textensively\tin microservice\tarchitecture\tand\tin\tall\tlarge-scale\tdistributed\tsystems.\n\nrepository\n\nA\tcentralized\tarchive\twhere\tall\tthe\tsource\tcode\tfor\tan\tapplication\tor service\tis\tstored.\n\nrequest\tflow\n\nA\tname\tfor\tthe\tpattern\tof\tsteps\tthat\tare\ttaken\twhen\ta\trequest\tis\tmade from\tone\tmicroservice\tto\tanother.\n\nrequest–response\tmessaging\n\nA\tmessaging\tparadigm\tin\twhich\ta\tclient\twill\tsend\ta\trequest\tto\ta microservice\t(or\tmessage\tbroker)\twhich\twill\trespond\twith\tthe information\trequested.\n\nresource\tallocation\n\nDividing\tavailable\thardware\tresources\tacross\tmicroservice ecosystems.\n\nresource\tbottlenecks\n\nScalability\tlimitations\tcaused\tby\tthe\tway\tan\tapplication,\tmicroservice, or\tsystem\tuses\tits\tresources.\n\nresource\trequirements\n\nThe\tresources\trequired\tby\tan\tapplication,\tmicroservice,\tor\tsystem.\n\nresources",
      "content_length": 1415,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 290,
      "content": "An\tabstraction\tof\tvarious\tperformance\tproperties\tof\thardware (servers),\tlike\tCPU,\tmemory,\tnetwork,\tetc.\n\nself-service\tinternal\ttools\n\nStandardized\ttools\tin\tthe\tapplication\tplatform\tlayer\tof\ta microservice\tecosystem\tthat\tare\tbuilt\tto\thelp\tdevelopers\twork\twith the\tlower\tlayers\tof\tthe\tmicroservice\tecosystem\tto\tdevelop,\tdeploy,\tand run\ttheir\tmicroservices.\n\nservice\tdiscovery\n\nA\tsystem\tthat\tdiscovers\twhere\tall\tinstances\tof\ta\tmicroservice\tare hosted,\tensuring\tthat\ttraffic\tis\trouted\tto\tthe\tappropriate\tservers\thosting the\tapplication.\n\nservice\tregistry\n\nA\tdatabase\tthat\ttracks\tall\tports\tand\tIPs\tall\tof\tmicroservices\tand systems\twithin\ta\tmicroservice\tecosystem.\n\nshared\thardware\n\nServers\tor\tdatabases\tthat\tare\tused\tto\thost\tor\tstore\tdata\tfor\tmore\tthan one\tapplication,\tmicroservice,\tor\tsystem\tsimultaneously.\n\nsingle\tpoint\tof\tfailure\t(SPOF)\n\nA\tpiece\tof\tan\tapplication,\tmicroservice,\tor\tsystem\tthat,\tif\tit\tfails,\twill bring\tdown\tthe\tapplication,\tmicroservice,\tor\tsystem.\n\nsite\treliability\tengineering\t(SRE)\n\nOperational\tengineers\tresponsible\tin\tlarge\tcompanies\tfor\tthe\treliability of\tthe\tapplications,\tmicroservices,\tor\tsystems\twithin\tthe\tengineering organization(s).\n\nsplitting\tthe\tmonolith\n\nThe\tname\tgiven\tto\tthe\tprocess\tof\tbreaking\ta\tlarge\tmonolithic application\tinto\ta\tset\tof\tmicroservices.\n\nstaging\n\nThe\tfirst\tphase\tof\ta\tdeployment\tpipeline\tthat\tdoes\tnot\tserve production\ttraffic\tand\tis\tused\tto\ttest\tnew\tbuilds;\tusually\ta\tmirror\tcopy of\tproduction;\tmay\tbe\timplemented\tas\teither\tfull\tstaging\tor\tpartial staging.",
      "content_length": 1510,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 291,
      "content": "three-tier\tarchitecture\n\nA\tbasic\tarchitecture\tfor\tsoftware\tapplications\tconsisting\tof\ta\tfrontend (client-side)\tpiece,\ta\tbackend\tpiece,\tand\tsome\ttype\tof\tdatastore.\n\nunit\ttests\n\nSmall,\tindependent\ttests\tthat\trun\tover\tsmall\tpieces\t(or\tunits)\tor\ta microservice’s\tcode;\tpart\tof\tcode\ttesting.\n\nvertical\tscaling\n\nWhen\tan\tapplication\tor\tsystem\tis\tscaled\tby\tincreasing\tthe\tresources (CPU,\tRAM)\tof\teach\thost\tthat\tthe\tapplication\tor\tsystem\tis\trunning\ton.",
      "content_length": 443,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 292,
      "content": "Index",
      "content_length": 5,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 293,
      "content": "A\n\nalerts,\tMonitoring,\tPrinciples\tof\tMicroservice\tMonitoring,\tAlerting- Handling\tAlerts,\tAlerting\n\nApache\tKafka,\tRPCs,\tendpoints,\tand\tmessaging\n\nApache\tMesos,\tEfficient\tUse\tof\tResources,\tResource\tBottlenecks\n\nApache\tThrift\tendpoints,\tMicroservice\tArchitecture,\tRPCs,\tendpoints, and\tmessaging\n\nAPI\t(application\tprogramming\tinterface)\tendpoints,\tMicroservice Architecture-Microservice\tArchitecture\n\nmessaging\tto,\tRPCs,\tendpoints,\tand\tmessaging\n\napplication\tarchitectures,\tFrom\tMonoliths\tto\tMicroservices-From Monoliths\tto\tMicroservices\n\napplication\tplatform,\tLayer\t3:\tThe\tApplication\tPlatform-Logging\tand monitoring,\tCommunication-Level\tand\tApplication\tPlatform–Level Failures,\tCommunication-Level\tand\tApplication\tPlatform–Level Failures\n\napplication\tscalability,\tFrom\tMonoliths\tto\tMicroservices-From Monoliths\tto\tMicroservices\n\narchitecture\tdiagrams,\tArchitecture\tDiagram\n\narchitecture\treviews,\tPreface,\tArchitecture\tReviews-Architecture Reviews\n\naudits,\tproduction-readiness,\tProduction-Readiness\tAudits\n\nautomation,\tproduction-readiness,\tProduction-Readiness\tAutomation- Production-Readiness\tAutomation",
      "content_length": 1103,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 294,
      "content": "availability,\tAvailability:\tThe\tGoal\tof\tStandardization-Production- Readiness\tStandards\n\nAzure,\tLayer\t1:\tHardware",
      "content_length": 113,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 295,
      "content": "B\n\nbad\tdeployments,\tCommon\tFailures\tAcross\tan\tEcosystem\n\nbare\tmetal,\tLayer\t1:\tHardware\n\nbottlenecks,\tresource,\tResource\tAwareness,\tResource\tBottlenecks\n\nbottlenecks,\tscalability,\tResource\tBottlenecks\n\nBrooks,\tFrederick,\tOrganizational\tChallenges,\tImplementing Production-Readiness",
      "content_length": 280,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 296,
      "content": "C\n\ncaching,\tdefensive,\tDependencies\n\ncanary\tenvironment,\tCanary-Canary\n\ncandidates\tfor\tproduction,\tStaging\n\ncapacity\tplanning,\tCapacity\tPlanning-Capacity\tPlanning,\tCapacity Planning\n\ncatastrophe-preparedness,\tFault\tTolerance\tand\tCatastrophe- Preparedness-Performance\n\n(see\talso\tfault\ttolerance)\n\nCelery,\tRPCs,\tendpoints,\tand\tmessaging,\tAvoiding\tSingle\tPoints\tof Failure\n\nCentOS,\tLayer\t1:\tHardware\n\nchaos\ttesting,\tFault\tTolerance\tand\tCatastrophe-Preparedness, Principles\tof\tBuilding\tFault-Tolerant\tMicroservices,\tResiliency Testing,\tChaos\tTesting-Chaos\tTesting\n\nchecklists\n\nfor\tevaluation,\tEvaluate\tYour\tMicroservice-Microservice Understanding\n\nfor\tproduction-readiness,\tProduction-Readiness\tChecklist-A Production-Ready\tService\tIs\tDocumented\tand\tUnderstood\n\ncircuit\tbreakers,\tRouting\tand\tDiscovery\n\ncloud\tproviders,\tLayer\t1:\tHardware\n\ncode\tcomments,\tMicroservice\tDocumentation",
      "content_length": 876,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 297,
      "content": "code\treviews,\tThe\tDevelopment\tCycle,\tCommon\tFailures\tAcross\tan Ecosystem\n\ncode\ttesting,\tFault\tTolerance\tand\tCatastrophe-Preparedness, Principles\tof\tBuilding\tFault-Tolerant\tMicroservices,\tCode\tTesting- Automating\tcode\ttests\n\ncommunication,\tLayer\t2:\tCommunication-Service\tdiscovery,\tservice registry,\tand\tload\tbalancing\n\nRPCs,\tendpoints,\tand\tmessaging,\tRPCs,\tendpoints,\tand\tmessaging\n\nservice\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing,\tService discovery,\tservice\tregistry,\tand\tload\tbalancing-Service\tdiscovery, service\tregistry,\tand\tload\tbalancing\n\ncommunication\tparadigms,\tRPCs,\tendpoints,\tand\tmessaging\n\ncommunication-level\tfailures,\tCommunication-Level\tand\tApplication Platform–Level\tFailures-Communication-Level\tand\tApplication Platform–Level\tFailures\n\ncompany\treorganization\tfor\tmicroservice\tadoption,\tFrom\tMonoliths\tto Microservices\n\ncompetition\tfor\tresources,\tCompetition\tfor\tResources\n\nconcurrency,\tFrom\tMonoliths\tto\tMicroservices\n\nconfiguration\tmanagement,\tSelf-service\tinternal\tdevelopment\ttools\n\nconfiguration\tmanagement\ttools,\tLayer\t1:\tHardware\n\ncontainerization,\tEfficient\tUse\tof\tResources\n\nConway’s\tLaw,\tThe\tInverse\tConway’s\tLaw\n\n(see\talso\tInverse\tConway’s\tLaw)\n\ncoordination\tof\tincident\tresponse,\tCoordination\n\nCPU\trequirements,\tResource\tRequirements",
      "content_length": 1269,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 298,
      "content": "D\n\ndashboards,\tMonitoring,\tCanary,\tPrinciples\tof\tMicroservice Monitoring,\tDashboards-Dashboards,\tDashboards\n\ndata\tstorage,\tMicroservice\tArchitecture\n\nchallenges\tof,\tDatabase\tChallenges\tin\tMicroservice\tArchitecture\n\nchoices\tin,\tDatabase\tChoice\tin\tMicroservice\tEcosystems-Database Choice\tin\tMicroservice\tEcosystems\n\nscalability\tof,\tScalability,\tScalable\tData\tStorage-Database Challenges\tin\tMicroservice\tArchitecture,\tScalable\tData\tStorage\n\ndatabase\tconnection\tlimitations,\tDatabase\tChallenges\tin\tMicroservice Architecture\n\nDebian,\tLayer\t1:\tHardware\n\ndebugging\tlogs,\tLogging\n\ndecommissioning,\tDeprecation\tand\tDecommissioning,\tDeprecation\tand Decommissioning\n\ndependencies,\tDependencies-Dependencies,\tDependencies\n\ndocumentation,\tRequest\tFlows,\tEndpoints,\tand\tDependencies\n\nfailures,\tDependency\tFailures-Dependency\tFailures\n\nscaling,\tScalability,\tDependency\tScaling-Dependency\tScaling, Dependency\tScaling\n\ndependency\tchains,\tPrinciples\tof\tBuilding\tFault-Tolerant Microservices\n\ndeployment\tfailures,\tCommon\tFailures\tAcross\tan\tEcosystem",
      "content_length": 1030,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 299,
      "content": "deployment\tpipeline,\tDeployment\tpipeline,\tThe\tDeployment\tPipeline- Enforcing\tStable\tand\tReliable\tDeployment,\tThe\tDeployment\tPipeline\n\ncanary\tenvironment,\tCanary-Canary\n\nenforcing\tstable\tand\treliable\tdeployment,\tEnforcing\tStable\tand Reliable\tDeployment-Enforcing\tStable\tand\tReliable\tDeployment\n\nload\ttesting\tin,\tRunning\tload\ttests\tin\tstaging\tand\tproduction\n\nproduction,\tProduction\n\nstaging\tenvironment,\tStaging-Partial\tstaging\n\ndeprecation\tand\tdecommissioning,\tDeprecation\tand\tDecommissioning, Deprecation\tand\tDecommissioning\n\ndesign\treviews,\tCommon\tFailures\tAcross\tan\tEcosystem\n\ndevelopment\tcycle,\tThe\tdevelopment\tcycle,\tThe\tDevelopment\tCycle- The\tDevelopment\tCycle,\tThe\tDevelopment\tCycle\n\ndevelopment\tenvironments,\tThe\tdevelopment\tcycle\n\nDocker,\tResource\tBottlenecks\n\ndocumentation,\tDocumentation-Implementing\tProduction-Readiness, Documentation\tand\tUnderstanding-Microservice\tUnderstanding,\tA Production-Ready\tService\tIs\tDocumented\tand\tUnderstood, Microservice\tDocumentation\n\narchitecture\tdiagram,\tArchitecture\tDiagram\n\ncontact\tand\ton-call\tinformation,\tContact\tand\tOn-Call\tInformation\n\ndescription\tof\tservice,\tDescription\n\nFAQ\tsection,\tFAQ\n\nlinks\tto\trepository,\tLinks\n\non-call\trunbooks\tsection,\tOn-Call\tRunbooks-On-Call\tRunbooks",
      "content_length": 1230,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 300,
      "content": "onboarding\tand\tdevelopment\tsection,\tOnboarding\tand Development\tGuide\n\noverview,\tPrinciples\tof\tMicroservice\tDocumentation\tand Understanding-Principles\tof\tMicroservice\tDocumentation\tand Understanding\n\nrequest\tflow,\tendpoint,\tand\tdependencies\tinformation,\tRequest Flows,\tEndpoints,\tand\tDependencies\n\nupdating,\tMicroservice\tDocumentation\n\ndynamic\tscaling,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing",
      "content_length": 407,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 301,
      "content": "E\n\nElastic\tCompute\tCloud\t(AWS\tEC2),\tLayer\t1:\tHardware\n\nElastic\tLoad\tBalancer\t(AWS\tELB),\tService\tdiscovery,\tservice\tregistry, and\tload\tbalancing\n\nend-to-end\ttests,\tEnd-to-end\ttests\n\nendpoint\tdocumentation,\tRequest\tFlows,\tEndpoints,\tand\tDependencies\n\nEureka,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nevaluation\tchecklists,\tEvaluate\tYour\tMicroservice-Microservice Understanding\n\nexternal\tfailures,\tFault\tTolerance\tand\tCatastrophe-Preparedness",
      "content_length": 455,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 302,
      "content": "F\n\nfailures\t(see\tfault\ttolerance)\n\nFAQ\tdocumentation,\tFAQ\n\nfault\ttolerance,\tFault\tTolerance\tand\tCatastrophe-Preparedness- Performance,\tA\tProduction-Ready\tService\tIs\tFault\tTolerant\tand Prepared\tfor\tAny\tCatastrophe,\tAvoiding\tSingle\tPoints\tof\tFailure\n\napplication\tplatform-layer\tfailures,\tCommunication-Level\tand Application\tPlatform–Level\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\ncategorization\tof\tfailures,\tAppropriate\tCategorization- Categorizing\tincidents\tand\toutages\n\ncommon\tcross-ecosystem\tfailures,\tCommon\tFailures\tAcross\tan Ecosystem-Common\tFailures\tAcross\tan\tEcosystem\n\ncommunication-level\tfailures,\tCommunication-Level\tand Application\tPlatform–Level\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\ndependency\tfailures,\tDependency\tFailures-Dependency\tFailures\n\nfailure\tdetection\tand\tmitigation,\tMore\tWays\tto\tFail,\tPrinciples\tof Building\tFault-Tolerant\tMicroservices,\tAvoiding\tSingle\tPoints\tof Failure,\tFailure\tDetection\tand\tRemediation-Failure\tDetection\tand Remediation,\tFailure\tDetection\tand\tRemediation\n\nhardware\tfailures,\tHardware\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\nidentifying\tfailure\tscenarios,\tPrinciples\tof\tBuilding\tFault-Tolerant Microservices,\tCatastrophes\tand\tFailure\tScenarios\n\nincidents\tand\toutages,\tIncidents\tand\tOutages-Follow-up",
      "content_length": 1335,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 303,
      "content": "internal\t(microservice)\tfailures,\tInternal\t(Microservice)\tFailures\n\noverview\tof\tpotential\tfailures\tand\tcatastrophes,\tCatastrophes\tand Failure\tScenarios-Common\tFailures\tAcross\tan\tEcosystem\n\nprinciples\tof,\tFault\tTolerance\tand\tCatastrophe-Preparedness- Principles\tof\tBuilding\tFault-Tolerant\tMicroservices\n\nresiliency\ttesting,\tResiliency\tTesting-Chaos\tTesting\n\nreview\tquestions,\tEvaluate\tYour\tMicroservice\n\nsingle\tpoints\tof\tfailure,\tPrinciples\tof\tBuilding\tFault-Tolerant Microservices-Avoiding\tSingle\tPoints\tof\tFailure\n\nfollow-up,\tin\tincident\tresponse,\tFollow-up\n\nfull\tstaging,\tFull\tstaging-Full\tstaging,\tPartial\tstaging",
      "content_length": 616,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 304,
      "content": "G\n\nGitHub,\tThe\tdevelopment\tcycle\n\nGoogle\tCloud\tPlatform\t(GCP),\tLayer\t1:\tHardware\n\ngrowth\tscale,\tScalability,\tKnowing\tthe\tGrowth\tScale-The\tQuantitative Growth\tScale,\tCapacity\tPlanning,\tTraffic\tManagement,\tKnowing\tthe Growth\tScale",
      "content_length": 228,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 305,
      "content": "H\n\nHAProxy,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nhardware,\tLayer\t1:\tHardware-Layer\t1:\tHardware\n\nhardware\tfailures,\tHardware\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\nhardware\trequests\tplanning,\tCapacity\tPlanning\n\nhardware\tresource\tutilization,\tEfficient\tUse\tof\tResources\n\nhealth\tchecks,\tRouting\tand\tDiscovery\n\nhorizontal\tscaling,\tFrom\tMonoliths\tto\tMicroservices\n\nhost\tparity,\tStaging\n\nhost-level\tlogging,\tLayer\t1:\tHardware\n\nhost-level\tmetrics,\tKey\tMetrics-Key\tMetrics\n\nhost-level\tmonitoring,\tLayer\t1:\tHardware\n\nhotfixes,\tEnforcing\tStable\tand\tReliable\tDeployment\n\nHTTP+REST/THRIFT,\tRPCs,\tendpoints,\tand\tmessaging\n\nHypertext\tTransfer\tProtocol\t(HTTP),\tRPCs,\tendpoints,\tand\tmessaging",
      "content_length": 727,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 306,
      "content": "I\n\nimplenting\tproduction-readiness,\tImplementing\tProduction-Readiness- Implementing\tProduction-Readiness\n\nincident\tresponse,\tIncidents\tand\tOutages-Follow-up\n\ncategorizing\tincidents\tand\toutages,\tCategorizing\tincidents\tand outages-Categorizing\tincidents\tand\toutages\n\nfive\tstages\tof,\tThe\tFive\tStages\tof\tIncident\tResponse-Follow-up\n\nprocedures\tfor,\tFault\tTolerance\tand\tCatastrophe-Preparedness\n\ninfrastructure\tdevelopment,\tThe\tMicroservice\tEcosystem-Logging\tand monitoring\n\n(see\talso\tmicroservice\tecosystem)\n\napplication\tplatform,\tLayer\t3:\tThe\tApplication\tPlatform-Logging and\tmonitoring\n\ncommunication,\tLayer\t2:\tCommunication-Service\tdiscovery, service\tregistry,\tand\tload\tbalancing\n\nhardware,\tLayer\t1:\tHardware-Layer\t1:\tHardware\n\ninfrastructure\tmetrics,\tKey\tMetrics-Key\tMetrics\n\ninfrastructure\trequirements,\tFrom\tMonoliths\tto\tMicroservices\n\nintegration\ttests,\tIntegration\ttests\n\ninternal\tfailures,\tFault\tTolerance\tand\tCatastrophe-Preparedness, Internal\t(Microservice)\tFailures\n\nInverse\tConway’s\tLaw,\tThe\tInverse\tConway’s\tLaw-The\tInverse Conway’s\tLaw,\tDatabase\tChoice\tin\tMicroservice\tEcosystems",
      "content_length": 1090,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 307,
      "content": "J\n\nJSON\tdata,\tRPCs,\tendpoints,\tand\tmessaging",
      "content_length": 44,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 308,
      "content": "K\n\nkey\tfunctions\tidentification,\tFrom\tMonoliths\tto\tMicroservices\n\nkey\tmetrics,\tTraffic\tManagement,\tKey\tMetrics-Key\tMetrics, Dashboards-Dashboards,\tKey\tMetrics\n\nkey\tmetrics\tdisplays,\tMonitoring\n\n(see\talso\tdashboards)\n\nkey\tmetrics\tthresholds,\tSetting\tup\tEffective\tAlerting",
      "content_length": 270,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 309,
      "content": "L\n\nlinks\tdocumentation,\tLinks\n\nlint\ttests,\tLint\ttests\n\nLinux,\tLayer\t1:\tHardware\n\nload\tbalancing,\tFrom\tMonoliths\tto\tMicroservices,\tService\tdiscovery, service\tregistry,\tand\tload\tbalancing\n\nload\ttesting,\tFault\tTolerance\tand\tCatastrophe-Preparedness,\tThe Qualitative\tGrowth\tScale,\tTraffic\tManagement,\tPrinciples\tof\tBuilding Fault-Tolerant\tMicroservices,\tResiliency\tTesting,\tLoad\tTesting- Automating\tload\ttesting\n\nlogging,\tMonitoring,\tCanary,\tPrinciples\tof\tMicroservice\tMonitoring, Logging-Logging,\tLogging\n\nLRU\t(Least\tRecently\tUsed)\tcache,\tDependencies",
      "content_length": 548,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 310,
      "content": "M\n\nmessage\tbroker,\tRPCs,\tendpoints,\tand\tmessaging\n\nmessaging\ttechnologies,\tRPCs,\tendpoints,\tand\tmessaging\n\nmetrics\t(see\tkey\tmetrics)\n\nmicroservice\t(internal)\tfailures,\tInternal\t(Microservice)\tFailures\n\nmicroservice\tadoption\tfrom\tmonolith,\tFrom\tMonoliths\tto Microservices-From\tMonoliths\tto\tMicroservices\n\nmicroservice\tarchitecture,\tMicroservice\tArchitecture-Microservice Architecture\n\nAPI\tendpoints,\tMicroservice\tArchitecture-Microservice Architecture\n\nbenefits\tof,\tFrom\tMonoliths\tto\tMicroservices\n\nchallenges\tof,\tMicroservices\n\nconcept\tand\tgoals\tof,\tFrom\tMonoliths\tto\tMicroservices-From Monoliths\tto\tMicroservices\n\ndata\tstorage,\tMicroservice\tArchitecture\n\nremote\tprocedure\tcalls\t(RPCs),\tMicroservice\tArchitecture\n\ntrade-offs\tof\t(see\torganizational\tchallenges)\n\nmicroservice\tecosystem,\tThe\tMicroservice\tEcosystem-Layer\t4: Microservices\n\napplication\tplatform\tlayer,\tLayer\t3:\tThe\tApplication\tPlatform- Logging\tand\tmonitoring,\tCommunication-Level\tand\tApplication Platform–Level\tFailures-Communication-Level\tand\tApplication Platform–Level\tFailures",
      "content_length": 1042,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 311,
      "content": "common\tfailures\tacross,\tCommon\tFailures\tAcross\tan\tEcosystem- Common\tFailures\tAcross\tan\tEcosystem\n\ncommunication\tlayer,\tLayer\t2:\tCommunication-Service\tdiscovery, service\tregistry,\tand\tload\tbalancing,\tCommunication-Level\tand Application\tPlatform–Level\tFailures-Communication-Level\tand Application\tPlatform–Level\tFailures\n\ncreation\tof,\tFrom\tMonoliths\tto\tMicroservices\n\nhardware\tlayer,\tLayer\t1:\tHardware-Layer\t1:\tHardware, Hardware\tFailures-Communication-Level\tand\tApplication Platform–Level\tFailures\n\nmicroservice\tlayer,\tLayer\t4:\tMicroservices-Layer\t4: Microservices,\tDependency\tFailures-Dependency\tFailures\n\nmicroservice\tmetrics,\tKey\tMetrics-Key\tMetrics\n\nmicroservice\tversioning,\tLogging\n\nmicroservice-level\tlogging,\tLogging\tand\tmonitoring\n\nmicroservices\n\ncategorizing,\tCategorizing\tmicroservices\n\nstandards\tcreation\tfor,\tPreface-Preface\n\numbrella\tprinciples\tfor,\tPreface\n\nunderstanding\tof\t(see\tunderstanding\tof\tmicroservices)\n\nMicrosoft\tAzure,\tLayer\t1:\tHardware\n\nmigration\toptions,\tFrom\tMonoliths\tto\tMicroservices\n\nmitigation,\tMitigation\n\nmonitoring,\tMonitoring-Documentation,\tCanary,\tTraffic\tManagement, Monitoring-On-Call\tRotations,\tA\tProduction-Ready\tService\tIs Properly\tMonitored,\tKey\tMetrics-On-Call\tRotations",
      "content_length": 1213,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 312,
      "content": "alerts,\tAlerting-Handling\tAlerts\n\ndashboards,\tDashboards-Dashboards\n\nkey\tmetrics,\tKey\tMetrics-Key\tMetrics\n\nlogging,\tLogging-Logging\n\non-call\trotations,\tOn-Call\tRotations-On-Call\tRotations\n\noverview,\tPrinciples\tof\tMicroservice\tMonitoring-Principles\tof Microservice\tMonitoring\n\nmonolithic\tapplications\n\nchallenges\tof,\tMicroservices\n\nscalability\tissues\twith,\tFrom\tMonoliths\tto\tMicroservices\n\nsplitting\tinto\tmicroservices,\tFrom\tMonoliths\tto\tMicroservices- From\tMonoliths\tto\tMicroservices\n\nmonoliths,\tdefined,\tFrom\tMonoliths\tto\tMicroservices\n\nmultiple-location\tdatacenter\tissues,\tTraffic\tManagement\n\nThe\tMythical\tMan-Month\t(Brooks),\tOrganizational\tChallenges, Implementing\tProduction-Readiness",
      "content_length": 688,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 313,
      "content": "N\n\nNetflix\tEureka,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nNginx,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nNoSQL\tdatabases,\tDatabase\tChoice\tin\tMicroservice\tEcosystems",
      "content_length": 199,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 314,
      "content": "O\n\non-call\tinformation,\tContact\tand\tOn-Call\tInformation\n\non-call\trotations,\tPrinciples\tof\tMicroservice\tMonitoring,\tOn-Call Rotations-On-Call\tRotations,\tOn-Call\tRotations\n\non-call\trunbooks,\tHandling\tAlerts,\tOn-Call\tRunbooks-On-Call Runbooks\n\nonboarding\tand\tdevelopment\tinformation,\tOnboarding\tand Development\tGuide\n\noperating\tsystems,\tLayer\t1:\tHardware\n\noperational\tfailures,\tCommon\tFailures\tAcross\tan\tEcosystem\n\norganizational\tchallenges,\tOrganizational\tChallenges-Competition\tfor Resources\n\ncompetition\tfor\tresources,\tCompetition\tfor\tResources\n\nInverse\tConway’s\tLaw,\tThe\tInverse\tConway’s\tLaw-The\tInverse Conway’s\tLaw\n\nmitigating\tfailure,\tMore\tWays\tto\tFail\n\ntechnical\tsprawl,\tTechnical\tSprawl-Technical\tSprawl\n\norganizational\tunderstanding\t(see\tunderstanding\tof\tmicroservices)\n\noutages,\tIncidents\tand\tOutages-Follow-up",
      "content_length": 818,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 315,
      "content": "P\n\npartial\tstaging,\tPartial\tstaging-Partial\tstaging\n\npartitioning,\tFrom\tMonoliths\tto\tMicroservices\n\nperformance,\tPerformance,\tScalability\tand\tPerformance\n\n(see\talso\tscalability\tand\tperformance)\n\nPhabricator,\tThe\tdevelopment\tcycle\n\npostmortems,\tFollow-up\n\npredicting\tfailures,\tFault\tTolerance\tand\tCatastrophe-Preparedness- Performance\n\nproduction,\tProduction\n\nproduction-readiness\n\naudits\tand\troadmaps\tto,\tPreface,\tProduction-Readiness\tAudits, Production-Readiness\tRoadmaps\n\nautomation,\tProduction-Readiness\tAutomation-Production- Readiness\tAutomation\n\nchecklist\tfor,\tProduction-Readiness\tChecklist-A\tProduction- Ready\tService\tIs\tDocumented\tand\tUnderstood\n\ndefining,\tPreface\n\nstandardization\tfor\t(see\tstandardization)\n\nstandards\timplementation,\tImplementing\tProduction-Readiness- Implementing\tProduction-Readiness\n\nprogramming\tlanguage\tlimitations,\tProgramming\tLanguage Limitations-Programming\tLanguage\tLimitations",
      "content_length": 913,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 316,
      "content": "provisioning,\tLayer\t1:\tHardware\n\npublish–subscribe\t(pubsub)\tmessaging,\tRPCs,\tendpoints,\tand messaging",
      "content_length": 101,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 317,
      "content": "Q\n\nqualitative\tgrowth\tscale,\tThe\tQualitative\tGrowth\tScale-The\tQualitative Growth\tScale,\tCapacity\tPlanning,\tDependency\tScaling,\tTraffic Management\n\nquantitative\tgrowth\tscale,\tThe\tQuantitative\tGrowth\tScale,\tCapacity Planning,\tTraffic\tManagement\n\nqueries\tper\tsecond\t(QPS),\tThe\tQualitative\tGrowth\tScale",
      "content_length": 298,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 318,
      "content": "R\n\nRabbitMQ,\tRPCs,\tendpoints,\tand\tmessaging\n\nRAM\trequirements,\tResource\tRequirements\n\nREADME\tfiles,\tMicroservice\tDocumentation\n\nRedis,\tRPCs,\tendpoints,\tand\tmessaging,\tAvoiding\tSingle\tPoints\tof Failure\n\nrelational\tdatabases,\tDatabase\tChoice\tin\tMicroservice\tEcosystems\n\nreliability,\tReliability-Scalability,\tStability\tand\tReliability\n\n(see\talso\tstability\tand\treliability)\n\nremote\tprocedure\tcalls\t(RPCs),\tMicroservice\tArchitecture,\tRPCs, endpoints,\tand\tmessaging\n\nrepresentational\tstate\ttransfer\t(REST)\tendpoints,\tRPCs,\tendpoints, and\tmessaging\n\nrequest\tflow\tdocumentation,\tRequest\tFlows,\tEndpoints,\tand Dependencies\n\nrequest\tfor\tcomments\t(RFC),\tMicroservice\tUnderstanding\n\nrequests\tper\tsecond\t(RPS),\tThe\tQualitative\tGrowth\tScale\n\nrequest–response\tmessaging,\tRPCs,\tendpoints,\tand\tmessaging\n\nresiliency\ttesting,\tFault\tTolerance\tand\tCatastrophe-Preparedness, Principles\tof\tBuilding\tFault-Tolerant\tMicroservices,\tResiliency Testing-Chaos\tTesting,\tResiliency\tTesting\n\nresolution\tof\tincidents,\tResolution",
      "content_length": 996,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 319,
      "content": "resource\tallocation\tand\tdistribution,\tEfficient\tUse\tof\tResources\n\nresource\tawareness,\tResource\tAwareness-Resource\tBottlenecks, Resource\tAwareness\n\nresource\tbottlenecks,\tResource\tAwareness,\tResource\tBottlenecks\n\nresource\tisolation,\tLayer\t1:\tHardware\n\nresource\tmanagement,\tLayer\t1:\tHardware\n\nresource\trequirements,\tResource\tRequirements\n\nresource\tutilization,\tPerformance,\tEfficient\tUse\tof\tResources\n\nresources,\tcompetition\tfor,\tCompetition\tfor\tResources\n\nREST\tendpoints,\tMicroservice\tArchitecture\n\nrollbacks,\tautomated,\tCanary\n\nrouting\tand\tdiscovery,\tRouting\tand\tDiscovery,\tRouting\tand\tDiscovery\n\nrunbooks,\tHandling\tAlerts",
      "content_length": 621,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 320,
      "content": "S\n\nscalability,\tScalability-Fault\tTolerance\tand\tCatastrophe-Preparedness\n\n(see\talso\tscalability\tand\tperformance)\n\nin\ttraffic\thandling,\tScalability\n\nof\tapplications,\tFrom\tMonoliths\tto\tMicroservices-From\tMonoliths to\tMicroservices\n\nof\tdata\tstorage,\tScalability\n\nof\tdependencies,\tScalability\n\nof\tmessaging,\tRPCs,\tendpoints,\tand\tmessaging\n\ntesting\tfor\t(see\tload\ttesting)\n\nscalability\tand\tperformance,\tScalability\tand\tPerformance,\tA Production-Ready\tService\tIs\tScalable\tand\tPerformant,\tKnowing\tthe Growth\tScale-Scalable\tData\tStorage\n\nbottlenecks,\tResource\tBottlenecks\n\ncapacity\tplanning,\tCapacity\tPlanning-Capacity\tPlanning\n\ndata\tstorage,\tScalable\tData\tStorage-Database\tChallenges\tin Microservice\tArchitecture\n\ndependency\tscaling,\tDependency\tScaling-Dependency\tScaling\n\nefficient\tuse\tof\tresources,\tEfficient\tUse\tof\tResources\n\nprinciples\tof,\tPrinciples\tof\tMicroservice\tScalability\tand Performance-Principles\tof\tMicroservice\tScalability\tand Performance\n\nresource\tawareness,\tResource\tAwareness-Resource\tBottlenecks",
      "content_length": 1006,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 321,
      "content": "task\thandling\tand\tprocessing,\tTask\tHandling\tand\tProcessing- Handling\tRequests\tand\tProcessing\tTasks\tEfficiently\n\ntraffic\tmanagement,\tTraffic\tManagement-Traffic\tManagement\n\nscaling\n\ndynamic,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nhorizontal\tversus\tvertical,\tResource\tBottlenecks\n\nself-service\tinternal\tdevelopment\ttools,\tSelf-service\tinternal development\ttools-Self-service\tinternal\tdevelopment\ttools\n\nservice\tdiscovery,\tService\tdiscovery,\tservice\tregistry,\tand\tload balancing\n\nservice\tregistry,\tService\tdiscovery,\tservice\tregistry,\tand\tload\tbalancing\n\nservice-level\tagreements\t(SLAs),\tAvailability:\tThe\tGoal\tof Standardization,\tDependency\tFailures,\tIncidents\tand\tOutages\n\nSimian\tArmy,\tChaos\tTesting\n\nsingle\tpoints\tof\tfailure,\tPrinciples\tof\tBuilding\tFault-Tolerant Microservices-Avoiding\tSingle\tPoints\tof\tFailure,\tAvoiding\tSingle Points\tof\tFailure\n\nsite\treliability\tengineers\t(SREs),\tPreface,\tImplementing\tProduction- Readiness\n\nstability\tand\treliability,\tStability\tand\tReliability,\tA\tProduction-Ready Service\tIs\tStable\tand\tReliable,\tThe\tDevelopment\tCycle-Deprecation and\tDecommissioning\n\ndependencies,\tDependencies-Dependencies\n\ndeployment\tpipeline,\tThe\tDeployment\tPipeline-Enforcing\tStable and\tReliable\tDeployment\n\ndeprecation\tand\tdecommissioning,\tDeprecation\tand Decommissioning",
      "content_length": 1297,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 322,
      "content": "development\tcycle,\tThe\tDevelopment\tCycle-The\tDevelopment Cycle\n\nenforcement\tof,\tin\tdeployment,\tEnforcing\tStable\tand\tReliable Deployment-Enforcing\tStable\tand\tReliable\tDeployment\n\nimportance\tof,\tStability\tand\tReliability-Principles\tof\tBuilding Stable\tand\tReliable\tMicroservices\n\nprinciples\tof,\tPrinciples\tof\tBuilding\tStable\tand\tReliable Microservices-The\tDevelopment\tCycle\n\nrouting\tand\tdiscovery,\tRouting\tand\tDiscovery\n\nstability\tstandards,\tStability-Reliability\n\nstaging\tenvironment,\tStaging-Partial\tstaging\n\ncandidates\tfor\tproduction,\tStaging\n\nfull\tstaging,\tFull\tstaging-Full\tstaging,\tPartial\tstaging\n\npartial\tstaging,\tPartial\tstaging-Partial\tstaging\n\npurpose\tof,\tPartial\tstaging\n\nstandardization,\tProduction-Readiness\tStandards-Documentation\n\navailability\tmeasurement,\tAvailability:\tThe\tGoal\tof Standardization-Production-Readiness\tStandards\n\nchallenges\tof,\tThe\tChallenges\tof\tMicroservice\tStandardization- The\tChallenges\tof\tMicroservice\tStandardization\n\ndocumentation\tand\tunderstanding,\tDocumentation-Implementing Production-Readiness\n\nfault\ttolerance\tand\tcatastrophe-preparedness,\tFault\tTolerance and\tCatastrophe-Preparedness-Performance\n\nimportance\tand\timplementation\tof,\tImplementing\tProduction- Readiness-Implementing\tProduction-Readiness",
      "content_length": 1243,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 323,
      "content": "monitoring,\tMonitoring-Documentation\n\nperformance,\tPerformance\n\nreliability,\tReliability-Scalability\n\nscalability,\tScalability-Fault\tTolerance\tand\tCatastrophe- Preparedness\n\nstability,\tStability-Reliability",
      "content_length": 206,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 324,
      "content": "T\n\ntask\thandling\tand\tprocessing,\tTask\tHandling\tand\tProcessing-Handling Requests\tand\tProcessing\tTasks\tEfficiently,\tTask\tHandling\tand Processing\n\nefficiency\tin,\tHandling\tRequests\tand\tProcessing\tTasks\tEfficiently- Handling\tRequests\tand\tProcessing\tTasks\tEfficiently\n\nprogramming\tlanguage\tlimitations,\tProgramming\tLanguage Limitations-Programming\tLanguage\tLimitations\n\nteam\tcommunication\tand\tcollaboration,\tDependency\tScaling\n\nteam\tstructures,\tThe\tInverse\tConway’s\tLaw\n\ntechnical\tdebt\treduction,\tDocumentation\n\ntechnical\tsprawl,\tTechnical\tSprawl-Technical\tSprawl\n\ntest\tdata\thandling,\tDatabase\tChallenges\tin\tMicroservice\tArchitecture\n\ntest\ttenancy,\tPartial\tstaging,\tDatabase\tChallenges\tin\tMicroservice Architecture\n\ntesting\t(see\tresiliency\ttesting,\tcode\ttesting,\tload\ttesting,\tchaos\ttesting)\n\nthree-tier\tarchitecture,\tFrom\tMonoliths\tto\tMicroservices\n\ntraffic\tcycles,\tCanary\n\ntraffic\thandling,\tScalability\n\ntraffic\tmanagement,\tTraffic\tManagement-Traffic\tManagement,\tTraffic Management",
      "content_length": 977,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 325,
      "content": "U\n\nUbuntu,\tLayer\t1:\tHardware\n\nunderstanding\tof\tmicroservices,\tDocumentation-Implementing Production-Readiness,\tMicroservice\tUnderstanding-Production- Readiness\tAutomation,\tA\tProduction-Ready\tService\tIs\tDocumented and\tUnderstood,\tMicroservice\tUnderstanding\n\narchitecture\treviews,\tArchitecture\tReviews-Architecture\tReviews\n\noverview,\tPrinciples\tof\tMicroservice\tDocumentation\tand Understanding-Principles\tof\tMicroservice\tDocumentation\tand Understanding\n\nproduction-readiness\taudits,\tProduction-Readiness\tAudits\n\nproduction-readiness\tautomation,\tProduction-Readiness Automation-Production-Readiness\tAutomation\n\nproduction-readiness\troadmaps,\tProduction-Readiness\tRoadmaps\n\nunit\ttests,\tUnit\ttests\n\nuptime,\tAvailability:\tThe\tGoal\tof\tStandardization",
      "content_length": 742,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 326,
      "content": "V\n\nversion\tcontrol\tsystems,\tThe\tdevelopment\tcycle\n\nversioning,\tMicroservice\tArchitecture,\tLogging\n\nvertical\tscaling,\tFrom\tMonoliths\tto\tMicroservices",
      "content_length": 148,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 327,
      "content": "About\tthe\tAuthor\tSusan\tFowler\tis\ta\tsite\treliability\tengineer\tat\tUber Technologies,\twhere\tshe\tsplits\ther\ttime\tbetween\trunning\ta\tproduction-readiness initiative\tacross\tall\tUber\tmicroservices\tand\tembedding\twithin\tbusiness-critical teams\tto\tbring\ttheir\tservices\tto\ta\tproduction-ready\tstate.\tShe\tworked\ton application\tplatforms\tand\tinfrastructure\tat\tseveral\tsmall\tstartups\tbefore\tjoining Uber,\tand\tbefore\tthat,\tstudied\tparticle\tphysics\tat\tPenn,\twhere\tshe\tsearched\tfor supersymmetry\tand\tdesigned\thardware\tfor\tthe\tATLAS\tand\tCMS\tdetectors.",
      "content_length": 531,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 328,
      "content": "Colophon\n\nThe\tanimals\ton\tthe\tcover\tof\tProduction-Ready\tMicroservices\tare\tleafcutter\tbees (of\tthe\tgenus\tMegachile).\tThere\tare\tover\t1,500\tspecies\tof\tthis\tinsect,\twhich\tis widespread\tthroughout\tthe\tworld.\tOne\tspecies\tfrom\tIndonesia,\tMegachile\tpluto, is\tthought\tto\tbe\tthe\tlargest\tbee\tin\tthe\tworld:\tindividuals\tcan\tbe\tup\tto\t0.9–1.5 inches\tlong.\n\nLeafcutter\tbees\tgain\ttheir\tname\tfrom\tthe\tfemale’s\tcommon\tactivity\tof\tcutting neat\tsemicircles\tfrom\tthe\tedges\tof\tleaves.\tShe\tthen\tcarries\tthese\tdisc-shaped\tleaf pieces\tto\ther\tnest,\twhich\tcan\tbe\tbuilt\tin\tvarious\tplaces\tsuch\tas\tready-made hollows,\tburrows\tin\tthe\tground,\tor\trotting\twood\tthat\tthe\tbee\tcan\tbore\tinto.\tNests are\tbetween\t4–8\tinches\tlong,\tcylindrical,\tand\tlined\twith\tleaf\tpieces\tin\tan overlapping\tpattern.\tThese\tinsects\tdo\tnot\tlive\tin\tcolonies,\tthough\tit’s\tpossible for\tindividuals\tto\tnest\tnear\teach\tother.\n\nThe\tfemales\tarrange\ttheir\tnests\tin\tseparate\tcells\t(building\tfrom\tthe\tinside\tout) and\tlay\tone\tegg\twithin\teach,\talong\twith\ta\tregurgitated\tpollen-and-nectar\tball\tfor the\tlarva\tto\teat.\tIt\tis\ttheorized\tthat\tthe\tleaves\tkeep\tthe\tlarva’s\tfood\tfrom\tdrying out\tuntil\tit\tcan\tbe\teaten.\n\nAdult\tbees\talso\tfeed\ton\tnectar\tand\tpollen,\tand\tare\tvery\tefficient\tpollinators\tdue to\ttheir\tvigorous\tswimming-like\tmotion\twhile\tinside\tflowers\t(which\tshakes\ta great\tdeal\tof\tpollen\tloose\tand\tcoats\tthe\tlong\thairs\ton\tthe\tinsect’s\tabdomen). Females\toften\tneed\tto\ttake\t10–15\ttrips\tto\tprovision\tan\tindividual\tnest\tcell, further\tincreasing\ttheir\teffectiveness\tin\tcross-pollination.\tThus,\tthese\tbees\tare welcome\tinhabitants\tin\tmany\tgardens\tand\tfarms;\tartificial\tnesting\tboxes\tor\ttubes can\tbe\tplaced\tto\tattract\tthem.\n\nMany\tof\tthe\tanimals\ton\tO’Reilly\tcovers\tare\tendangered;\tall\tof\tthem\tare important\tto\tthe\tworld.\tTo\tlearn\tmore\tabout\thow\tyou\tcan\thelp,\tgo\tto animals.oreilly.com.\n\nThe\tcover\timage\tis\tfrom\tLydekker’s\tRoyal\tNatural\tHistory.\tThe\tcover\tfonts\tare URW\tTypewriter\tand\tGuardian\tSans.\tThe\ttext\tfont\tis\tAdobe\tMinion\tPro;\tthe heading\tfont\tis\tAdobe\tMyriad\tCondensed;\tand\tthe\tcode\tfont\tis\tDalton\tMaag’s Ubuntu\tMono.",
      "content_length": 2039,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 329,
      "content": "1.\t Preface\n\n1.\t Who\tThis\tBook\tIs\tWritten\tFor\n\n2.\t What\tThis\tBook\tIs\tNot\n\n3.\t How\tTo\tUse\tThis\tBook\n\n4.\t How\tThis\tBook\tIs\tStructured\n\n5.\t Conventions\tUsed\tin\tThis\tBook\n\n6.\t O’Reilly\tSafari\n\n7.\t How\tto\tContact\tUs\n\n8.\t Acknowledgments\n\n2.\t 1.\tMicroservices\n\n1.\t From\tMonoliths\tto\tMicroservices\n\n2.\t Microservice\tArchitecture\n\n3.\t The\tMicroservice\tEcosystem \t 1.\t Layer\t1:\tHardware\n\n2.\t Layer\t2:\tCommunication\n\n3.\t Layer\t3:\tThe\tApplication\tPlatform\n\n4.\t Layer\t4:\tMicroservices\n\n4.\t Organizational\tChallenges\n\n1.\t The\tInverse\tConway’s\tLaw\n\n2.\t Technical\tSprawl\n\n3.\t More\tWays\tto\tFail",
      "content_length": 578,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 330,
      "content": "4.\t Competition\tfor\tResources\n\n3.\t 2.\tProduction-Readiness\n\n1.\t The\tChallenges\tof\tMicroservice\tStandardization\n\n2.\t Availability:\tThe\tGoal\tof\tStandardization\n\n3.\t Production-Readiness\tStandards\n\n1.\t Stability\n\n2.\t Reliability\n\n3.\t Scalability\n\n4.\t Fault\tTolerance\tand\tCatastrophe-Preparedness\n\n5.\t Performance\n\n6.\t Monitoring\n\n7.\t Documentation\n\n4.\t Implementing\tProduction-Readiness\n\n4.\t 3.\tStability\tand\tReliability\n\n1.\t Principles\tof\tBuilding\tStable\tand\tReliable\tMicroservices\n\n2.\t The\tDevelopment\tCycle\n\n3.\t The\tDeployment\tPipeline\n\n1.\t Staging\n\n2.\t Canary\n\n3.\t Production\n\n4.\t Enforcing\tStable\tand\tReliable\tDeployment\n\n4.\t Dependencies",
      "content_length": 640,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 331,
      "content": "5.\t Routing\tand\tDiscovery\n\n6.\t Deprecation\tand\tDecommissioning\n\n7.\t Evaluate\tYour\tMicroservice \t 1.\t The\tDevelopment\tCycle\n\n2.\t The\tDeployment\tPipeline\n\n3.\t Dependencies\n\n4.\t Routing\tand\tDiscovery\n\n5.\t Deprecation\tand\tDecommissioning\n\n5.\t 4.\tScalability\tand\tPerformance\n\n1.\t Principles\tof\tMicroservice\tScalability\tand\tPerformance\n\n2.\t Knowing\tthe\tGrowth\tScale\n\n1.\t The\tQualitative\tGrowth\tScale\n\n2.\t The\tQuantitative\tGrowth\tScale\n\n3.\t Efficient\tUse\tof\tResources\n\n4.\t Resource\tAwareness\n\n1.\t Resource\tRequirements\n\n2.\t Resource\tBottlenecks\n\n5.\t Capacity\tPlanning\n\n6.\t Dependency\tScaling\n\n7.\t Traffic\tManagement\n\n8.\t Task\tHandling\tand\tProcessing\n\n1.\t Programming\tLanguage\tLimitations",
      "content_length": 680,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 332,
      "content": "2.\t Handling\tRequests\tand\tProcessing\tTasks\tEfficiently\n\n9.\t Scalable\tData\tStorage\n\n1.\t Database\tChoice\tin\tMicroservice\tEcosystems\n\n2.\t Database\tChallenges\tin\tMicroservice\tArchitecture\n\n10.\t Evaluate\tYour\tMicroservice\n\n1.\t Knowing\tthe\tGrowth\tScale\n\n2.\t Efficient\tUse\tof\tResources\n\n3.\t Resource\tAwareness\n\n4.\t Capacity\tPlanning\n\n5.\t Dependency\tScaling\n\n6.\t Traffic\tManagement\n\n7.\t Task\tHandling\tand\tProcessing\n\n8.\t Scalable\tData\tStorage\n\n6.\t 5.\tFault\tTolerance\tand\tCatastrophe-Preparedness\n\n1.\t Principles\tof\tBuilding\tFault-Tolerant\tMicroservices\n\n2.\t Avoiding\tSingle\tPoints\tof\tFailure\n\n3.\t Catastrophes\tand\tFailure\tScenarios\n\n1.\t Common\tFailures\tAcross\tan\tEcosystem\n\n2.\t Hardware\tFailures\n\n3.\t Communication-Level\tand\tApplication\tPlatform–Level\tFailures\n\n4.\t Dependency\tFailures\n\n5.\t Internal\t(Microservice)\tFailures",
      "content_length": 815,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 333,
      "content": "4.\t Resiliency\tTesting \t 1.\t Code\tTesting\n\n2.\t Load\tTesting\n\n3.\t Chaos\tTesting\n\n5.\t Failure\tDetection\tand\tRemediation\n\n6.\t Incidents\tand\tOutages\n\n1.\t Appropriate\tCategorization\n\n2.\t The\tFive\tStages\tof\tIncident\tResponse\n\n7.\t Evaluate\tYour\tMicroservice\n\n1.\t Avoiding\tSingle\tPoints\tof\tFailure\n\n2.\t Catastrophes\tand\tFailure\tScenarios\n\n3.\t Resiliency\tTesting\n\n4.\t Failure\tDetection\tand\tRemediation\n\n7.\t 6.\tMonitoring\n\n1.\t Principles\tof\tMicroservice\tMonitoring\n\n2.\t Key\tMetrics\n\n3.\t Logging\n\n4.\t Dashboards\n\n5.\t Alerting\n\n1.\t Setting\tup\tEffective\tAlerting\n\n2.\t Handling\tAlerts\n\n6.\t On-Call\tRotations",
      "content_length": 593,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 334,
      "content": "7.\t Evaluate\tYour\tMicroservice\n\n1.\t Key\tMetrics\n\n2.\t Logging\n\n3.\t Dashboards\n\n4.\t Alerting\n\n5.\t On-Call\tRotations\n\n8.\t 7.\tDocumentation\tand\tUnderstanding\n\n1.\t Principles\tof\tMicroservice\tDocumentation\tand\tUnderstanding\n\n2.\t Microservice\tDocumentation\n\n1.\t Description\n\n2.\t Architecture\tDiagram\n\n3.\t Contact\tand\tOn-Call\tInformation\n\n4.\t Links\n\n5.\t Onboarding\tand\tDevelopment\tGuide\n\n6.\t Request\tFlows,\tEndpoints,\tand\tDependencies\n\n7.\t On-Call\tRunbooks\n\n8.\t FAQ\n\n3.\t Microservice\tUnderstanding \t 1.\t Architecture\tReviews\n\n2.\t Production-Readiness\tAudits\n\n3.\t Production-Readiness\tRoadmaps\n\n4.\t Production-Readiness\tAutomation",
      "content_length": 621,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 335,
      "content": "4.\t Evaluate\tYour\tMicroservice\n\n1.\t Microservice\tDocumentation\n\n2.\t Microservice\tUnderstanding\n\n9.\t A.\tProduction-Readiness\tChecklist\n\n1.\t A\tProduction-Ready\tService\tIs\tStable\tand\tReliable\n\n2.\t A\tProduction-Ready\tService\tIs\tScalable\tand\tPerformant\n\n3.\t A\tProduction-Ready\tService\tIs\tFault\tTolerant\tand\tPrepared\tfor\tAny Catastrophe\n\n4.\t A\tProduction-Ready\tService\tIs\tProperly\tMonitored\n\n5.\t A\tProduction-Ready\tService\tIs\tDocumented\tand\tUnderstood\n\n10.\t B.\tEvaluate\tYour\tMicroservice \t 1.\t Stability\tand\tReliability\n\n1.\t The\tDevelopment\tCycle\n\n2.\t The\tDeployment\tPipeline\n\n3.\t Dependencies\n\n4.\t Routing\tand\tDiscovery\n\n5.\t Deprecation\tand\tDecommissioning\n\n2.\t Scalability\tand\tPerformance\n\n1.\t Knowing\tthe\tGrowth\tScale\n\n2.\t Efficient\tUse\tof\tResources\n\n3.\t Resource\tAwareness\n\n4.\t Capacity\tPlanning\n\n5.\t Dependency\tScaling",
      "content_length": 817,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 336,
      "content": "6.\t Traffic\tManagement\n\n7.\t Task\tHandling\tand\tProcessing\n\n8.\t Scalable\tData\tStorage\n\n3.\t Fault\tTolerance\tand\tCatastrophe-Preparedness\n\n1.\t Avoiding\tSingle\tPoints\tof\tFailure\n\n2.\t Catastrophes\tand\tFailure\tScenarios\n\n3.\t Resiliency\tTesting\n\n4.\t Failure\tDetection\tand\tRemediation\n\n4.\t Monitoring\n\n1.\t Key\tMetrics\n\n2.\t Logging\n\n3.\t Dashboards\n\n4.\t Alerting\n\n5.\t On-Call\tRotations\n\n5.\t Documentation\tand\tUnderstanding \t 1.\t Microservice\tDocumentation\n\n2.\t Microservice\tUnderstanding\n\n11.\t Glossary\n\n12.\t Index",
      "content_length": 503,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 337,
      "content": "Table\tof\tContents\n\nPreface\n\nWho\tThis\tBook\tIs\tWritten\tFor What\tThis\tBook\tIs\tNot How\tTo\tUse\tThis\tBook How\tThis\tBook\tIs\tStructured Conventions\tUsed\tin\tThis\tBook O’Reilly\tSafari How\tto\tContact\tUs Acknowledgments\n\n1.\tMicroservices\n\nFrom\tMonoliths\tto\tMicroservices Microservice\tArchitecture The\tMicroservice\tEcosystem\n\nLayer\t1:\tHardware Layer\t2:\tCommunication\n\nRPCs,\t messaging Service\t registry,\tand\tload\tbalancing\n\nendpoints,\n\nand\n\ndiscovery,\n\nservice\n\nLayer\t3:\tThe\tApplication\tPlatform\n\nSelf-service\t development\ttools The\tdevelopment\tcycle Test,\t build,\t package,\t and release Deployment\tpipeline Logging\tand\tmonitoring\n\ninternal\n\nLayer\t4:\tMicroservices\n\nOrganizational\tChallenges\n\nThe\tInverse\tConway’s\tLaw Technical\tSprawl More\tWays\tto\tFail Competition\tfor\tResources\n\n2.\tProduction-Readiness\n\nThe\tChallenges\tof\tMicroservice\tStandardization",
      "content_length": 838,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 338,
      "content": "Availability:\tThe\tGoal\tof\tStandardization Production-Readiness\tStandards\n\nStability Reliability Scalability Fault\tTolerance\tand\tCatastrophe-Preparedness Performance Monitoring Documentation Implementing\tProduction-Readiness\n\n3.\tStability\tand\tReliability\n\nPrinciples\tof\tBuilding\tStable\tand\tReliable\tMicroservices The\tDevelopment\tCycle The\tDeployment\tPipeline\n\nStaging\n\nFull\tstaging Partial\tstaging\n\nCanary Production Enforcing\tStable\tand\tReliable\tDeployment\n\nDependencies Routing\tand\tDiscovery Deprecation\tand\tDecommissioning Evaluate\tYour\tMicroservice\n\nThe\tDevelopment\tCycle The\tDeployment\tPipeline Dependencies Routing\tand\tDiscovery Deprecation\tand\tDecommissioning\n\n4.\tScalability\tand\tPerformance\n\nPrinciples\tof\tMicroservice\tScalability\tand\tPerformance Knowing\tthe\tGrowth\tScale\n\nThe\tQualitative\tGrowth\tScale The\tQuantitative\tGrowth\tScale\n\nEfficient\tUse\tof\tResources Resource\tAwareness\n\nResource\tRequirements Resource\tBottlenecks\n\nCapacity\tPlanning",
      "content_length": 948,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 339,
      "content": "Dependency\tScaling Traffic\tManagement Task\tHandling\tand\tProcessing\n\nProgramming\tLanguage\tLimitations Handling\t Requests\t Efficiently\n\nand\t Processing\t Tasks\n\nScalable\tData\tStorage\n\nDatabase\tChoice\tin\tMicroservice\tEcosystems Database\tChallenges\tin\tMicroservice\tArchitecture\n\nEvaluate\tYour\tMicroservice\n\nKnowing\tthe\tGrowth\tScale Efficient\tUse\tof\tResources Resource\tAwareness Capacity\tPlanning Dependency\tScaling Traffic\tManagement Task\tHandling\tand\tProcessing Scalable\tData\tStorage\n\n5.\tFault\tTolerance\tand\tCatastrophe-Preparedness\n\nPrinciples\tof\tBuilding\tFault-Tolerant\tMicroservices Avoiding\tSingle\tPoints\tof\tFailure Catastrophes\tand\tFailure\tScenarios\n\nCommon\tFailures\tAcross\tan\tEcosystem Hardware\tFailures Communication-Level\tand\tApplication\tPlatform– Level\tFailures Dependency\tFailures Internal\t(Microservice)\tFailures\n\nResiliency\tTesting\n\nCode\tTesting\n\nLint\ttests Unit\ttests Integration\ttests End-to-end\ttests Automating\tcode\ttests\n\nLoad\tTesting\n\nFundamentals\tof\tload\ttesting Running\t load\t tests\t in\t staging and\tproduction",
      "content_length": 1026,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 340,
      "content": "Automating\tload\ttesting\n\nChaos\tTesting Failure\tDetection\tand\tRemediation Incidents\tand\tOutages\n\nAppropriate\tCategorization\n\nCategorizing\tmicroservices Categorizing\t outages\n\nincidents\n\nThe\tFive\tStages\tof\tIncident\tResponse\n\nAssessment Coordination Mitigation Resolution Follow-up\n\nEvaluate\tYour\tMicroservice\n\nAvoiding\tSingle\tPoints\tof\tFailure Catastrophes\tand\tFailure\tScenarios Resiliency\tTesting Failure\tDetection\tand\tRemediation\n\n6.\tMonitoring\n\nPrinciples\tof\tMicroservice\tMonitoring Key\tMetrics Logging Dashboards Alerting\n\nSetting\tup\tEffective\tAlerting Handling\tAlerts\n\nOn-Call\tRotations Evaluate\tYour\tMicroservice\n\nKey\tMetrics Logging Dashboards Alerting On-Call\tRotations\n\n7.\tDocumentation\tand\tUnderstanding\n\nPrinciples\tof\tMicroservice\tDocumentation\tand\tUnderstanding Microservice\tDocumentation\n\nDescription Architecture\tDiagram\n\nand",
      "content_length": 837,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 341,
      "content": "Contact\tand\tOn-Call\tInformation Links Onboarding\tand\tDevelopment\tGuide Request\tFlows,\tEndpoints,\tand\tDependencies On-Call\tRunbooks FAQ\n\nMicroservice\tUnderstanding\n\nArchitecture\tReviews Production-Readiness\tAudits Production-Readiness\tRoadmaps Production-Readiness\tAutomation\n\nEvaluate\tYour\tMicroservice\n\nMicroservice\tDocumentation Microservice\tUnderstanding\n\nA.\tProduction-Readiness\tChecklist\n\nA\tProduction-Ready\tService\tIs\tStable\tand\tReliable A\tProduction-Ready\tService\tIs\tScalable\tand\tPerformant A\tProduction-Ready\tService\tIs\tFault\tTolerant\tand\tPrepared\tfor\tAny Catastrophe A\tProduction-Ready\tService\tIs\tProperly\tMonitored A\tProduction-Ready\tService\tIs\tDocumented\tand\tUnderstood\n\nB.\tEvaluate\tYour\tMicroservice\n\nStability\tand\tReliability\n\nThe\tDevelopment\tCycle The\tDeployment\tPipeline Dependencies Routing\tand\tDiscovery Deprecation\tand\tDecommissioning\n\nScalability\tand\tPerformance\n\nKnowing\tthe\tGrowth\tScale Efficient\tUse\tof\tResources Resource\tAwareness Capacity\tPlanning Dependency\tScaling Traffic\tManagement Task\tHandling\tand\tProcessing Scalable\tData\tStorage\n\nFault\tTolerance\tand\tCatastrophe-Preparedness\n\nAvoiding\tSingle\tPoints\tof\tFailure",
      "content_length": 1141,
      "extraction_method": "Unstructured"
    },
    {
      "page_number": 342,
      "content": "Glossary Index\n\nCatastrophes\tand\tFailure\tScenarios Resiliency\tTesting Failure\tDetection\tand\tRemediation\n\nMonitoring\n\nKey\tMetrics Logging Dashboards Alerting On-Call\tRotations\n\nDocumentation\tand\tUnderstanding\n\nMicroservice\tDocumentation Microservice\tUnderstanding",
      "content_length": 262,
      "extraction_method": "Unstructured"
    }
  ]
}